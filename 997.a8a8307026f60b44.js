"use strict";(self.webpackChunkshams_hr_web_app=self.webpackChunkshams_hr_web_app||[]).push([[997],{2997:(gt,L,m)=>{m.r(L),m.d(L,{FleetModule:()=>ht});var d=m(6895),U=m(1635),c=m(7155),x=m(3900),J=m(6212);class Y extends J.G{}var Z=m(9172),N=m(5311),C=m(1654),u=m(673),l=m(4006),p=m(5412);class Q{}var e=m(4650),h=m(9057),S=m(5);let T=(()=>{const n=class{constructor(a){this.http=a}getVehicleList(a){return this.http.post(h.b.getVehicleList,a)}getVehicleSearchData(){return this.http.get(h.b.getVehicleSearchData)}getVehicle(a){let i=h.b.getVehicle;return i=i.replace(/{id}/gi,a),this.http.get(i)}getVehicleManageData(){return this.http.get(h.b.getVehicleManageData)}addVehicle(a){return this.http.post(h.b.addVehicle,a)}editVehicle(a){return this.http.post(h.b.editVehicle,a)}deleteVehicle(a){let i=h.b.deleteVehicle;return i=i.replace(/{id}/gi,a),this.http.post(i,null)}};let t=n;return n.\u0275fac=function(i){return new(i||n)(e.LFG(S.o))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),t})();var A=m(5332),b=m(5659),f=m(9549),w=m(4144),y=m(4385),I=m(3238),E=m(2833),F=m(4682),V=m(2043);function D(t,n){1&t&&(e.TgZ(0,"app-form-heading"),e._uU(1," Add Vehicle\n"),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function M(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function k(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function P(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function $(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function G(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function H(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",2)(1,"form",3),e.NdJ("submit",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.addVehicle())}),e.TgZ(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-form-field",7)(6,"mat-label"),e._uU(7,"Code"),e.qZA(),e._UZ(8,"input",8),e.qZA(),e.TgZ(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Plate Number"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Make"),e.qZA(),e.TgZ(16,"mat-select",11),e.NdJ("selectionChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onMakeChange(i))}),e.YNc(17,O,2,2,"mat-option",12),e.qZA()(),e.TgZ(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Model"),e.qZA(),e.TgZ(21,"mat-select",13),e.YNc(22,M,2,2,"mat-option",12),e.qZA()()(),e.TgZ(23,"div",6)(24,"mat-form-field",7)(25,"mat-label"),e._uU(26,"Year"),e.qZA(),e._UZ(27,"input",14),e.qZA(),e.TgZ(28,"mat-form-field",15)(29,"mat-label"),e._uU(30,"Wheel"),e.qZA(),e.TgZ(31,"mat-select",16),e._UZ(32,"mat-option"),e.YNc(33,k,2,2,"mat-option",12),e.qZA()(),e.TgZ(34,"mat-form-field",10)(35,"mat-label"),e._uU(36,"Fuel"),e.qZA(),e.TgZ(37,"mat-select",17),e._UZ(38,"mat-option"),e.YNc(39,P,2,2,"mat-option",12),e.qZA()(),e.TgZ(40,"mat-form-field",15)(41,"mat-label"),e._uU(42,"Color"),e.qZA(),e._UZ(43,"input",18),e.qZA()(),e.TgZ(44,"div",6)(45,"mat-form-field",19)(46,"mat-label"),e._uU(47,"Owner Company"),e.qZA(),e.TgZ(48,"mat-select",20),e.NdJ("selectionChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onCompanyChange(i))}),e._UZ(49,"mat-option"),e.YNc(50,$,2,2,"mat-option",12),e.qZA()(),e.TgZ(51,"mat-form-field",19)(52,"mat-label"),e._uU(53,"Owner Person"),e.qZA(),e.TgZ(54,"mat-select",21),e._UZ(55,"mat-option"),e.YNc(56,G,2,2,"mat-option",12),e.qZA()()()()(),e.TgZ(57,"div",4)(58,"app-crud-reset-button",22),e.NdJ("resetEvent",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.reset())}),e.qZA(),e._UZ(59,"app-crud-add-button",23),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("formGroup",o.manageForm),e.xp6(16),e.Q6J("ngForOf",o.manageData.makeList),e.xp6(5),e.Q6J("ngForOf",o.modelListFiltered),e.xp6(11),e.Q6J("ngForOf",o.manageData.wheelTypeList),e.xp6(6),e.Q6J("ngForOf",o.manageData.fuelTypeList),e.xp6(11),e.Q6J("ngForOf",o.manageData.companyList),e.xp6(6),e.Q6J("ngForOf",o.employeeList),e.xp6(3),e.Q6J("disabled",o.isProcessing)}}let R=(()=>{const n=class{constructor(a,i,s,r,_,v){this.dialogRef=a,this.vehicleService=i,this.employeeService=s,this.ds=r,this.renderer=_,this.data=v,this.isLoaded=!1,this.modelListFiltered=[],this.employeeList=[],this.isProcessing=!1}ngOnInit(){this.manageForm=new l.cw({code:new l.NI("VHC-",[l.kI.required]),plateNumber:new l.NI(null,[l.kI.required]),makeId:new l.NI(null,[l.kI.required]),modelId:new l.NI(null,[l.kI.required]),year:new l.NI(null),ownerCompanyId:new l.NI(null),ownerPersonId:new l.NI(null),wheelType:new l.NI("Four"),fuelType:new l.NI("Petrol"),color:new l.NI(null)}),this.isLoaded=!1,this.sub=this.vehicleService.getVehicleManageData().subscribe(a=>{this.manageData=a.item,this.isLoaded=!0})}onMakeChange(a){this.modelListFiltered=this.manageData.modelList.filter(i=>i.make.id==this.manageForm.value.makeId)??[],this.manageForm.patchValue({modelId:""})}onCompanyChange(a){this.employeeList=[],this.sub=this.employeeService.getEmployeeListByCompany(this.manageForm.value.ownerCompanyId).subscribe(i=>{i?.response.status==u.s.success?(this.employeeList=i.list,this.manageForm.patchValue({ownerPersonId:null})):alert(i?.response.message)})}addVehicle(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(N.J.areYouSureTo))return;let a=new Q;a.code=this.manageForm.value.code,a.plateNumber=this.manageForm.value.plateNumber,a.makeId=this.manageForm.value.makeId,a.modelId=this.manageForm.value.modelId,a.year=this.manageForm.value.year,a.ownerCompanyId=this.manageForm.value.ownerPersonId?null:this.manageForm.value.ownerCompanyId,a.ownerPersonId=this.manageForm.value.ownerPersonId??null,a.wheelType=this.manageForm.value.wheelType,a.fuelType=this.manageForm.value.fuelType,a.color=this.manageForm.value.color,this.isProcessing=!0,this.sub=this.vehicleService.addVehicle(a).subscribe(i=>{this.isProcessing=!1,i?.response.status==u.s.success?(this.reset(),this.closeDialog()):alert(i?.response.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=n;return n.\u0275fac=function(i){return new(i||n)(e.Y36(p.so),e.Y36(T),e.Y36(A.G),e.Y36(b.R),e.Y36(e.Qsj),e.Y36(p.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-vehicle"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row"],[1,"col-12"],[1,"row","form-group"],[1,"form-field","col-2"],["type","text","matInput","","formControlName","code"],["type","text","matInput","","formControlName","plateNumber"],[1,"form-field","col-4"],["formControlName","makeId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","modelId"],["type","number","matInput","","formControlName","year"],[1,"form-field","col-3"],["formControlName","wheelType"],["formControlName","fuelType"],["type","text","matInput","","formControlName","color"],[1,"form-field","col-6"],["formControlName","ownerCompanyId",3,"selectionChange"],["formControlName","ownerPersonId"],[1,"col-2",3,"resetEvent"],[1,"col-2","offset-8",3,"disabled"],[3,"value"]],template:function(i,s){1&i&&(e.YNc(0,D,2,0,"app-form-heading",0),e.YNc(1,H,60,8,"div",1)),2&i&&(e.Q6J("ngIf",s.isLoaded),e.xp6(1),e.Q6J("ngIf",s.isLoaded))},dependencies:[d.sg,d.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,f.KE,f.hX,w.Nt,p.xY,y.gD,I.ey,E.L,F.X,V.H]}),t})();var q=m(1219),K=m(2696),j=m(3667),g=m(7579),B=m(4859);function X(t,n){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function z(t,n){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function W(t,n){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}let ee=(()=>{const n=class{constructor(){this.onSearchChange=new g.x,this.onSearch=new g.x,this.modelListFiltered=[]}ngOnInit(){this.filterForm=new l.cw({searchKey:new l.NI(""),makeId:new l.NI(""),modelId:new l.NI(""),companyId:new l.NI("")}),this.valueChangeSub=this.filterForm.valueChanges.subscribe(a=>{this.onSearchChange.next(a)})}search(){this.onSearch.next()}resetFilter(){this.filterForm.patchValue({searchKey:"",makeId:"",modelId:"",companyId:""})}onMakeChange(a){this.modelListFiltered=this.searchData.modelList.filter(i=>i.make.id==this.filterForm.value.makeId)??[],this.filterForm.patchValue({modelId:""})}ngOnDestroy(){this.valueChangeSub.unsubscribe()}};let t=n;return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vehicle-search-filter"]],inputs:{searchData:"searchData"},outputs:{onSearchChange:"onSearchChange",onSearch:"onSearch"},decls:34,vars:4,consts:[[1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","form-group"],["type","button","mat-button","","color","primary",1,"col-1","offset-1","mt-2",3,"click"],[1,"form-field","col-2"],["formControlName","makeId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","modelId"],[1,"form-field","col-3"],["formControlName","companyId"],["appearance","outline","floatLabel","always",1,"form-field","col-2"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-1"],["type","submit","mat-raised-button","","color","primary",1,"col-12","offset-0","mt-2"],[1,"material-icons"],[3,"value"]],template:function(i,s){1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return s.search()}),e.TgZ(1,"div",1)(2,"button",2),e.NdJ("click",function(){return s.resetFilter()}),e._uU(3,"Reset"),e.qZA(),e.TgZ(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Make"),e.qZA(),e.TgZ(7,"mat-select",4),e.NdJ("selectionChange",function(_){return s.onMakeChange(_)}),e.TgZ(8,"mat-option",5),e._uU(9,"All"),e.qZA(),e.YNc(10,X,2,2,"mat-option",6),e.qZA()(),e.TgZ(11,"mat-form-field",3)(12,"mat-label"),e._uU(13,"Model"),e.qZA(),e.TgZ(14,"mat-select",7)(15,"mat-option",5),e._uU(16,"All"),e.qZA(),e.YNc(17,z,2,2,"mat-option",6),e.qZA()(),e.TgZ(18,"mat-form-field",8)(19,"mat-label"),e._uU(20,"Company"),e.qZA(),e.TgZ(21,"mat-select",9)(22,"mat-option",5),e._uU(23,"All"),e.qZA(),e.YNc(24,W,2,2,"mat-option",6),e.qZA()(),e.TgZ(25,"mat-form-field",10)(26,"mat-label"),e._uU(27,"Search"),e.qZA(),e._UZ(28,"input",11),e.qZA(),e.TgZ(29,"div",12)(30,"button",13)(31,"i",14),e._uU(32,"search"),e.qZA(),e._uU(33," Search"),e.qZA()()()()),2&i&&(e.Q6J("formGroup",s.filterForm),e.xp6(10),e.Q6J("ngForOf",s.searchData.makeList),e.xp6(7),e.Q6J("ngForOf",s.modelListFiltered),e.xp6(7),e.Q6J("ngForOf",s.searchData.companyList))},dependencies:[d.sg,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.KE,f.hX,w.Nt,B.lW,y.gD,I.ey]}),t})();class te{}var ie=m(7786);function oe(t,n){1&t&&(e.TgZ(0,"app-form-heading"),e._uU(1," Edit Vehicle\n"),e.qZA())}function ne(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function ae(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function le(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function se(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function me(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function re(t,n){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function ce(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",2)(1,"form",3),e.NdJ("submit",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.editVehicle())}),e.TgZ(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-form-field",7)(6,"mat-label"),e._uU(7,"Code"),e.qZA(),e._UZ(8,"input",8),e.qZA(),e.TgZ(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Plate Number"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Make"),e.qZA(),e.TgZ(16,"mat-select",11),e.NdJ("selectionChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onMakeChange(i))}),e.YNc(17,ne,2,2,"mat-option",12),e.qZA()(),e.TgZ(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Model"),e.qZA(),e.TgZ(21,"mat-select",13),e.YNc(22,ae,2,2,"mat-option",12),e.qZA()()(),e.TgZ(23,"div",6)(24,"mat-form-field",7)(25,"mat-label"),e._uU(26,"Year"),e.qZA(),e._UZ(27,"input",14),e.qZA(),e.TgZ(28,"mat-form-field",15)(29,"mat-label"),e._uU(30,"Wheel"),e.qZA(),e.TgZ(31,"mat-select",16),e._UZ(32,"mat-option"),e.YNc(33,le,2,2,"mat-option",12),e.qZA()(),e.TgZ(34,"mat-form-field",10)(35,"mat-label"),e._uU(36,"Fuel"),e.qZA(),e.TgZ(37,"mat-select",17),e._UZ(38,"mat-option"),e.YNc(39,se,2,2,"mat-option",12),e.qZA()(),e.TgZ(40,"mat-form-field",15)(41,"mat-label"),e._uU(42,"Color"),e.qZA(),e._UZ(43,"input",18),e.qZA()(),e.TgZ(44,"div",6)(45,"mat-form-field",19)(46,"mat-label"),e._uU(47,"Owner Company"),e.qZA(),e.TgZ(48,"mat-select",20),e.NdJ("selectionChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onCompanyChange(i))}),e._UZ(49,"mat-option"),e.YNc(50,me,2,2,"mat-option",12),e.qZA()(),e.TgZ(51,"mat-form-field",19)(52,"mat-label"),e._uU(53,"Owner Person"),e.qZA(),e.TgZ(54,"mat-select",21),e._UZ(55,"mat-option"),e.YNc(56,re,2,2,"mat-option",12),e.qZA()()()()(),e.TgZ(57,"div",4)(58,"app-crud-reset-button",22),e.NdJ("resetEvent",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.reset())}),e.qZA(),e._UZ(59,"app-crud-edit-button",23),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("formGroup",o.manageForm),e.xp6(7),e.Q6J("disabled",!0),e.xp6(9),e.Q6J("ngForOf",o.manageData.makeList),e.xp6(5),e.Q6J("ngForOf",o.modelListFiltered),e.xp6(11),e.Q6J("ngForOf",o.manageData.wheelTypeList),e.xp6(6),e.Q6J("ngForOf",o.manageData.fuelTypeList),e.xp6(11),e.Q6J("ngForOf",o.manageData.companyList),e.xp6(6),e.Q6J("ngForOf",o.employeeList),e.xp6(3),e.Q6J("disabled",o.isProcessing)}}let de=(()=>{const n=class{constructor(a,i,s,r,_,v){this.dialogRef=a,this.vehicleService=i,this.employeeService=s,this.ds=r,this.renderer=_,this.data=v,this.isLoaded=!1,this.modelListFiltered=[],this.employeeList=[],this.isProcessing=!1}ngOnInit(){this.manageForm=new l.cw({code:new l.NI({value:null,disabled:!0},[l.kI.required]),plateNumber:new l.NI(null,[l.kI.required]),makeId:new l.NI(null,[l.kI.required]),modelId:new l.NI(null,[l.kI.required]),year:new l.NI(null),ownerCompanyId:new l.NI(null),ownerPersonId:new l.NI(null),wheelType:new l.NI(null),fuelType:new l.NI(null),color:new l.NI(null),active:new l.NI(!0,[l.kI.required])}),this.isLoaded=!1,this.sub=this.vehicleService.getVehicleManageData().pipe((0,x.w)(a=>(this.manageData=a.item,this.vehicleService.getVehicle(this.data?.id)))).subscribe(a=>{this.isLoaded=!0;let i=a.item;this.modelListFiltered=this.manageData.modelList.filter(s=>s.make.id==i.make?.id)??[],this.manageForm.patchValue({code:i.code,plateNumber:i.plateNumber,makeId:i.make.id,modelId:i.model?.id,year:i.year,ownerCompanyId:i.ownerCompany?.id,ownerPersonId:i.ownerPerson?.id,wheelType:i.wheelType,fuelType:i.fuelType,color:i.color,active:i.active}),(null!=i.ownerCompany||null!=i.ownerPerson)&&(this.sub=this.employeeService.getEmployeeListByCompany(this.manageForm.value.ownerCompanyId).subscribe(s=>{s?.response.status==u.s.success?(this.employeeList=s.list,this.manageForm.patchValue({ownerPersonId:i.ownerPerson?.id})):alert(s?.response.message)}))})}reset(){this.manageForm.reset()}onMakeChange(a){this.modelListFiltered=this.manageData.modelList.filter(i=>i.make.id==this.manageForm.value.makeId)??[],this.manageForm.patchValue({modelId:""})}onCompanyChange(a){this.employeeList=[],this.sub=this.employeeService.getEmployeeListByCompany(this.manageForm.value.ownerCompanyId).subscribe(i=>{i?.response.status==u.s.success?(this.employeeList=i.list,this.manageForm.patchValue({ownerPersonId:null})):alert(i?.response.message)})}editVehicle(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(N.J.areYouSureTo))return;let a=new te;a.id=this.data?.id,a.code=this.data.code,a.plateNumber=this.manageForm.value.plateNumber,a.makeId=this.manageForm.value.makeId,a.modelId=this.manageForm.value.modelId,a.year=this.manageForm.value.year,a.ownerCompanyId=this.manageForm.value.ownerCompanyId,a.ownerPersonId=this.manageForm.value.ownerPersonId,a.wheelType=this.manageForm.value.wheelType,a.fuelType=this.manageForm.value.fuelType,a.color=this.manageForm.value.color,a.active=this.manageForm.value.active,this.isProcessing=!0,this.sub=this.vehicleService.editVehicle(a).subscribe(i=>{this.isProcessing=!1,i?.status==u.s.success?(this.reset(),this.closeDialog()):alert(i?.message)})}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=n;return n.\u0275fac=function(i){return new(i||n)(e.Y36(p.so),e.Y36(T),e.Y36(A.G),e.Y36(b.R),e.Y36(e.Qsj),e.Y36(p.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-vehicle"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row"],[1,"col-12"],[1,"row","form-group"],[1,"form-field","col-2"],["type","text","matInput","","formControlName","code",3,"disabled"],["type","text","matInput","","formControlName","plateNumber"],[1,"form-field","col-4"],["formControlName","makeId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","modelId"],["type","number","matInput","","formControlName","year"],[1,"form-field","col-3"],["formControlName","wheelType"],["formControlName","fuelType"],["type","text","matInput","","formControlName","color"],[1,"form-field","col-6"],["formControlName","ownerCompanyId",3,"selectionChange"],["formControlName","ownerPersonId"],[1,"col-2",3,"resetEvent"],[1,"col-2","offset-8",3,"disabled"],[3,"value"]],template:function(i,s){1&i&&(e.YNc(0,oe,2,0,"app-form-heading",0),e.YNc(1,ce,60,9,"div",1)),2&i&&(e.Q6J("ngIf",s.isLoaded),e.xp6(1),e.Q6J("ngIf",s.isLoaded))},dependencies:[d.sg,d.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,f.KE,f.hX,w.Nt,p.xY,y.gD,I.ey,ie.W,F.X,V.H]}),t})();var pe=m(8064);function ue(t,n){1&t&&(e.TgZ(0,"app-form-heading"),e._uU(1," View Vehicle\n"),e.qZA())}function he(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function fe(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function _e(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function ge(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function ve(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Ze(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Ce(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"form",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-form-field",7)(6,"mat-label"),e._uU(7,"Code"),e.qZA(),e._UZ(8,"input",8),e.qZA(),e.TgZ(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Plate Number"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Make"),e.qZA(),e.TgZ(16,"mat-select",11),e.YNc(17,he,2,2,"mat-option",12),e.qZA()(),e.TgZ(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Model"),e.qZA(),e.TgZ(21,"mat-select",13),e.YNc(22,fe,2,2,"mat-option",12),e.qZA()()(),e.TgZ(23,"div",6)(24,"mat-form-field",7)(25,"mat-label"),e._uU(26,"Year"),e.qZA(),e._UZ(27,"input",14),e.qZA(),e.TgZ(28,"mat-form-field",15)(29,"mat-label"),e._uU(30,"Wheel"),e.qZA(),e.TgZ(31,"mat-select",16),e._UZ(32,"mat-option"),e.YNc(33,_e,2,2,"mat-option",12),e.qZA()(),e.TgZ(34,"mat-form-field",10)(35,"mat-label"),e._uU(36,"Fuel"),e.qZA(),e.TgZ(37,"mat-select",17),e._UZ(38,"mat-option"),e.YNc(39,ge,2,2,"mat-option",12),e.qZA()(),e.TgZ(40,"mat-form-field",15)(41,"mat-label"),e._uU(42,"Color"),e.qZA(),e._UZ(43,"input",18),e.qZA()(),e.TgZ(44,"div",6)(45,"mat-form-field",19)(46,"mat-label"),e._uU(47,"Owner Company"),e.qZA(),e.TgZ(48,"mat-select",20),e._UZ(49,"mat-option"),e.YNc(50,ve,2,2,"mat-option",12),e.qZA()(),e.TgZ(51,"mat-form-field",19)(52,"mat-label"),e._uU(53,"Owner Person"),e.qZA(),e.TgZ(54,"mat-select",21),e._UZ(55,"mat-option"),e.YNc(56,Ze,2,2,"mat-option",12),e.qZA()()()()()()()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("formGroup",o.manageForm),e.xp6(7),e.Q6J("disabled",!0),e.xp6(9),e.Q6J("ngForOf",o.manageData.makeList),e.xp6(5),e.Q6J("ngForOf",o.modelListFiltered),e.xp6(11),e.Q6J("ngForOf",o.manageData.wheelTypeList),e.xp6(6),e.Q6J("ngForOf",o.manageData.fuelTypeList),e.xp6(11),e.Q6J("ngForOf",o.manageData.companyList),e.xp6(6),e.Q6J("ngForOf",o.employeeList)}}let Te=(()=>{const n=class{constructor(a,i,s,r,_,v,ft,_t){this.dialogRef=a,this.menuRoleService=i,this.vehicleService=s,this.employeeService=r,this.ds=_,this.renderer=v,this.fileService=ft,this.data=_t,this.isLoaded=!1,this.modelListFiltered=[],this.employeeList=[]}ngOnInit(){this.manageForm=new l.cw({code:new l.NI({value:null,disabled:!0},[l.kI.required]),plateNumber:new l.NI({value:null,disabled:!0},[l.kI.required]),makeId:new l.NI({value:null,disabled:!0},[l.kI.required]),modelId:new l.NI({value:null,disabled:!0},[l.kI.required]),year:new l.NI({value:null,disabled:!0}),ownerCompanyId:new l.NI({value:null,disabled:!0}),ownerPersonId:new l.NI({value:null,disabled:!0}),wheelType:new l.NI({value:null,disabled:!0}),fuelType:new l.NI({value:null,disabled:!0}),color:new l.NI({value:null,disabled:!0}),active:new l.NI({value:null,disabled:!0},[l.kI.required])}),this.isLoaded=!1,this.sub=this.vehicleService.getVehicleManageData().pipe((0,x.w)(a=>(this.manageData=a.item,this.vehicleService.getVehicle(this.data?.id)))).subscribe(a=>{this.isLoaded=!0;let i=a.item;this.modelListFiltered=this.manageData.modelList.filter(s=>s.make.id==i.make?.id)??[],this.manageForm.patchValue({code:i.code,plateNumber:i.plateNumber,makeId:i.make.id,modelId:i.model?.id,year:i.year,ownerCompanyId:i.ownerCompany?.id,ownerPersonId:i.ownerPerson?.id,wheelType:i.wheelType,fuelType:i.fuelType,color:i.color,active:i.active}),(null!=i.ownerCompany||null!=i.ownerPerson)&&(this.sub=this.employeeService.getEmployeeListByCompany(this.manageForm.value.ownerCompanyId).subscribe(s=>{s?.response.status==u.s.success?(this.employeeList=s.list,this.manageForm.patchValue({ownerPersonId:i.ownerPerson?.id})):alert(s?.response.message)}))})}ngOnDestroy(){this.sub?.unsubscribe()}};let t=n;return n.\u0275fac=function(i){return new(i||n)(e.Y36(p.so),e.Y36(q.K),e.Y36(T),e.Y36(A.G),e.Y36(b.R),e.Y36(e.Qsj),e.Y36(pe.I),e.Y36(p.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-vehicle"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup"],[1,"row"],[1,"col-12"],[1,"row","form-group"],[1,"form-field","col-2"],["type","text","matInput","","formControlName","code",3,"disabled"],["type","text","matInput","","formControlName","plateNumber"],[1,"form-field","col-4"],["formControlName","makeId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","modelId"],["type","number","matInput","","formControlName","year"],[1,"form-field","col-3"],["formControlName","wheelType"],["formControlName","fuelType"],["type","text","matInput","","formControlName","color"],[1,"form-field","col-6"],["formControlName","ownerCompanyId"],["formControlName","ownerPersonId"],[3,"value"]],template:function(i,s){1&i&&(e.YNc(0,ue,2,0,"app-form-heading",0),e.YNc(1,Ce,57,8,"div",1)),2&i&&(e.Q6J("ngIf",s.isLoaded),e.xp6(1),e.Q6J("ngIf",s.isLoaded))},dependencies:[d.sg,d.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,f.KE,f.hX,w.Nt,p.xY,y.gD,I.ey,V.H]}),t})();var we=m(7974),ye=m(4521),Ie=m(1837),xe=m(1763),Ne=m(7268);const Ae=["page"];function be(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Code "),e.qZA())}function Ve(t,n){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.code," ")}}function qe(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," PlateNumber "),e.qZA())}function Le(t,n){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.plateNumber," ")}}function Fe(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Make "),e.qZA())}function Ue(t,n){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.make," ")}}function Je(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Model "),e.qZA())}function Ye(t,n){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.model," ")}}function Qe(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Year "),e.qZA())}function Se(t,n){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.year," ")}}function Ee(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Owner "),e.qZA())}function De(t,n){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij("",o.ownerCompany," ")}}function Oe(t,n){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij("",o.ownerPerson," ")}}function Me(t,n){if(1&t&&(e.TgZ(0,"td",27),e.YNc(1,De,2,1,"span",28),e.YNc(2,Oe,2,1,"span",28),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.Q6J("ngIf",null!=o.ownerCompany&&null==o.ownerPerson),e.xp6(1),e.Q6J("ngIf",null!=o.ownerPerson)}}function ke(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Wheel "),e.qZA())}function Pe(t,n){if(1&t&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.wheelType," ")}}function $e(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Fuel "),e.qZA())}function Ge(t,n){if(1&t&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.fuelType," ")}}function He(t,n){1&t&&(e.TgZ(0,"th",25),e._uU(1," Color "),e.qZA())}function Re(t,n){if(1&t&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.color," ")}}function Ke(t,n){1&t&&e._UZ(0,"th",30)}function je(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-edit-action-icon",35),e.NdJ("editEvent",function(){e.CHM(o);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.edit(i))}),e.qZA()}if(2&t){const o=e.oxw().$implicit;e.Q6J("item",o)}}function Be(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-delete-action-icon",36),e.NdJ("deleteEvent",function(){e.CHM(o);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.delete(i))}),e.qZA()}if(2&t){const o=e.oxw().$implicit;e.Q6J("item",o)}}function Xe(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"td",31)(1,"app-view-action-icon",32),e.NdJ("viewEvent",function(){const s=e.CHM(o).$implicit,r=e.oxw();return e.KtG(r.view(s))}),e.qZA(),e.YNc(2,je,1,1,"app-edit-action-icon",33),e.YNc(3,Be,1,1,"app-delete-action-icon",34),e.qZA()}if(2&t){const o=n.$implicit,a=e.oxw();e.xp6(1),e.Q6J("item",o),e.xp6(1),e.Q6J("ngIf",a.allowEdit),e.xp6(1),e.Q6J("ngIf",a.allowDelete)}}function ze(t,n){1&t&&e._UZ(0,"tr",37)}function We(t,n){1&t&&e._UZ(0,"tr",38)}const et=function(){return[10,20,50]};let tt=(()=>{const n=class{constructor(a,i){this.menuRoleService=a,this.dialog=i,this.moreEvent=new g.x,this.editEvent=new g.x,this.deleteEvent=new g.x,this.displayedColumns=["code","plateNumber","make","model","year","owner","wheel","fuel","color","manage"],this.baseUrl=(0,h.S)(),this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(Z.w.Fleet,C.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(Z.w.Fleet,C.k.delete)}ngOnChanges(a){this.vehicleList.paginator=this.paginator}ngAfterViewInit(){this.vehicleList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(a){this.dialog.open(de,{data:a,width:"85%",maxHeight:"auto"}).afterClosed().subscribe(s=>{1==s&&this.editEvent.next()})}view(a){this.dialog.open(Te,{data:a,width:"85%",maxHeight:"auto"})}delete(a){this.deleteEvent.next(a)}};let t=n;return n.\u0275fac=function(i){return new(i||n)(e.Y36(q.K),e.Y36(p.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vehicle-list"]],viewQuery:function(i,s){if(1&i&&e.Gf(Ae,5),2&i){let r;e.iGM(r=e.CRH())&&(s.paginator=r.first)}},inputs:{vehicleList:"vehicleList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[e.TTD],decls:39,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-1",4,"matCellDef"],["matColumnDef","plateNumber"],["matColumnDef","make"],["matColumnDef","model"],["matColumnDef","year"],["matColumnDef","owner"],["mat-cell","","class","col-3",4,"matCellDef"],["matColumnDef","wheel"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","fuel"],["matColumnDef","color"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","text-end","style","width: 12rem;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col-1"],["mat-cell","",1,"col-3"],[4,"ngIf"],["mat-cell","",1,"col"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"text-end",2,"width","12rem"],[3,"item","viewEvent"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,be,2,0,"th",3),e.YNc(4,Ve,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,qe,2,0,"th",3),e.YNc(7,Le,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,Fe,2,0,"th",3),e.YNc(10,Ue,2,1,"td",4),e.BQk(),e.ynx(11,7),e.YNc(12,Je,2,0,"th",3),e.YNc(13,Ye,2,1,"td",4),e.BQk(),e.ynx(14,8),e.YNc(15,Qe,2,0,"th",3),e.YNc(16,Se,2,1,"td",4),e.BQk(),e.ynx(17,9),e.YNc(18,Ee,2,0,"th",3),e.YNc(19,Me,3,2,"td",10),e.BQk(),e.ynx(20,11),e.YNc(21,ke,2,0,"th",3),e.YNc(22,Pe,2,1,"td",12),e.BQk(),e.ynx(23,13),e.YNc(24,$e,2,0,"th",3),e.YNc(25,Ge,2,1,"td",12),e.BQk(),e.ynx(26,14),e.YNc(27,He,2,0,"th",3),e.YNc(28,Re,2,1,"td",12),e.BQk(),e.ynx(29,15),e.YNc(30,Ke,1,0,"th",16),e.YNc(31,Xe,4,3,"td",17),e.BQk(),e.YNc(32,ze,1,0,"tr",18),e.YNc(33,We,1,0,"tr",19),e.qZA(),e._UZ(34,"mat-paginator",20,21),e.qZA(),e.TgZ(36,"div",22)(37,"div",23)(38,"app-server-pagination",24),e.NdJ("loadMore",function(){return s.more()}),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("dataSource",s.vehicleList),e.xp6(31),e.Q6J("matHeaderRowDef",s.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,et)),e.xp6(4),e.Q6J("loaded",s.vehicleList.data.length)("count",s.count))},dependencies:[d.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,we.NW,ye.H,Ie.b,xe.p,Ne.R]}),t})();const it=["vehicleImport"];function ot(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-vehicle-search-filter",3),e.NdJ("onSearchChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.changeSearchData(i))})("onSearch",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.getList())}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("searchData",o.searchData)}}function nt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-import-button",8),e.NdJ("importEvent",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.importVehicle())}),e.qZA()}}function at(t,n){1&t&&e._UZ(0,"input",9,10)}function lt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-add-button",11),e.NdJ("addEvent",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.addVehicle())}),e.qZA()}if(2&t){const o=e.oxw(2);e.Q6J("ngClass",0==o.allowImport?"offset-11":"offset-0")}}function st(t,n){if(1&t&&(e.TgZ(0,"div",4),e.YNc(1,nt,1,0,"app-import-button",5),e.YNc(2,at,2,0,"input",6),e.YNc(3,lt,1,1,"app-add-button",7),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.allowImport),e.xp6(1),e.Q6J("ngIf",o.allowImport),e.xp6(1),e.Q6J("ngIf",o.allowAdd)}}function mt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-vehicle-list",12),e.NdJ("moreEvent",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.getList())})("editEvent",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.editVehicle())})("deleteEvent",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.deleteVehicle(i))}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("vehicleList",o.dataSource)("count",o.count)}}const rt=[{path:"",component:(()=>{const n=class{constructor(a,i,s){this.menuRoleService=a,this.vehicleService=i,this.dialog=s,this.isLoaded=!1,this.req=new Y,this.eList=[],this.count=0,this.allowAdd=!1,this.allowImport=!1}ngOnInit(){this.isLoaded=!1,this.sub=this.vehicleService.getVehicleSearchData().pipe((0,x.w)(a=>(this.searchData=a.item,this.isLoaded=!0,this.dataSource=new c.by(this.eList),this.req.pagination.pageSize=10,this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(Z.w.Fleet,C.k.add),this.allowImport=this.menuRoleService.isMenuRoleAuthorizedSingle(Z.w.Fleet,C.k.import),this.vehicleService.getVehicleList(this.req)))).subscribe(a=>{this.update(a)})}ngAfterViewInit(){}changeSearchData(a){console.log(a),this.eList=[],this.dataSource=new c.by(this.eList),this.req.searchKey=a.searchKey,this.req.makeId=""!=a.makeId?a.makeId:null,this.req.modelId=""!=a.modelId?a.modelId:null,this.req.ownerCompanyId=""!=a.companyId?a.companyId:null,this.req.pagination.pageNumber=1}refreshList(){this.eList=[],this.dataSource=new c.by(this.eList),this.req.pagination.pageNumber=1,this.getList()}update(a){a?.response?.status==u.s.success&&(this.eList.push.apply(this.eList,a.list),this.dataSource=new c.by(this.eList),this.count=a.totalRecords,a.list.length>0&&(this.req.pagination.pageNumber+=1))}getList(){this.sub=this.vehicleService.getVehicleList(this.req).subscribe(a=>{this.update(a)})}addVehicle(){this.dialog.open(R,{data:null,width:"70%",maxHeight:"auto"}).afterClosed().subscribe(i=>{1==i&&this.refreshList()})}editVehicle(){this.refreshList()}deleteVehicle(a){confirm(N.J.confirmDelete(a.code))&&(this.sub=this.vehicleService.deleteVehicle(a.id).subscribe(i=>{i?.status==u.s.success?this.refreshList():alert(i?.message)}))}importVehicle(){}ngOnDestroy(){this.sub?.unsubscribe(),this.importSub?.unsubscribe()}};let t=n;return n.\u0275fac=function(i){return new(i||n)(e.Y36(q.K),e.Y36(T),e.Y36(p.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vehicle"]],viewQuery:function(i,s){if(1&i&&e.Gf(it,5),2&i){let r;e.iGM(r=e.CRH())&&(s.vehicleImport=r.first)}},decls:3,vars:3,consts:[[3,"searchData","onSearchChange","onSearch",4,"ngIf"],["class","row",4,"ngIf"],[3,"vehicleList","count","moreEvent","editEvent","deleteEvent",4,"ngIf"],[3,"searchData","onSearchChange","onSearch"],[1,"row"],["class","col-1 offset-10",3,"importEvent",4,"ngIf"],["type","file","id","vehicleImport","name","vehicleImport","accept","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","style","display: none;",4,"ngIf"],["class","col-1",3,"ngClass","addEvent",4,"ngIf"],[1,"col-1","offset-10",3,"importEvent"],["type","file","id","vehicleImport","name","vehicleImport","accept","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",2,"display","none"],["vehicleImport",""],[1,"col-1",3,"ngClass","addEvent"],[3,"vehicleList","count","moreEvent","editEvent","deleteEvent"]],template:function(i,s){1&i&&(e.YNc(0,ot,1,1,"app-vehicle-search-filter",0),e.YNc(1,st,4,3,"div",1),e.YNc(2,mt,1,2,"app-vehicle-list",2)),2&i&&(e.Q6J("ngIf",s.isLoaded),e.xp6(1),e.Q6J("ngIf",(s.allowAdd||s.allowImport)&&s.isLoaded),e.xp6(1),e.Q6J("ngIf",s.isLoaded))},dependencies:[d.mk,d.O5,K.L,j.x,ee,tt]}),t})()}];let ct=(()=>{const n=class{};let t=n;return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[U.Bz.forChild(rt)]}),t})();var dt=m(529),pt=m(3214),ut=m(1260);let ht=(()=>{const n=class{};let t=n;return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,ct,l.u5,l.UX,dt.JF,pt._,ut.m]}),t})()}}]);