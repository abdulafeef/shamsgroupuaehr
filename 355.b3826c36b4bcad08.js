"use strict";(self.webpackChunkshams_hr_web_app=self.webpackChunkshams_hr_web_app||[]).push([[355],{5311:(y,L,c)=>{c.d(L,{J:()=>_});let _=(()=>{const l=class{static confirmAdd(d){return this.areYouSure+" to add "+d+" ?"}static confirmEdit(d){return this.areYouSure+" to edit "+d+" ?"}static confirmDelete(d){return this.areYouSure+" to delete "+d+" ?"}static confirmActivate(d){return this.areYouSure+" to activate "+d+" ?"}static confirmInactivate(d){return this.areYouSure+" to inactivate "+d+" ?"}static confirmClear(d){return this.areYouSure+" to clear "+d+" ?"}static confirmAddUserRole(d,p){return this.areYouSure+" to add role "+p+" to user "+d+" ?"}static confirmRemoveUserRole(d,p){return this.areYouSure+" to remove role "+p+" to user "+d+" ?"}static confirmChangeUsername(d,p){return this.areYouSure+" to change username from "+d+" to "+p+" ?"}static confirmChangeEmail(d,p){return this.areYouSure+" to change email from "+d+" to "+p+" ?"}static revokeUser(d){return this.areYouSure+" to revoke user "+d+" ?"}};let r=l;return l.areYouSure="Are you sure",l.areYouSureTo="Are you sure ?",l.downloading="Downloading ...",l.downloaded="",r})()},6212:(y,L,c)=>{c.d(L,{G:()=>r});class _{constructor(){this.required=!0,this.pageNumber=1,this.pageSize=20}}class r{constructor(){this.searchKey="",this.pagination=new _}}},4355:(y,L,c)=>{c.r(L),c.d(L,{MasterAccountModule:()=>he});var _=c(6895),r=c(1635),l=c(7155),C=c(3900),d=c(6212);class p extends d.G{}var f=c(9172),A=c(5311),m=c(1654),g=c(673),u=c(4006),v=c(5412),T=c(1985);class w extends T.d{}class U{}class x{}var t=c(4650),E=c(9057),R=c(5);let b=(()=>{const a=class{constructor(e){this.http=e}getAccountGroupList(e){let o=E.lp.searchList(E.hh.AccountGroup);return this.http.post(o,e)}getAccountGroupListByCompany(e){let o=E.lp.list(E.hh.AccountGroup)+"/company/{companyId}";return o=o.replace(/{companyId}/gi,e??""),this.http.get(o)}getAccountGroupSearchData(){let e=E.lp.searchData(E.hh.AccountGroup);return this.http.get(e)}getAccountGroupManageData(){let e=E.lp.getManageData(E.hh.AccountGroup);return this.http.get(e)}addAccountGroup(e){let o=E.lp.add(E.hh.AccountGroup);return this.http.post(o,e)}editAccountGroup(e){let o=E.lp.edit(E.hh.AccountGroup);return this.http.post(o,e)}deleteAccountGroup(e){let o=E.lp.deleteById(E.hh.AccountGroup);return o=o.replace(/{id}/gi,e),this.http.post(o,null)}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.LFG(R.o))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),n})();var I=c(9549),G=c(4144),O=c(4385),M=c(3238),P=c(2833),S=c(4682),N=c(2043);function V(n,a){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function k(n,a){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function tt(n,a){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function et(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",1)(1,"form",2),t.NdJ("submit",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.addAccountGroup())}),t.TgZ(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Nature"),t.qZA(),t.TgZ(10,"mat-select",7),t._UZ(11,"mat-option",8),t.YNc(12,V,2,2,"mat-option",9),t.qZA()()(),t.TgZ(13,"div",3)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Company"),t.qZA(),t.TgZ(17,"mat-select",11),t.NdJ("selectionChange",function(o){t.CHM(i);const s=t.oxw();return t.KtG(s.onCompanyChange(o))}),t._UZ(18,"mat-option",8),t.YNc(19,k,2,2,"mat-option",9),t.qZA()()(),t.TgZ(20,"div",3)(21,"mat-form-field",10)(22,"mat-label"),t._uU(23,"Parent"),t.qZA(),t.TgZ(24,"mat-select",12),t._UZ(25,"mat-option",8),t.YNc(26,tt,2,2,"mat-option",9),t.qZA()()(),t.TgZ(27,"div",13)(28,"app-crud-reset-button",14),t.NdJ("resetEvent",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.reset())}),t.qZA(),t._UZ(29,"app-crud-add-button",15),t.qZA()()()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.manageForm),t.xp6(11),t.Q6J("ngForOf",i.manageData.natureList),t.xp6(7),t.Q6J("ngForOf",i.manageData.companyList),t.xp6(7),t.Q6J("ngForOf",i.manageData.accountGroupList)}}let nt=(()=>{const a=class{constructor(e,o,s){this.dialogRef=e,this.accountGroupService=o,this.data=s,this.manageData=new U,this.isLoaded=!1}ngOnInit(){this.manageForm=new u.cw({name:new u.NI(null,[u.kI.required]),nature:new u.NI(null),parentId:new u.NI(""),companyId:new u.NI("")}),this.isLoaded=!1,this.sub=this.accountGroupService.getAccountGroupManageData().subscribe(e=>{this.manageData=e.item,this.isLoaded=!0})}onCompanyChange(e){this.manageForm.patchValue({parentId:""}),this.sub=this.accountGroupService.getAccountGroupListByCompany(""!=this.manageForm.value.companyId?this.manageForm.value.companyId:null).subscribe(s=>{this.manageData.accountGroupList=s.list.map(h=>{let Z=new x;return Z.id=h.id,Z.name=h.name,Z})})}addAccountGroup(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(A.J.areYouSureTo))return;let e=new w;e.name=this.manageForm.value.name,e.nature=this.manageForm.value.nature,e.parentId=""!=this.manageForm.value.parentId?this.manageForm.value.parentId:null,e.companyId=""!=this.manageForm.value.companyId?this.manageForm.value.companyId:null,this.sub=this.accountGroupService.addAccountGroup(e).subscribe(o=>{o?.status==g.s.success?(this.reset(),this.closeDialog()):alert(o?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(v.so),t.Y36(b),t.Y36(v.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-account-group"]],decls:3,vars:1,consts:[["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-8"],["type","text","matInput","","formControlName","name"],[1,"form-field","col-4"],["formControlName","nature"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-12"],["formControlName","companyId",3,"selectionChange"],["formControlName","parentId"],[1,"row"],[1,"col-4",3,"resetEvent"],[1,"col-4","offset-4"],[3,"value"]],template:function(o,s){1&o&&(t.TgZ(0,"app-form-heading"),t._uU(1," Add Account Group\n"),t.qZA(),t.YNc(2,et,30,4,"div",0)),2&o&&(t.xp6(2),t.Q6J("ngIf",s.isLoaded))},dependencies:[_.sg,_.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,I.KE,I.hX,G.Nt,v.xY,O.gD,M.ey,P.L,S.X,N.H]}),n})();var F=c(1219),Y=c(2696),D=c(7579),K=c(4859);function ot(n,a){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function at(n,a){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}let it=(()=>{const a=class{constructor(e){this.accountGroupService=e,this.onSearchChange=new D.x,this.onSearch=new D.x}ngOnInit(){this.filterForm=new u.cw({searchKey:new u.NI(""),companyId:new u.NI(""),parentId:new u.NI("")}),this.searchData.accountGroupList=[],this.valueChangeSub=this.filterForm.valueChanges.subscribe(e=>{this.onSearchChange.next(e)})}search(){this.onSearch.next()}resetFilter(){this.filterForm.patchValue({searchKey:"",companyId:"",parentId:""})}onCompanyChange(e){this.filterForm.patchValue({parentId:""});let o=null;""!=this.filterForm.value.companyId?("00000000-0000-0000-0000-000000000000"!=this.filterForm.value.companyId&&(o=this.filterForm.value.companyId),this.sub=this.accountGroupService.getAccountGroupListByCompany(o).subscribe(s=>{this.searchData.accountGroupList=s.list.map(h=>{let Z=new x;return Z.id=h.id,Z.name=h.name,Z})})):this.searchData.accountGroupList=[]}ngOnDestroy(){this.valueChangeSub.unsubscribe(),this.sub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(b))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-account-group-search-filter"]],inputs:{searchData:"searchData"},outputs:{onSearchChange:"onSearchChange",onSearch:"onSearch"},decls:28,vars:3,consts:[[1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","form-group"],["type","button","mat-button","","color","primary",1,"col-1","offset-2","mt-2",3,"click"],[1,"form-field","col-3"],["formControlName","companyId",3,"selectionChange"],["value",""],["value","00000000-0000-0000-0000-000000000000"],[3,"value",4,"ngFor","ngForOf"],["formControlName","parentId"],["appearance","outline","floatLabel","always",1,"form-field","col-2"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-1"],["type","submit","mat-raised-button","","color","primary",1,"col-12","offset-0","mt-2"],[1,"material-icons"],[3,"value"]],template:function(o,s){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return s.search()}),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return s.resetFilter()}),t._uU(3,"Reset"),t.qZA(),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Company"),t.qZA(),t.TgZ(7,"mat-select",4),t.NdJ("selectionChange",function(Z){return s.onCompanyChange(Z)}),t.TgZ(8,"mat-option",5),t._uU(9,"All"),t.qZA(),t._UZ(10,"mat-option",6),t.YNc(11,ot,2,2,"mat-option",7),t.qZA()(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Parent"),t.qZA(),t.TgZ(15,"mat-select",8)(16,"mat-option",5),t._uU(17,"All"),t.qZA(),t.YNc(18,at,2,2,"mat-option",7),t.qZA()(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Search"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"div",11)(24,"button",12)(25,"i",13),t._uU(26,"search"),t.qZA(),t._uU(27," Search"),t.qZA()()()()),2&o&&(t.Q6J("formGroup",s.filterForm),t.xp6(11),t.Q6J("ngForOf",s.searchData.companyList),t.xp6(7),t.Q6J("ngForOf",s.searchData.accountGroupList))},dependencies:[_.sg,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,I.KE,I.hX,G.Nt,K.lW,O.gD,M.ey]}),n})();var q=c(9386);class ct extends q.w{}var Q=c(455),B=c(7786);function rt(n,a){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function st(n,a){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function ut(n,a){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function lt(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",1)(1,"form",2),t.NdJ("submit",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.editAccountGroup())}),t.TgZ(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Nature"),t.qZA(),t.TgZ(10,"mat-select",7),t._UZ(11,"mat-option",8),t.YNc(12,rt,2,2,"mat-option",9),t.qZA()()(),t.TgZ(13,"div",3)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Company"),t.qZA(),t.TgZ(17,"mat-select",11),t._UZ(18,"mat-option",8),t.YNc(19,st,2,2,"mat-option",9),t.qZA()()(),t.TgZ(20,"div",3)(21,"mat-form-field",12)(22,"mat-label"),t._uU(23,"Parent"),t.qZA(),t.TgZ(24,"mat-select",13),t._UZ(25,"mat-option",8),t.YNc(26,ut,2,2,"mat-option",9),t.qZA()(),t.TgZ(27,"mat-slide-toggle",14),t._uU(28,"Active"),t.qZA()(),t.TgZ(29,"div",15)(30,"app-crud-reset-button",16),t.NdJ("resetEvent",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.reset())}),t.qZA(),t._UZ(31,"app-crud-edit-button",17),t.qZA()()()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.manageForm),t.xp6(11),t.Q6J("ngForOf",i.manageData.natureList),t.xp6(7),t.Q6J("ngForOf",i.manageData.companyList),t.xp6(7),t.Q6J("ngForOf",i.manageData.accountGroupList)}}let dt=(()=>{const a=class{constructor(e,o,s){this.dialogRef=e,this.accountGroupService=o,this.data=s,this.manageData=new U,this.isLoaded=!1}ngOnInit(){this.manageForm=new u.cw({name:new u.NI(null,[u.kI.required]),nature:new u.NI(null),parentId:new u.NI(""),companyId:new u.NI({value:"",disabled:!0}),active:new u.NI(!0,[u.kI.required])}),this.sub=this.accountGroupService.getAccountGroupManageData().pipe((0,C.w)(e=>(this.manageData=e.item,this.accountGroupService.getAccountGroupListByCompany(this.data.company?.id)))).subscribe(e=>{this.manageData.accountGroupList=e.list,this.isLoaded=!0,this.manageForm.patchValue({name:this.data.name,nature:this.data.nature,parentId:this.data.parent?.id,companyId:this.data.company?.id,active:this.data.active})})}editAccountGroup(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(A.J.areYouSureTo))return;let e=new ct;e.id=this.data?.id,e.name=this.manageForm.value.name,e.nature=this.manageForm.value.nature,e.parentId=""!=this.manageForm.value.parentId?this.manageForm.value.parentId:null,e.active=this.manageForm.value.active,this.sub=this.accountGroupService.editAccountGroup(e).subscribe(o=>{o?.status==g.s.success?(this.reset(),this.closeDialog()):alert(o?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(v.so),t.Y36(b),t.Y36(v.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-account-group"]],decls:3,vars:1,consts:[["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-8"],["type","text","matInput","","formControlName","name"],[1,"form-field","col-4"],["formControlName","nature"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-12"],["formControlName","companyId"],[1,"form-field","col-9"],["formControlName","parentId"],["formControlName","active",1,"form-field","col-3","text-end"],[1,"row"],[1,"col-4",3,"resetEvent"],[1,"col-4","offset-4"],[3,"value"]],template:function(o,s){1&o&&(t.TgZ(0,"app-form-heading"),t._uU(1," Edit Account Group\n"),t.qZA(),t.YNc(2,lt,32,4,"div",0)),2&o&&(t.xp6(2),t.Q6J("ngIf",s.isLoaded))},dependencies:[_.sg,_.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,I.KE,I.hX,G.Nt,v.xY,O.gD,M.ey,Q.Rr,B.W,S.X,N.H]}),n})();var W=c(7974),H=c(4521),X=c(6141),$=c(1837),j=c(1763);const mt=["page"];function pt(n,a){1&n&&(t.TgZ(0,"th",18),t._uU(1," Name "),t.qZA())}function _t(n,a){if(1&n&&(t.TgZ(0,"td",19)(1,"app-active-text",20),t._uU(2),t.qZA()()),2&n){const i=a.$implicit;t.xp6(1),t.Q6J("active",i.active),t.xp6(1),t.Oqu(i.name)}}function gt(n,a){1&n&&(t.TgZ(0,"th",18),t._uU(1," Nature "),t.qZA())}function ht(n,a){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.xp6(1),t.hij(" ",i.nature," ")}}function ft(n,a){1&n&&(t.TgZ(0,"th",18),t._uU(1," Parent "),t.qZA())}function vt(n,a){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.xp6(1),t.hij(" ",null==i.parent?null:i.parent.name," ")}}function At(n,a){1&n&&(t.TgZ(0,"th",18),t._uU(1," Company "),t.qZA())}function Lt(n,a){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.xp6(1),t.hij(" ",null==i.company?null:i.company.name," ")}}function Ct(n,a){1&n&&t._UZ(0,"th",21)}function Et(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-edit-action-icon",25),t.NdJ("editEvent",function(){t.CHM(i);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.edit(o))}),t.qZA()}if(2&n){const i=t.oxw().$implicit;t.Q6J("item",i)}}function Tt(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-delete-action-icon",26),t.NdJ("deleteEvent",function(){t.CHM(i);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.delete(o))}),t.qZA()}if(2&n){const i=t.oxw().$implicit;t.Q6J("item",i)}}function Zt(n,a){if(1&n&&(t.TgZ(0,"td",22),t.YNc(1,Et,1,1,"app-edit-action-icon",23),t.YNc(2,Tt,1,1,"app-delete-action-icon",24),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.allowEdit),t.xp6(1),t.Q6J("ngIf",i.allowDelete)}}function yt(n,a){1&n&&t._UZ(0,"tr",27)}function It(n,a){1&n&&t._UZ(0,"tr",28)}const xt=function(){return[10,20,50]};let Dt=(()=>{const a=class{constructor(e,o){this.menuRoleService=e,this.dialog=o,this.moreEvent=new D.x,this.editEvent=new D.x,this.deleteEvent=new D.x,this.displayedColumns=["name","nature","parent","company","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountGroup_Account_Master,m.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountGroup_Account_Master,m.k.delete)}ngOnChanges(e){this.accountGroupList.paginator=this.paginator}ngAfterViewInit(){this.accountGroupList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(e){this.dialog.open(dt,{data:e,width:"35%",maxHeight:"auto"}).afterClosed().subscribe(s=>{1==s&&this.editEvent.next()})}delete(e){this.deleteEvent.next(e)}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(F.K),t.Y36(v.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-account-group-list"]],viewQuery:function(o,s){if(1&o&&t.Gf(mt,5),2&o){let h;t.iGM(h=t.CRH())&&(s.paginator=h.first)}},inputs:{accountGroupList:"accountGroupList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[t.TTD],decls:24,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","nature"],["matColumnDef","parent"],["matColumnDef","company"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","text-end","style","width: 12rem;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col"],[3,"active"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"text-end",2,"width","12rem"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,pt,2,0,"th",3),t.YNc(4,_t,3,2,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,gt,2,0,"th",3),t.YNc(7,ht,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,ft,2,0,"th",3),t.YNc(10,vt,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,At,2,0,"th",3),t.YNc(13,Lt,2,1,"td",4),t.BQk(),t.ynx(14,8),t.YNc(15,Ct,1,0,"th",9),t.YNc(16,Zt,3,2,"td",10),t.BQk(),t.YNc(17,yt,1,0,"tr",11),t.YNc(18,It,1,0,"tr",12),t.qZA(),t._UZ(19,"mat-paginator",13,14),t.qZA(),t.TgZ(21,"div",15)(22,"div",16)(23,"app-server-pagination",17),t.NdJ("loadMore",function(){return s.more()}),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("dataSource",s.accountGroupList),t.xp6(16),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,xt)),t.xp6(4),t.Q6J("loaded",s.accountGroupList.data.length)("count",s.count))},dependencies:[_.O5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,W.NW,H.H,X.j,$.b,j.p]}),n})();const bt=["accountGroupImport"];function wt(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-account-group-search-filter",3),t.NdJ("onSearchChange",function(o){t.CHM(i);const s=t.oxw();return t.KtG(s.changeSearchData(o))})("onSearch",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.getList())}),t.qZA()}if(2&n){const i=t.oxw();t.Q6J("searchData",i.searchData)}}function Gt(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",4)(1,"app-add-button",5),t.NdJ("addEvent",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.addAccountGroup())}),t.qZA()()}}let Ot=(()=>{const a=class{constructor(e,o,s){this.menuRoleService=e,this.accountGroupService=o,this.dialog=s,this.isLoaded=!1,this.req=new p,this.eList=[],this.count=0,this.allowAdd=!1,this.allowImport=!1}ngOnInit(){this.isLoaded=!1,this.sub=this.accountGroupService.getAccountGroupSearchData().pipe((0,C.w)(e=>(this.searchData=e.item,this.isLoaded=!0,this.dataSource=new l.by(this.eList),this.req.pagination.pageSize=10,this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountGroup_Account_Master,m.k.add),this.allowImport=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountGroup_Account_Master,m.k.import),this.accountGroupService.getAccountGroupList(this.req)))).subscribe(e=>{this.update(e)})}ngAfterViewInit(){}changeSearchData(e){this.eList=[],this.dataSource=new l.by(this.eList),this.req.searchKey=e.searchKey,this.req.companyId=""!=e.companyId?e.companyId:null,this.req.parentId=""!=e.parentId?e.parentId:null,this.req.pagination.pageNumber=1}refreshList(){this.eList=[],this.dataSource=new l.by(this.eList),this.req.pagination.pageNumber=1,this.getList()}update(e){e?.response?.status==g.s.success&&(this.eList.push.apply(this.eList,e.list),this.dataSource=new l.by(this.eList),this.count=e.totalRecords,e.list.length>0&&(this.req.pagination.pageNumber+=1))}getList(){this.sub=this.accountGroupService.getAccountGroupList(this.req).subscribe(e=>{this.update(e)})}addAccountGroup(){this.dialog.open(nt,{data:null,width:"35%",maxHeight:"auto"}).afterClosed().subscribe(o=>{1==o&&this.refreshList()})}editAccountGroup(){this.refreshList()}deleteAccountGroup(e){confirm(A.J.confirmDelete(e.name))&&(this.sub=this.accountGroupService.deleteAccountGroup(e.id).subscribe(o=>{o?.status==g.s.success?this.refreshList():alert(o?.message)}))}importAccountGroup(){}ngOnDestroy(){this.sub?.unsubscribe(),this.importSub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(F.K),t.Y36(b),t.Y36(v.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-account-group"]],viewQuery:function(o,s){if(1&o&&t.Gf(bt,5),2&o){let h;t.iGM(h=t.CRH())&&(s.accountGroupImport=h.first)}},decls:3,vars:4,consts:[[3,"searchData","onSearchChange","onSearch",4,"ngIf"],["class","row",4,"ngIf"],[3,"accountGroupList","count","moreEvent","editEvent","deleteEvent"],[3,"searchData","onSearchChange","onSearch"],[1,"row"],[1,"col-1","offset-11",3,"addEvent"]],template:function(o,s){1&o&&(t.YNc(0,wt,1,1,"app-account-group-search-filter",0),t.YNc(1,Gt,2,0,"div",1),t.TgZ(2,"app-account-group-list",2),t.NdJ("moreEvent",function(){return s.getList()})("editEvent",function(){return s.editAccountGroup()})("deleteEvent",function(Z){return s.deleteAccountGroup(Z)}),t.qZA()),2&o&&(t.Q6J("ngIf",s.isLoaded),t.xp6(1),t.Q6J("ngIf",s.allowAdd),t.xp6(1),t.Q6J("accountGroupList",s.dataSource)("count",s.count))},dependencies:[_.O5,Y.L,it,Dt]}),n})();class Mt extends d.G{}class Ut extends T.d{}class z{}let J=(()=>{const a=class{constructor(e){this.http=e}getAccountLedgerList(e){let o=E.lp.searchList(E.hh.AccountLedger);return this.http.post(o,e)}getAccountLedgerListByGroup(e){let o=E.lp.list(E.hh.AccountLedger)+"/group/{groupId}";return o=o.replace(/{id}/gi,e??""),this.http.get(o)}getAccountLedgerSearchData(){let e=E.lp.searchData(E.hh.AccountLedger);return this.http.get(e)}getAccountLedgerManageData(){let e=E.lp.getManageData(E.hh.AccountLedger);return this.http.get(e)}addAccountLedger(e){let o=E.lp.add(E.hh.AccountLedger);return this.http.post(o,e)}editAccountLedger(e){let o=E.lp.edit(E.hh.AccountLedger);return this.http.post(o,e)}deleteAccountLedger(e){let o=E.lp.deleteById(E.hh.AccountLedger);return o=o.replace(/{id}/gi,e),this.http.post(o,null)}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.LFG(R.o))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),n})();function St(n,a){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function Nt(n,a){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function Ft(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",1)(1,"form",2),t.NdJ("submit",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.addAccountLedger())}),t.TgZ(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",5),t.qZA()(),t.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Company"),t.qZA(),t.TgZ(11,"mat-select",6),t.NdJ("selectionChange",function(o){t.CHM(i);const s=t.oxw();return t.KtG(s.onCompanyChange(o))}),t._UZ(12,"mat-option",7),t.YNc(13,St,2,2,"mat-option",8),t.qZA()()(),t.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"Group"),t.qZA(),t.TgZ(18,"mat-select",9),t.YNc(19,Nt,2,2,"mat-option",8),t.qZA()()(),t.TgZ(20,"div",10)(21,"app-crud-reset-button",11),t.NdJ("resetEvent",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.reset())}),t.qZA(),t._UZ(22,"app-crud-add-button",12),t.qZA()()()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.manageForm),t.xp6(12),t.Q6J("ngForOf",i.manageData.companyList),t.xp6(6),t.Q6J("ngForOf",i.manageData.groupList)}}let Jt=(()=>{const a=class{constructor(e,o,s,h){this.dialogRef=e,this.accountLedgerService=o,this.agService=s,this.data=h,this.manageData=new z,this.isLoaded=!1}ngOnInit(){this.manageForm=new u.cw({name:new u.NI(null,[u.kI.required]),groupId:new u.NI(null,[u.kI.required]),companyId:new u.NI("")}),this.isLoaded=!1,this.sub=this.accountLedgerService.getAccountLedgerManageData().subscribe(e=>{this.manageData=e.item,this.isLoaded=!0})}onCompanyChange(e){this.manageForm.patchValue({groupId:null}),this.sub=this.agService.getAccountGroupListByCompany(""!=this.manageForm.value.companyId?this.manageForm.value.companyId:null).subscribe(s=>{this.manageData.groupList=s.list.map(h=>{let Z=new x;return Z.id=h.id,Z.name=h.name,Z})})}addAccountLedger(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(A.J.areYouSureTo))return;let e=new Ut;e.name=this.manageForm.value.name,e.groupId=this.manageForm.value.groupId,e.companyId=""!=this.manageForm.value.companyId?this.manageForm.value.companyId:null,this.sub=this.accountLedgerService.addAccountLedger(e).subscribe(o=>{o?.status==g.s.success?(this.reset(),this.closeDialog()):alert(o?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(v.so),t.Y36(J),t.Y36(b),t.Y36(v.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-account-ledger"]],decls:3,vars:1,consts:[["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-12"],["type","text","matInput","","formControlName","name"],["formControlName","companyId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","groupId"],[1,"row"],[1,"col-4",3,"resetEvent"],[1,"col-4","offset-4"],[3,"value"]],template:function(o,s){1&o&&(t.TgZ(0,"app-form-heading"),t._uU(1," Add Account Ledger\n"),t.qZA(),t.YNc(2,Ft,23,3,"div",0)),2&o&&(t.xp6(2),t.Q6J("ngIf",s.isLoaded))},dependencies:[_.sg,_.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,I.KE,I.hX,G.Nt,v.xY,O.gD,M.ey,P.L,S.X,N.H]}),n})();function Rt(n,a){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function Pt(n,a){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}let Yt=(()=>{const a=class{constructor(e,o){this.accountLedgerService=e,this.agService=o,this.onSearchChange=new D.x,this.onSearch=new D.x}ngOnInit(){this.filterForm=new u.cw({searchKey:new u.NI(""),companyId:new u.NI(""),groupId:new u.NI("")}),this.searchData.groupList=[],this.valueChangeSub=this.filterForm.valueChanges.subscribe(e=>{this.onSearchChange.next(e)})}search(){this.onSearch.next()}resetFilter(){this.filterForm.patchValue({searchKey:"",companyId:"",groupId:""})}onCompanyChange(e){this.filterForm.patchValue({groupId:""});let o=null;""!=this.filterForm.value.companyId?("00000000-0000-0000-0000-000000000000"!=this.filterForm.value.companyId&&(o=this.filterForm.value.companyId),this.sub=this.agService.getAccountGroupListByCompany(o).subscribe(s=>{this.searchData.groupList=s.list.map(h=>{let Z=new x;return Z.id=h.id,Z.name=h.name,Z})})):this.searchData.groupList=[]}ngOnDestroy(){this.valueChangeSub.unsubscribe(),this.sub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(J),t.Y36(b))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-account-ledger-search-filter"]],inputs:{searchData:"searchData"},outputs:{onSearchChange:"onSearchChange",onSearch:"onSearch"},decls:28,vars:3,consts:[[1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","form-group"],["type","button","mat-button","","color","primary",1,"col-1","offset-2","mt-2",3,"click"],[1,"form-field","col-3"],["formControlName","companyId",3,"selectionChange"],["value",""],["value","00000000-0000-0000-0000-000000000000"],[3,"value",4,"ngFor","ngForOf"],["formControlName","groupId"],["appearance","outline","floatLabel","always",1,"form-field","col-2"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-1"],["type","submit","mat-raised-button","","color","primary",1,"col-12","offset-0","mt-2"],[1,"material-icons"],[3,"value"]],template:function(o,s){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return s.search()}),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return s.resetFilter()}),t._uU(3,"Reset"),t.qZA(),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Company"),t.qZA(),t.TgZ(7,"mat-select",4),t.NdJ("selectionChange",function(Z){return s.onCompanyChange(Z)}),t.TgZ(8,"mat-option",5),t._uU(9,"All"),t.qZA(),t._UZ(10,"mat-option",6),t.YNc(11,Rt,2,2,"mat-option",7),t.qZA()(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Group"),t.qZA(),t.TgZ(15,"mat-select",8)(16,"mat-option",5),t._uU(17,"All"),t.qZA(),t.YNc(18,Pt,2,2,"mat-option",7),t.qZA()(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Search"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"div",11)(24,"button",12)(25,"i",13),t._uU(26,"search"),t.qZA(),t._uU(27," Search"),t.qZA()()()()),2&o&&(t.Q6J("formGroup",s.filterForm),t.xp6(11),t.Q6J("ngForOf",s.searchData.companyList),t.xp6(7),t.Q6J("ngForOf",s.searchData.groupList))},dependencies:[_.sg,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,I.KE,I.hX,G.Nt,K.lW,O.gD,M.ey]}),n})();class Kt extends q.w{}function qt(n,a){if(1&n&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function Qt(n,a){if(1&n&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}function Bt(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",1)(1,"form",2),t.NdJ("submit",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.editAccountLedger())}),t.TgZ(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",5),t.qZA()(),t.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Company"),t.qZA(),t.TgZ(11,"mat-select",6),t._UZ(12,"mat-option",7),t.YNc(13,qt,2,2,"mat-option",8),t.qZA()()(),t.TgZ(14,"div",3)(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Group"),t.qZA(),t.TgZ(18,"mat-select",10),t.YNc(19,Qt,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"mat-slide-toggle",11),t._uU(21,"Active"),t.qZA()(),t.TgZ(22,"div",12)(23,"app-crud-reset-button",13),t.NdJ("resetEvent",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.reset())}),t.qZA(),t._UZ(24,"app-crud-edit-button",14),t.qZA()()()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.manageForm),t.xp6(12),t.Q6J("ngForOf",i.manageData.companyList),t.xp6(6),t.Q6J("ngForOf",i.manageData.groupList)}}let Wt=(()=>{const a=class{constructor(e,o,s,h){this.dialogRef=e,this.accountLedgerService=o,this.agService=s,this.data=h,this.manageData=new z,this.isLoaded=!1}ngOnInit(){this.manageForm=new u.cw({name:new u.NI(null,[u.kI.required]),groupId:new u.NI(null,[u.kI.required]),companyId:new u.NI({value:"",disabled:!0}),active:new u.NI(!0,[u.kI.required])}),this.sub=this.accountLedgerService.getAccountLedgerManageData().pipe((0,C.w)(e=>(this.manageData=e.item,this.agService.getAccountGroupListByCompany(this.data.company?.id)))).subscribe(e=>{this.manageData.groupList=e.list,this.isLoaded=!0,this.manageForm.patchValue({name:this.data.name,groupId:this.data.group.id,companyId:this.data.company?.id,active:this.data.active})})}editAccountLedger(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(A.J.areYouSureTo))return;let e=new Kt;e.id=this.data?.id,e.name=this.manageForm.value.name,e.groupId=this.manageForm.value.groupId,e.active=this.manageForm.value.active,this.sub=this.accountLedgerService.editAccountLedger(e).subscribe(o=>{o?.status==g.s.success?(this.reset(),this.closeDialog()):alert(o?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(v.so),t.Y36(J),t.Y36(b),t.Y36(v.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-account-ledger"]],decls:3,vars:1,consts:[["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-12"],["type","text","matInput","","formControlName","name"],["formControlName","companyId"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-9"],["formControlName","groupId"],["formControlName","active",1,"form-field","col-3","text-end"],[1,"row"],[1,"col-4",3,"resetEvent"],[1,"col-4","offset-4"],[3,"value"]],template:function(o,s){1&o&&(t.TgZ(0,"app-form-heading"),t._uU(1," Edit Account Group\n"),t.qZA(),t.YNc(2,Bt,25,3,"div",0)),2&o&&(t.xp6(2),t.Q6J("ngIf",s.isLoaded))},dependencies:[_.sg,_.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,I.KE,I.hX,G.Nt,v.xY,O.gD,M.ey,Q.Rr,B.W,S.X,N.H]}),n})();const Ht=["page"];function Xt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Name "),t.qZA())}function $t(n,a){if(1&n&&(t.TgZ(0,"td",18)(1,"app-active-text",19),t._uU(2),t.qZA()()),2&n){const i=a.$implicit;t.xp6(1),t.Q6J("active",i.active),t.xp6(1),t.Oqu(i.name)}}function jt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Group "),t.qZA())}function zt(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.xp6(1),t.hij(" ",i.group.name," ")}}function Vt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Company "),t.qZA())}function kt(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const i=a.$implicit;t.xp6(1),t.hij(" ",null==i.company?null:i.company.name," ")}}function te(n,a){1&n&&t._UZ(0,"th",20)}function ee(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-edit-action-icon",24),t.NdJ("editEvent",function(){t.CHM(i);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.edit(o))}),t.qZA()}if(2&n){const i=t.oxw().$implicit;t.Q6J("item",i)}}function ne(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-delete-action-icon",25),t.NdJ("deleteEvent",function(){t.CHM(i);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.delete(o))}),t.qZA()}if(2&n){const i=t.oxw().$implicit;t.Q6J("item",i)}}function oe(n,a){if(1&n&&(t.TgZ(0,"td",21),t.YNc(1,ee,1,1,"app-edit-action-icon",22),t.YNc(2,ne,1,1,"app-delete-action-icon",23),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.allowEdit),t.xp6(1),t.Q6J("ngIf",i.allowDelete)}}function ae(n,a){1&n&&t._UZ(0,"tr",26)}function ie(n,a){1&n&&t._UZ(0,"tr",27)}const ce=function(){return[10,20,50]};let re=(()=>{const a=class{constructor(e,o){this.menuRoleService=e,this.dialog=o,this.moreEvent=new D.x,this.editEvent=new D.x,this.deleteEvent=new D.x,this.displayedColumns=["name","group","company","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountLedger_Account_Master,m.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountLedger_Account_Master,m.k.delete)}ngOnChanges(e){this.accountLedgerList.paginator=this.paginator}ngAfterViewInit(){this.accountLedgerList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(e){this.dialog.open(Wt,{data:e,width:"35%",maxHeight:"auto"}).afterClosed().subscribe(s=>{1==s&&this.editEvent.next()})}delete(e){this.deleteEvent.next(e)}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(F.K),t.Y36(v.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-account-ledger-list"]],viewQuery:function(o,s){if(1&o&&t.Gf(Ht,5),2&o){let h;t.iGM(h=t.CRH())&&(s.paginator=h.first)}},inputs:{accountLedgerList:"accountLedgerList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[t.TTD],decls:21,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","group"],["matColumnDef","company"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","text-end","style","width: 12rem;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col"],[3,"active"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"text-end",2,"width","12rem"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,Xt,2,0,"th",3),t.YNc(4,$t,3,2,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,jt,2,0,"th",3),t.YNc(7,zt,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,Vt,2,0,"th",3),t.YNc(10,kt,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,te,1,0,"th",8),t.YNc(13,oe,3,2,"td",9),t.BQk(),t.YNc(14,ae,1,0,"tr",10),t.YNc(15,ie,1,0,"tr",11),t.qZA(),t._UZ(16,"mat-paginator",12,13),t.qZA(),t.TgZ(18,"div",14)(19,"div",15)(20,"app-server-pagination",16),t.NdJ("loadMore",function(){return s.more()}),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("dataSource",s.accountLedgerList),t.xp6(13),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,ce)),t.xp6(4),t.Q6J("loaded",s.accountLedgerList.data.length)("count",s.count))},dependencies:[_.O5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,W.NW,H.H,X.j,$.b,j.p]}),n})();const se=["accountLedgerImport"];function ue(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-account-ledger-search-filter",3),t.NdJ("onSearchChange",function(o){t.CHM(i);const s=t.oxw();return t.KtG(s.changeSearchData(o))})("onSearch",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.getList())}),t.qZA()}if(2&n){const i=t.oxw();t.Q6J("searchData",i.searchData)}}function le(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",4)(1,"app-add-button",5),t.NdJ("addEvent",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.addAccountLedger())}),t.qZA()()}}const de=[{path:"group",component:Ot},{path:"ledger",component:(()=>{const a=class{constructor(e,o,s){this.menuRoleService=e,this.accountLedgerService=o,this.dialog=s,this.isLoaded=!1,this.req=new Mt,this.eList=[],this.count=0,this.allowAdd=!1,this.allowImport=!1}ngOnInit(){this.isLoaded=!1,this.sub=this.accountLedgerService.getAccountLedgerSearchData().pipe((0,C.w)(e=>(this.searchData=e.item,this.isLoaded=!0,this.dataSource=new l.by(this.eList),this.req.pagination.pageSize=10,this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountLedger_Account_Master,m.k.add),this.allowImport=this.menuRoleService.isMenuRoleAuthorizedSingle(f.w.AccountLedger_Account_Master,m.k.import),this.accountLedgerService.getAccountLedgerList(this.req)))).subscribe(e=>{this.update(e)})}ngAfterViewInit(){}changeSearchData(e){this.eList=[],this.dataSource=new l.by(this.eList),this.req.searchKey=e.searchKey,this.req.companyId=""!=e.companyId?e.companyId:null,this.req.groupId=""!=e.groupId?e.groupId:null,this.req.pagination.pageNumber=1}refreshList(){this.eList=[],this.dataSource=new l.by(this.eList),this.req.pagination.pageNumber=1,this.getList()}update(e){e?.response?.status==g.s.success&&(this.eList.push.apply(this.eList,e.list),this.dataSource=new l.by(this.eList),this.count=e.totalRecords,e.list.length>0&&(this.req.pagination.pageNumber+=1))}getList(){this.sub=this.accountLedgerService.getAccountLedgerList(this.req).subscribe(e=>{this.update(e)})}addAccountLedger(){this.dialog.open(Jt,{data:null,width:"35%",maxHeight:"auto"}).afterClosed().subscribe(o=>{1==o&&this.refreshList()})}editAccountLedger(){this.refreshList()}deleteAccountLedger(e){confirm(A.J.confirmDelete(e.name))&&(this.sub=this.accountLedgerService.deleteAccountLedger(e.id).subscribe(o=>{o?.status==g.s.success?this.refreshList():alert(o?.message)}))}importAccountLedger(){}ngOnDestroy(){this.sub?.unsubscribe(),this.importSub?.unsubscribe()}};let n=a;return a.\u0275fac=function(o){return new(o||a)(t.Y36(F.K),t.Y36(J),t.Y36(v.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-account-ledger"]],viewQuery:function(o,s){if(1&o&&t.Gf(se,5),2&o){let h;t.iGM(h=t.CRH())&&(s.accountLedgerImport=h.first)}},decls:3,vars:4,consts:[[3,"searchData","onSearchChange","onSearch",4,"ngIf"],["class","row",4,"ngIf"],[3,"accountLedgerList","count","moreEvent","editEvent","deleteEvent"],[3,"searchData","onSearchChange","onSearch"],[1,"row"],[1,"col-1","offset-11",3,"addEvent"]],template:function(o,s){1&o&&(t.YNc(0,ue,1,1,"app-account-ledger-search-filter",0),t.YNc(1,le,2,0,"div",1),t.TgZ(2,"app-account-ledger-list",2),t.NdJ("moreEvent",function(){return s.getList()})("editEvent",function(){return s.editAccountLedger()})("deleteEvent",function(Z){return s.deleteAccountLedger(Z)}),t.qZA()),2&o&&(t.Q6J("ngIf",s.isLoaded),t.xp6(1),t.Q6J("ngIf",s.allowAdd),t.xp6(1),t.Q6J("accountLedgerList",s.dataSource)("count",s.count))},dependencies:[_.O5,Y.L,Yt,re]}),n})()}];let me=(()=>{const a=class{};let n=a;return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[r.Bz.forChild(de)]}),n})();var pe=c(529),_e=c(3214),ge=c(1260);let he=(()=>{const a=class{};let n=a;return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[_.ez,me,u.u5,u.UX,pe.JF,_e._,ge.m]}),n})()},6141:(y,L,c)=>{c.d(L,{j:()=>d});var _=c(4650),r=c(6895);function l(p,f){1&p&&_._UZ(0,"label",1)}const C=["*"];let d=(()=>{const f=class{};let p=f;return f.\u0275fac=function(g){return new(g||f)},f.\u0275cmp=_.Xpm({type:f,selectors:[["app-active-text"]],inputs:{active:"active"},ngContentSelectors:C,decls:2,vars:1,consts:[["class","bg-warn active-box",4,"ngIf"],[1,"bg-warn","active-box"]],template:function(g,u){1&g&&(_.F$t(),_.YNc(0,l,1,0,"label",0),_.Hsn(1)),2&g&&_.Q6J("ngIf",!u.active)},dependencies:[r.O5],styles:[".active-box[_ngcontent-%COMP%]{width:10px;height:10px;margin-right:5px}"]}),p})()},2696:(y,L,c)=>{c.d(L,{L:()=>C});var _=c(7579),r=c(4650),l=c(4859);let C=(()=>{const p=class{constructor(){this.addEvent=new _.x}addItem(){this.addEvent.next()}};let d=p;return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-add-button"]],outputs:{addEvent:"addEvent"},decls:4,vars:0,consts:[["type","button","mat-raised-button","","color","primary",1,"col-12","my-2",3,"click"],[1,"material-icons"]],template:function(m,g){1&m&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return g.addItem()}),r.TgZ(1,"i",1),r._uU(2,"add"),r.qZA(),r._uU(3," Add"),r.qZA())},dependencies:[l.lW]}),d})()},2833:(y,L,c)=>{c.d(L,{L:()=>C});var _=c(7579),r=c(4650),l=c(4859);let C=(()=>{const p=class{constructor(){this.disabled=!1,this.addEvent=new _.x}addItem(){this.addEvent.next()}};let d=p;return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-crud-add-button"]],inputs:{disabled:"disabled"},outputs:{addEvent:"addEvent"},decls:2,vars:1,consts:[["type","submit","mat-raised-button","","color","primary",1,"col-12","my-2",3,"disabled","click"]],template:function(m,g){1&m&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return g.addItem()}),r._uU(1,"Add"),r.qZA()),2&m&&r.Q6J("disabled",g.disabled)},dependencies:[l.lW]}),d})()},7786:(y,L,c)=>{c.d(L,{W:()=>C});var _=c(7579),r=c(4650),l=c(4859);let C=(()=>{const p=class{constructor(){this.disabled=!1,this.editEvent=new _.x}editItem(){this.editEvent.next()}};let d=p;return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-crud-edit-button"]],inputs:{disabled:"disabled"},outputs:{editEvent:"editEvent"},decls:2,vars:1,consts:[["type","submit","mat-raised-button","","color","primary",1,"col-12","my-2",3,"disabled","click"]],template:function(m,g){1&m&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return g.editItem()}),r._uU(1,"Edit"),r.qZA()),2&m&&r.Q6J("disabled",g.disabled)},dependencies:[l.lW]}),d})()},4682:(y,L,c)=>{c.d(L,{X:()=>f});var _=c(7579),r=c(4650),l=c(6895),C=c(4859);function d(A,m){if(1&A){const g=r.EpF();r.TgZ(0,"button",2),r.NdJ("click",function(){r.CHM(g);const v=r.oxw();return r.KtG(v.resetItem())}),r._uU(1,"Reset"),r.qZA()}}function p(A,m){if(1&A){const g=r.EpF();r.TgZ(0,"button",3),r.NdJ("click",function(){r.CHM(g);const v=r.oxw();return r.KtG(v.resetItem())}),r._uU(1,"Reset"),r.qZA()}}let f=(()=>{const m=class{constructor(){this.resetEvent=new _.x,this.isReset=!0}resetItem(){this.resetEvent.next()}};let A=m;return m.\u0275fac=function(v){return new(v||m)},m.\u0275cmp=r.Xpm({type:m,selectors:[["app-crud-reset-button"]],inputs:{isReset:"isReset"},outputs:{resetEvent:"resetEvent"},decls:2,vars:2,consts:[["type","reset","mat-raised-button","","color","accent","class","col-12 my-2",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","accent","class","col-12 my-2",3,"click",4,"ngIf"],["type","reset","mat-raised-button","","color","accent",1,"col-12","my-2",3,"click"],["type","button","mat-raised-button","","color","accent",1,"col-12","my-2",3,"click"]],template:function(v,T){1&v&&(r.YNc(0,d,2,0,"button",0),r.YNc(1,p,2,0,"button",1)),2&v&&(r.Q6J("ngIf",T.isReset),r.xp6(1),r.Q6J("ngIf",!T.isReset))},dependencies:[l.O5,C.lW]}),A})()},1837:(y,L,c)=>{c.d(L,{b:()=>d});var _=c(7579),r=c(4650),l=c(4859),C=c(7392);let d=(()=>{const f=class{constructor(){this.deleteEvent=new _.x}deleteItem(){this.deleteEvent.next(this.item)}};let p=f;return f.\u0275fac=function(g){return new(g||f)},f.\u0275cmp=r.Xpm({type:f,selectors:[["app-delete-action-icon"]],inputs:{item:"item"},outputs:{deleteEvent:"deleteEvent"},decls:3,vars:0,consts:[["mat-mini-fab","","color","warn",1,"ms-1",3,"click"]],template:function(g,u){1&g&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return u.deleteItem()}),r.TgZ(1,"mat-icon"),r._uU(2,"delete"),r.qZA()())},dependencies:[l.nh,C.Hw]}),p})()},1763:(y,L,c)=>{c.d(L,{p:()=>d});var _=c(7579),r=c(4650),l=c(4859),C=c(7392);let d=(()=>{const f=class{constructor(){this.editEvent=new _.x}editItem(){this.editEvent.next(this.item)}};let p=f;return f.\u0275fac=function(g){return new(g||f)},f.\u0275cmp=r.Xpm({type:f,selectors:[["app-edit-action-icon"]],inputs:{item:"item"},outputs:{editEvent:"editEvent"},decls:3,vars:0,consts:[["mat-mini-fab","","color","primary",1,"ms-1",3,"click"]],template:function(g,u){1&g&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return u.editItem()}),r.TgZ(1,"mat-icon"),r._uU(2,"edit"),r.qZA()())},dependencies:[l.nh,C.Hw]}),p})()},2043:(y,L,c)=>{c.d(L,{H:()=>l});var _=c(4650);const r=["*"];let l=(()=>{const d=class{};let C=d;return d.\u0275fac=function(A){return new(A||d)},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-form-heading"]],ngContentSelectors:r,decls:3,vars:0,consts:[[1,"text-center","bg-primary","text-light","py-3"],[1,"fw-normal"]],template:function(A,m){1&A&&(_.F$t(),_.TgZ(0,"div",0)(1,"h5",1),_.Hsn(2),_.qZA()())}}),C})()},3214:(y,L,c)=>{c.d(L,{_:()=>U});var _=c(4859),r=c(5412),l=c(9549),C=c(7392),d=c(4144),p=c(7974),f=c(4385),A=c(455),m=c(7155),g=c(9602),u=c(3238),v=c(2673),T=c(7100),w=c(4650);let U=(()=>{const t=class{};let x=t;return t.\u0275fac=function(b){return new(b||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[m.p0,p.TU,l.lN,d.c,_.ot,C.Ps,r.Is,f.LD,A.rP,g.FA,u.XK,v.g,T.EC,T.Yy,T.K]}),x})()},4521:(y,L,c)=>{c.d(L,{H:()=>A});var _=c(7579),r=c(4650),l=c(6895),C=c(4859);function d(m,g){if(1&m&&(r.TgZ(0,"label",5)(1,"span",6),r._uU(2),r.qZA(),r.TgZ(3,"span",7),r._uU(4," of "),r.qZA(),r.TgZ(5,"span",6),r._uU(6),r.qZA()()),2&m){const u=r.oxw(2);r.xp6(1),r.Q6J("ngClass",u.loaded!=u.count?"page-data":"page-data-full"),r.xp6(1),r.Oqu(u.loaded),r.xp6(3),r.Q6J("ngClass",u.loaded!=u.count?"page-data":"page-data-full"),r.xp6(1),r.Oqu(u.count)}}function p(m,g){if(1&m){const u=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(){r.CHM(u);const T=r.oxw(2);return r.KtG(T.more())}),r._uU(1,"More ..."),r.qZA()}}function f(m,g){if(1&m&&(r.TgZ(0,"div",1),r.YNc(1,d,7,4,"label",2),r.TgZ(2,"div",3),r.YNc(3,p,2,0,"button",4),r.qZA()()),2&m){const u=r.oxw();r.xp6(1),r.Q6J("ngIf",u.loaded!=u.count),r.xp6(2),r.Q6J("ngIf",u.loaded!=u.count)}}let A=(()=>{const g=class{constructor(){this.loadMore=new _.x}more(){this.loadMore.next(!0)}};let m=g;return g.\u0275fac=function(T){return new(T||g)},g.\u0275cmp=r.Xpm({type:g,selectors:[["app-server-pagination"]],inputs:{count:"count",loaded:"loaded"},outputs:{loadMore:"loadMore"},decls:1,vars:1,consts:[["class","row my-4",4,"ngIf"],[1,"row","my-4"],["class","col-4 mx-2",4,"ngIf"],[1,"col-6"],["mat-raised-button","","color","primary","type","button","class","col-4",3,"click",4,"ngIf"],[1,"col-4","mx-2"],[3,"ngClass"],[1,"page-data"],["mat-raised-button","","color","primary","type","button",1,"col-4",3,"click"]],template:function(T,w){1&T&&r.YNc(0,f,4,2,"div",0),2&T&&r.Q6J("ngIf",w.loaded>0)},dependencies:[l.mk,l.O5,C.lW],styles:[".page-data[_ngcontent-%COMP%]{background-color:transparent;color:var(--text-color);border-radius:10px;opacity:.3}.page-data-full[_ngcontent-%COMP%]{background-color:#009cbf;color:#fff;padding:10px;border-radius:10px}"]}),m})()},1260:(y,L,c)=>{c.d(L,{m:()=>u});var _=c(6895),r=c(4006),l=c(4859),C=c(9549),d=c(4144),p=c(7392),f=c(9602),A=c(3238),m=c(7100),g=c(4650);let u=(()=>{const T=class{};let v=T;return T.\u0275fac=function(x){return new(x||T)},T.\u0275mod=g.oAB({type:T}),T.\u0275inj=g.cJS({imports:[_.ez,r.u5,r.UX,C.lN,l.ot,p.Ps,d.c,f.FA,A.XK,m.EC,m.Yy,m.K]}),v})()}}]);