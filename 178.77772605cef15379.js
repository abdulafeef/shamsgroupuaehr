"use strict";(self.webpackChunkshams_hr_web_app=self.webpackChunkshams_hr_web_app||[]).push([[178],{7912:(F,g,n)=>{n.r(g),n.d(g,{ReportVehicleModule:()=>$});var m=n(6895),s=n(529),l=n(4006),_=n(3214),h=n(1260),A=n(4661),Z=n(1635),c=n(5861);class u{}var t=n(4650),I=n(8112),d=n(9057),T=n(5);let D=(()=>{const e=class{constructor(i){this.http=i}getVehicleReport(i){return this.http.postAttachment(d.bU.getVehicleReport,i)}getVehicleDocReport(i){return this.http.postAttachment(d.bU.getVehicleDocReport,i)}};let r=e;return e.\u0275fac=function(o){return new(o||e)(t.LFG(T.o))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),r})();var y=n(6523),C=n(8064),f=n(9549),x=n(4144),R=n(4385),O=n(3238),U=n(1583),M=n(4682),b=n(6303);function L(r,e){if(1&r&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function N(r,e){if(1&r&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function P(r,e){if(1&r&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function J(r,e){if(1&r){const a=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-report-heading"),t._uU(4,"Vehicle Report"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.getReport())}),t.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Make"),t.qZA(),t.TgZ(10,"mat-select",7),t.NdJ("selectionChange",function(o){t.CHM(a);const p=t.oxw();return t.KtG(p.onMakeChange(o))}),t.TgZ(11,"mat-option",8),t._uU(12,"All"),t.qZA(),t.YNc(13,L,2,2,"mat-option",9),t.qZA()(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Model"),t.qZA(),t.TgZ(17,"mat-select",10)(18,"mat-option",8),t._uU(19,"All"),t.qZA(),t.YNc(20,N,2,2,"mat-option",9),t.qZA()()(),t.TgZ(21,"div",5)(22,"mat-form-field",11)(23,"mat-label"),t._uU(24,"Owner"),t.qZA(),t.TgZ(25,"mat-select",12)(26,"mat-option",8),t._uU(27,"All"),t.qZA(),t.YNc(28,P,2,2,"mat-option",9),t.qZA()(),t.TgZ(29,"mat-form-field",13)(30,"mat-label"),t._uU(31,"Search"),t.qZA(),t._UZ(32,"input",14),t.qZA()(),t.TgZ(33,"div",1)(34,"app-crud-reset-button",15),t.NdJ("resetEvent",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.reset())}),t.qZA(),t._UZ(35,"app-crud-download-button",16),t.qZA(),t.TgZ(36,"div",1)(37,"label",17),t._uU(38),t.qZA()()()()()()}if(2&r){const a=t.oxw();t.xp6(5),t.Q6J("formGroup",a.reportForm),t.xp6(8),t.Q6J("ngForOf",a.reportData.makeList),t.xp6(7),t.Q6J("ngForOf",a.modelListFiltered),t.xp6(8),t.Q6J("ngForOf",a.reportData.ownerList),t.xp6(6),t.Q6J("isReset",!1),t.xp6(4),t.Oqu(a.status)}}let K=(()=>{const e=class{constructor(i,o,p,v){this.vehicleService=i,this.vehicleReportService=o,this.reportService=p,this.fileService=v,this.isLoaded=!1,this.status="",this.modelListFiltered=[]}ngOnInit(){this.reportForm=new l.cw({searchKey:new l.NI(""),makeId:new l.NI(""),modelId:new l.NI(""),ownerId:new l.NI("")}),this.valueChangeSub=this.reportService.reportEvent.subscribe(i=>{this.status=i}),this.isLoaded=!1,this.sub=this.vehicleService.getVehicleSearchData().subscribe(i=>{this.reportData=i.item,this.isLoaded=!0})}onMakeChange(i){this.modelListFiltered=this.reportData.modelList.filter(o=>o.make.id==this.reportForm.value.makeId)??[],this.reportForm.patchValue({modelId:""})}getReport(){var i=this;if(!this.reportForm.valid)return void this.reportForm.markAllAsTouched();let o=new u;o.searchKey=this.reportForm.value.searchKey,o.makeId=""!=this.reportForm.value.makeId?this.reportForm.value.makeId:null,o.modelId=""!=this.reportForm.value.modelId?this.reportForm.value.modelId:null,o.ownerId=""!=this.reportForm.value.ownerId?this.reportForm.value.ownerId:null,this.reportService.reportDownloading(),this.sub=this.vehicleReportService.getVehicleReport(o).subscribe(function(){var p=(0,c.Z)(function*(v){yield i.fileService.downloadFile(v,"VehicleReport")});return function(v){return p.apply(this,arguments)}}())}reset(){this.reportForm.patchValue({searchKey:"",makeId:"",modelId:"",ownerId:""})}ngOnDestroy(){this.sub?.unsubscribe(),this.valueChangeSub?.unsubscribe()}};let r=e;return e.\u0275fac=function(o){return new(o||e)(t.Y36(I.f),t.Y36(D),t.Y36(y.r),t.Y36(C.I))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-vehicle-report"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-6","offset-3","form-margin-top"],[1,"card"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"form-field","col-6"],["formControlName","makeId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","modelId"],[1,"form-field","col-8"],["formControlName","ownerId"],["appearance","outline","floatLabel","always",1,"form-field","col-4"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-4",3,"isReset","resetEvent"],[1,"col-4","offset-4"],[1,"col-12","text-center"],[3,"value"]],template:function(o,p){1&o&&t.YNc(0,J,39,6,"div",0),2&o&&t.Q6J("ngIf",p.isLoaded)},dependencies:[m.sg,m.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.KE,f.hX,x.Nt,R.gD,O.ey,U.h,M.X,b.t],styles:[".vertical-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:30%;transform:translate(-50%,-50%)}",".left-menu[_ngcontent-%COMP%]{height:80vh;overflow-y:scroll;overflow-x:hidden}.form-margin-top[_ngcontent-%COMP%]{margin-top:150px}"]}),r})();var w=n(3900);class S{}var V=n(3104);function B(r,e){if(1&r&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function Y(r,e){if(1&r&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function Q(r,e){if(1&r&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function q(r,e){if(1&r&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function W(r,e){if(1&r&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&r){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function G(r,e){if(1&r){const a=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-report-heading"),t._uU(4,"Vehicle Doc Report"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.getReport())}),t.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Doc Type"),t.qZA(),t.TgZ(10,"mat-select",7)(11,"mat-option",8),t._uU(12,"All"),t.qZA(),t.YNc(13,B,2,2,"mat-option",9),t.qZA()(),t.TgZ(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Mode"),t.qZA(),t.TgZ(17,"mat-select",11),t.YNc(18,Y,2,2,"mat-option",9),t.qZA()(),t.TgZ(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Expire In"),t.qZA(),t._UZ(22,"input",13),t.qZA()(),t.TgZ(23,"div",5)(24,"mat-form-field",14)(25,"mat-label"),t._uU(26,"Make"),t.qZA(),t.TgZ(27,"mat-select",15),t.NdJ("selectionChange",function(o){t.CHM(a);const p=t.oxw();return t.KtG(p.onMakeChange(o))}),t.TgZ(28,"mat-option",8),t._uU(29,"All"),t.qZA(),t.YNc(30,Q,2,2,"mat-option",9),t.qZA()(),t.TgZ(31,"mat-form-field",14)(32,"mat-label"),t._uU(33,"Model"),t.qZA(),t.TgZ(34,"mat-select",16)(35,"mat-option",8),t._uU(36,"All"),t.qZA(),t.YNc(37,q,2,2,"mat-option",9),t.qZA()()(),t.TgZ(38,"div",5)(39,"mat-form-field",17)(40,"mat-label"),t._uU(41,"Owner"),t.qZA(),t.TgZ(42,"mat-select",18)(43,"mat-option",8),t._uU(44,"All"),t.qZA(),t.YNc(45,W,2,2,"mat-option",9),t.qZA()(),t.TgZ(46,"mat-form-field",19)(47,"mat-label"),t._uU(48,"Search"),t.qZA(),t._UZ(49,"input",20),t.qZA()(),t.TgZ(50,"div",1)(51,"app-crud-reset-button",21),t.NdJ("resetEvent",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.reset())}),t.qZA(),t._UZ(52,"app-crud-download-button",22),t.qZA(),t.TgZ(53,"div",1)(54,"label",23),t._uU(55),t.qZA()()()()()()}if(2&r){const a=t.oxw();t.xp6(5),t.Q6J("formGroup",a.reportForm),t.xp6(8),t.Q6J("ngForOf",a.reportData.docTypeList),t.xp6(5),t.Q6J("ngForOf",a.reportData.searchModeList),t.xp6(12),t.Q6J("ngForOf",a.reportVehicleData.makeList),t.xp6(7),t.Q6J("ngForOf",a.modelListFiltered),t.xp6(8),t.Q6J("ngForOf",a.reportData.ownerList),t.xp6(6),t.Q6J("isReset",!1),t.xp6(4),t.Oqu(a.status)}}const X=[{path:"",component:K},{path:"doc",component:(()=>{const e=class{constructor(i,o,p,v,E){this.vehicleDocService=i,this.vehicleService=o,this.vehicleReportService=p,this.reportService=v,this.fileService=E,this.isLoaded=!1,this.status="",this.modelListFiltered=[]}ngOnInit(){this.reportForm=new l.cw({searchKey:new l.NI(""),makeId:new l.NI(""),modelId:new l.NI(""),ownerId:new l.NI(""),docTypeId:new l.NI(""),mode:new l.NI(4,[l.kI.required]),expiryDays:new l.NI(null)}),this.valueChangeSub=this.reportService.reportEvent.subscribe(i=>{this.status=i}),this.isLoaded=!1,this.sub=this.vehicleDocService.getVehicleDocSearchData().pipe((0,w.w)(i=>(this.reportData=i.item,this.vehicleService.getVehicleSearchData()))).subscribe(i=>{this.reportVehicleData=i.item,this.isLoaded=!0})}onMakeChange(i){this.modelListFiltered=this.reportVehicleData.modelList.filter(o=>o.make.id==this.reportForm.value.makeId)??[],this.reportForm.patchValue({modelId:""})}getReport(){var i=this;if(!this.reportForm.valid)return void this.reportForm.markAllAsTouched();let o=new S;o.searchKey=this.reportForm.value.searchKey,o.makeId=""!=this.reportForm.value.makeId?this.reportForm.value.makeId:null,o.modelId=""!=this.reportForm.value.modelId?this.reportForm.value.modelId:null,o.ownerId=""!=this.reportForm.value.ownerId?this.reportForm.value.ownerId:null,o.docTypeId=""!=this.reportForm.value.docTypeId?this.reportForm.value.docTypeId:null,o.mode=this.reportForm.value.mode,o.expiryDays=this.reportForm.value.expiryDays,this.reportService.reportDownloading(),this.sub=this.vehicleReportService.getVehicleDocReport(o).subscribe(function(){var p=(0,c.Z)(function*(v){yield i.fileService.downloadFile(v,"VehicleDocReport")});return function(v){return p.apply(this,arguments)}}())}reset(){this.reportForm.patchValue({searchKey:"",makeId:"",modelId:"",ownerId:"",docTypeId:"",mode:4,expiryDays:null})}ngOnDestroy(){this.sub?.unsubscribe(),this.valueChangeSub?.unsubscribe()}};let r=e;return e.\u0275fac=function(o){return new(o||e)(t.Y36(V.l),t.Y36(I.f),t.Y36(D),t.Y36(y.r),t.Y36(C.I))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-vehicle-doc-report"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-6","offset-3","form-margin-top"],[1,"card"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"form-field","col-5"],["formControlName","docTypeId"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-4"],["formControlName","mode"],["appearance","outline","floatLabel","always",1,"form-field","col-3"],["type","number","placeholder","","matInput","","formControlName","expiryDays"],[1,"form-field","col-6"],["formControlName","makeId",3,"selectionChange"],["formControlName","modelId"],[1,"form-field","col-8"],["formControlName","ownerId"],["appearance","outline","floatLabel","always",1,"form-field","col-4"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-4",3,"isReset","resetEvent"],[1,"col-4","offset-4"],[1,"col-12","text-center"],[3,"value"]],template:function(o,p){1&o&&t.YNc(0,G,56,8,"div",0),2&o&&t.Q6J("ngIf",p.isLoaded)},dependencies:[m.sg,m.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,f.KE,f.hX,x.Nt,R.gD,O.ey,U.h,M.X,b.t],styles:[".left-menu[_ngcontent-%COMP%]{height:80vh;overflow-y:scroll;overflow-x:hidden}.form-margin-top[_ngcontent-%COMP%]{margin-top:150px}"]}),r})()}];let H=(()=>{const e=class{};let r=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Z.Bz.forChild(X)]}),r})(),$=(()=>{const e=class{};let r=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,H,l.u5,l.UX,s.JF,_._,h.m,A.ReportModule]}),r})()},4682:(F,g,n)=>{n.d(g,{X:()=>Z});var m=n(7579),s=n(4650),l=n(6895),_=n(4859);function h(c,u){if(1&c){const t=s.EpF();s.TgZ(0,"button",2),s.NdJ("click",function(){s.CHM(t);const d=s.oxw();return s.KtG(d.resetItem())}),s._uU(1,"Reset"),s.qZA()}}function A(c,u){if(1&c){const t=s.EpF();s.TgZ(0,"button",3),s.NdJ("click",function(){s.CHM(t);const d=s.oxw();return s.KtG(d.resetItem())}),s._uU(1,"Reset"),s.qZA()}}let Z=(()=>{const u=class{constructor(){this.resetEvent=new m.x,this.isReset=!0}resetItem(){this.resetEvent.next()}};let c=u;return u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=s.Xpm({type:u,selectors:[["app-crud-reset-button"]],inputs:{isReset:"isReset"},outputs:{resetEvent:"resetEvent"},decls:2,vars:2,consts:[["type","reset","mat-raised-button","","color","accent","class","col-12 my-2",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","accent","class","col-12 my-2",3,"click",4,"ngIf"],["type","reset","mat-raised-button","","color","accent",1,"col-12","my-2",3,"click"],["type","button","mat-raised-button","","color","accent",1,"col-12","my-2",3,"click"]],template:function(d,T){1&d&&(s.YNc(0,h,2,0,"button",0),s.YNc(1,A,2,0,"button",1)),2&d&&(s.Q6J("ngIf",T.isReset),s.xp6(1),s.Q6J("ngIf",!T.isReset))},dependencies:[l.O5,_.lW]}),c})()},2043:(F,g,n)=>{n.d(g,{H:()=>l});var m=n(4650);const s=["*"];let l=(()=>{const h=class{};let _=h;return h.\u0275fac=function(c){return new(c||h)},h.\u0275cmp=m.Xpm({type:h,selectors:[["app-form-heading"]],ngContentSelectors:s,decls:3,vars:0,consts:[[1,"text-center","bg-primary","text-light","py-3"],[1,"fw-normal"]],template:function(c,u){1&c&&(m.F$t(),m.TgZ(0,"div",0)(1,"h5",1),m.Hsn(2),m.qZA()())}}),_})()},3214:(F,g,n)=>{n.d(g,{_:()=>y});var m=n(4859),s=n(5412),l=n(9549),_=n(7392),h=n(4144),A=n(7974),Z=n(4385),c=n(455),u=n(7155),t=n(9602),I=n(3238),d=n(2673),T=n(7100),D=n(4650);let y=(()=>{const f=class{};let C=f;return f.\u0275fac=function(O){return new(O||f)},f.\u0275mod=D.oAB({type:f}),f.\u0275inj=D.cJS({imports:[u.p0,A.TU,l.lN,h.c,m.ot,_.Ps,s.Is,Z.LD,c.rP,t.FA,I.XK,d.g,T.EC,T.Yy,T.K]}),C})()}}]);