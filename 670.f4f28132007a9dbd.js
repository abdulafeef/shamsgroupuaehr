"use strict";(self.webpackChunkshams_hr_web_app=self.webpackChunkshams_hr_web_app||[]).push([[670],{9390:(T,v,e)=>{e.r(v),e.d(v,{ReportEmployeeModule:()=>j});var m=e(6895),l=e(5861),i=e(4006);class f{}var t=e(4650),h=e(5332),d=e(9057),r=e(5);let n=(()=>{const o=class{constructor(c){this.http=c}getEmployeeReport(c){return this.http.postAttachment(d.b.getEmployeeReport,c)}};let a=o;return o.\u0275fac=function(s){return new(s||o)(t.LFG(r.o))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();var u=e(6523),y=e(8064),_=e(9549),I=e(4144),Z=e(4385),A=e(3238),E=e(2406),R=e(4682),C=e(6303);function b(a,o){if(1&a&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&a){const p=o.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function x(a,o){if(1&a&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&a){const p=o.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function F(a,o){if(1&a&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&a){const p=o.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function U(a,o){if(1&a){const p=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-report-heading"),t._uU(4,"Employee Report"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){t.CHM(p);const s=t.oxw();return t.KtG(s.getReport())}),t.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Company"),t.qZA(),t.TgZ(10,"mat-select",7)(11,"mat-option",8),t._uU(12,"All"),t.qZA(),t.YNc(13,b,2,2,"mat-option",9),t.qZA()(),t.TgZ(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Nationality"),t.qZA(),t.TgZ(17,"mat-select",11)(18,"mat-option",8),t._uU(19,"All"),t.qZA(),t.YNc(20,x,2,2,"mat-option",9),t.qZA()()(),t.TgZ(21,"div",5)(22,"mat-form-field",6)(23,"mat-label"),t._uU(24,"Profession"),t.qZA(),t.TgZ(25,"mat-select",12)(26,"mat-option",8),t._uU(27,"All"),t.qZA(),t.YNc(28,F,2,2,"mat-option",9),t.qZA()(),t.TgZ(29,"mat-form-field",13)(30,"mat-label"),t._uU(31,"Search"),t.qZA(),t._UZ(32,"input",14),t.qZA()(),t.TgZ(33,"div",1)(34,"app-crud-reset-button",15),t.NdJ("resetEvent",function(){t.CHM(p);const s=t.oxw();return t.KtG(s.reset())}),t.qZA(),t._UZ(35,"app-crud-download-button",16),t.qZA(),t.TgZ(36,"div",1)(37,"label",17),t._uU(38),t.qZA()()()()()()}if(2&a){const p=t.oxw();t.xp6(5),t.Q6J("formGroup",p.reportForm),t.xp6(8),t.Q6J("ngForOf",p.reportData.companyList),t.xp6(7),t.Q6J("ngForOf",p.reportData.countryList),t.xp6(8),t.Q6J("ngForOf",p.reportData.groupList),t.xp6(6),t.Q6J("isReset",!1),t.xp6(4),t.Oqu(p.status)}}let M=(()=>{const o=class{constructor(c,s,g,D){this.employeeService=c,this.employeeReportService=s,this.reportService=g,this.fileService=D,this.isLoaded=!1,this.status=""}ngOnInit(){this.reportForm=new i.cw({searchKey:new i.NI(""),companyId:new i.NI(""),groupId:new i.NI(""),countryId:new i.NI("")}),this.valueChangeSub=this.reportService.reportEvent.subscribe(c=>{this.status=c}),this.isLoaded=!1,this.sub=this.employeeService.getEmployeeSearchData().subscribe(c=>{this.reportData=c.item,this.isLoaded=!0})}getReport(){var c=this;if(!this.reportForm.valid)return void this.reportForm.markAllAsTouched();let s=new f;s.searchKey=this.reportForm.value.searchKey,s.companyId=""!=this.reportForm.value.companyId?this.reportForm.value.companyId:null,s.groupId=""!=this.reportForm.value.groupId?this.reportForm.value.groupId:null,s.countryId=""!=this.reportForm.value.countryId?this.reportForm.value.countryId:null,this.reportService.reportDownloading(),this.sub=this.employeeReportService.getEmployeeReport(s).subscribe(function(){var g=(0,l.Z)(function*(D){yield c.fileService.downloadFile(D,"EmployeeReport")});return function(D){return g.apply(this,arguments)}}())}reset(){this.reportForm.patchValue({searchKey:"",companyId:"",groupId:"",countryId:""})}ngOnDestroy(){this.sub?.unsubscribe(),this.valueChangeSub?.unsubscribe()}};let a=o;return o.\u0275fac=function(s){return new(s||o)(t.Y36(h.G),t.Y36(n),t.Y36(u.r),t.Y36(y.I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-get-employee-report"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-6","offset-3","form-margin-top"],[1,"card"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"form-field","col-7"],["formControlName","companyId"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-5"],["formControlName","countryId"],["formControlName","groupId"],["appearance","outline","floatLabel","always",1,"form-field","col-5"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-4",3,"isReset","resetEvent"],[1,"col-4","offset-4"],[1,"col-12","text-center"],[3,"value"]],template:function(s,g){1&s&&t.YNc(0,U,39,6,"div",0),2&s&&t.Q6J("ngIf",g.isLoaded)},dependencies:[m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.KE,_.hX,I.Nt,Z.gD,A.ey,E.h,R.X,C.t],styles:[".vertical-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:30%;transform:translate(-50%,-50%)}",".left-menu[_ngcontent-%COMP%]{height:80vh;overflow-y:scroll;overflow-x:hidden}.form-margin-top[_ngcontent-%COMP%]{margin-top:150px}"]}),a})();var L=e(1635);class P{}var K=e(538);let N=(()=>{const o=class{constructor(c){this.http=c}getEmployeeDocReport(c){return this.http.postAttachment(d.b.getEmployeeDocReport,c)}};let a=o;return o.\u0275fac=function(s){return new(s||o)(t.LFG(r.o))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function B(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const p=o.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function w(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const p=o.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function J(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const p=o.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function S(a,o){if(1&a){const p=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-report-heading"),t._uU(4,"Employee Doc Report"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){t.CHM(p);const s=t.oxw();return t.KtG(s.getReport())}),t.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Doc Type"),t.qZA(),t.TgZ(10,"mat-select",7)(11,"mat-option",8),t._uU(12,"All"),t.qZA(),t.YNc(13,B,2,2,"mat-option",9),t.qZA()(),t.TgZ(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Mode"),t.qZA(),t.TgZ(17,"mat-select",11),t.YNc(18,w,2,2,"mat-option",9),t.qZA()(),t.TgZ(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Expire In"),t.qZA(),t._UZ(22,"input",13),t.qZA()(),t.TgZ(23,"div",5)(24,"mat-form-field",14)(25,"mat-label"),t._uU(26,"Company"),t.qZA(),t.TgZ(27,"mat-select",15)(28,"mat-option",8),t._uU(29,"All"),t.qZA(),t.YNc(30,J,2,2,"mat-option",9),t.qZA()(),t.TgZ(31,"mat-form-field",16)(32,"mat-label"),t._uU(33,"Search"),t.qZA(),t._UZ(34,"input",17),t.qZA()(),t.TgZ(35,"div",1)(36,"app-crud-reset-button",18),t.NdJ("resetEvent",function(){t.CHM(p);const s=t.oxw();return t.KtG(s.reset())}),t.qZA(),t._UZ(37,"app-crud-download-button",19),t.qZA(),t.TgZ(38,"div",1)(39,"label",20),t._uU(40),t.qZA()()()()()()}if(2&a){const p=t.oxw();t.xp6(5),t.Q6J("formGroup",p.reportForm),t.xp6(8),t.Q6J("ngForOf",p.reportData.docTypeList),t.xp6(5),t.Q6J("ngForOf",p.reportData.searchModeList),t.xp6(12),t.Q6J("ngForOf",p.reportData.companyList),t.xp6(6),t.Q6J("isReset",!1),t.xp6(4),t.Oqu(p.status)}}const G=[{path:"",component:M},{path:"doc",component:(()=>{const o=class{constructor(c,s,g,D){this.employeeDocService=c,this.employeeDocReportService=s,this.reportService=g,this.fileService=D,this.isLoaded=!1,this.status=""}ngOnInit(){this.reportForm=new i.cw({searchKey:new i.NI(""),companyId:new i.NI(""),docTypeId:new i.NI(""),mode:new i.NI(4,[i.kI.required]),expiryDays:new i.NI(null)}),this.valueChangeSub=this.reportService.reportEvent.subscribe(c=>{this.status=c}),this.isLoaded=!1,this.sub=this.employeeDocService.getEmployeeDocSearchData().subscribe(c=>{this.reportData=c.item,this.isLoaded=!0})}getReport(){var c=this;if(!this.reportForm.valid)return void this.reportForm.markAllAsTouched();let s=new P;s.searchKey=this.reportForm.value.searchKey,s.companyId=""!=this.reportForm.value.companyId?this.reportForm.value.companyId:null,s.docTypeId=""!=this.reportForm.value.docTypeId?this.reportForm.value.docTypeId:null,s.mode=this.reportForm.value.mode,s.expiryDays=this.reportForm.value.expiryDays,this.reportService.reportDownloading(),this.sub=this.employeeDocReportService.getEmployeeDocReport(s).subscribe(function(){var g=(0,l.Z)(function*(D){yield c.fileService.downloadFile(D,"EmployeeDocReport")});return function(D){return g.apply(this,arguments)}}())}reset(){this.reportForm.patchValue({searchKey:"",companyId:"",docTypeId:"",mode:4,expiryDays:null})}ngOnDestroy(){this.sub?.unsubscribe(),this.valueChangeSub?.unsubscribe()}};let a=o;return o.\u0275fac=function(s){return new(s||o)(t.Y36(K.L),t.Y36(N),t.Y36(u.r),t.Y36(y.I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-employee-doc-report"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-6","offset-3","form-margin-top"],[1,"card"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"form-field","col-5"],["formControlName","docTypeId"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-4"],["formControlName","mode"],["appearance","outline","floatLabel","always",1,"form-field","col-3"],["type","number","placeholder","","matInput","","formControlName","expiryDays"],[1,"form-field","col-8"],["formControlName","companyId"],["appearance","outline","floatLabel","always",1,"form-field","col-4"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-4",3,"isReset","resetEvent"],[1,"col-4","offset-4"],[1,"col-12","text-center"],[3,"value"]],template:function(s,g){1&s&&t.YNc(0,S,41,6,"div",0),2&s&&t.Q6J("ngIf",g.isLoaded)},dependencies:[m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,_.KE,_.hX,I.Nt,Z.gD,A.ey,E.h,R.X,C.t],styles:[".left-menu[_ngcontent-%COMP%]{height:80vh;overflow-y:scroll;overflow-x:hidden}.form-margin-top[_ngcontent-%COMP%]{margin-top:150px}"]}),a})()}];let W=(()=>{const o=class{};let a=o;return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[L.Bz.forChild(G)]}),a})();var Y=e(529),Q=e(3214),X=e(1260),H=e(4661);let j=(()=>{const o=class{};let a=o;return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,W,i.u5,i.UX,Y.JF,Q._,X.m,H.ReportModule]}),a})()},4682:(T,v,e)=>{e.d(v,{X:()=>d});var m=e(7579),l=e(4650),i=e(6895),f=e(4859);function t(r,n){if(1&r){const u=l.EpF();l.TgZ(0,"button",2),l.NdJ("click",function(){l.CHM(u);const _=l.oxw();return l.KtG(_.resetItem())}),l._uU(1,"Reset"),l.qZA()}}function h(r,n){if(1&r){const u=l.EpF();l.TgZ(0,"button",3),l.NdJ("click",function(){l.CHM(u);const _=l.oxw();return l.KtG(_.resetItem())}),l._uU(1,"Reset"),l.qZA()}}let d=(()=>{const n=class{constructor(){this.resetEvent=new m.x,this.isReset=!0}resetItem(){this.resetEvent.next()}};let r=n;return n.\u0275fac=function(_){return new(_||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-crud-reset-button"]],inputs:{isReset:"isReset"},outputs:{resetEvent:"resetEvent"},decls:2,vars:2,consts:[["type","reset","mat-raised-button","","color","accent","class","col-12 my-2",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","accent","class","col-12 my-2",3,"click",4,"ngIf"],["type","reset","mat-raised-button","","color","accent",1,"col-12","my-2",3,"click"],["type","button","mat-raised-button","","color","accent",1,"col-12","my-2",3,"click"]],template:function(_,I){1&_&&(l.YNc(0,t,2,0,"button",0),l.YNc(1,h,2,0,"button",1)),2&_&&(l.Q6J("ngIf",I.isReset),l.xp6(1),l.Q6J("ngIf",!I.isReset))},dependencies:[i.O5,f.lW]}),r})()},2043:(T,v,e)=>{e.d(v,{H:()=>i});var m=e(4650);const l=["*"];let i=(()=>{const t=class{};let f=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-form-heading"]],ngContentSelectors:l,decls:3,vars:0,consts:[[1,"text-center","bg-primary","text-light","py-3"],[1,"fw-normal"]],template:function(r,n){1&r&&(m.F$t(),m.TgZ(0,"div",0)(1,"h5",1),m.Hsn(2),m.qZA()())}}),f})()},3214:(T,v,e)=>{e.d(v,{_:()=>Z});var m=e(4859),l=e(5412),i=e(9549),f=e(7392),t=e(4144),h=e(7974),d=e(4385),r=e(455),n=e(7155),u=e(9602),y=e(3238),_=e(2673),I=e(4650);let Z=(()=>{const E=class{};let A=E;return E.\u0275fac=function(b){return new(b||E)},E.\u0275mod=I.oAB({type:E}),E.\u0275inj=I.cJS({imports:[n.p0,h.TU,i.lN,t.c,m.ot,f.Ps,l.Is,d.LD,r.rP,u.FA,y.XK,_.g]}),A})()},5332:(T,v,e)=>{e.d(v,{G:()=>f});var m=e(9057),l=e(4650),i=e(5);let f=(()=>{const h=class{constructor(r){this.http=r}getEmployeeList(r){return this.http.post(m.b.getEmployeeList,r)}getEmployeeListByCompany(r){let n=m.b.getEmployeeListByCompany;return n=n.replace(/{companyId}/gi,r),this.http.get(n)}getEmployeeSearchData(){return this.http.get(m.b.getEmployeeSearchData)}getEmployeeById(r){let n=m.b.getEmployeeById;return n=n.replace(/{id}/gi,r),this.http.get(n)}getEmployeeManageData(){return this.http.get(m.b.getEmployeeManageData)}addEmployee(r){return this.http.post(m.b.addEmployee,r)}addEmployeeDoc(r){return this.http.post(m.b.addEmployeeDoc,r)}editEmployee(r){return this.http.post(m.b.editEmployee,r)}exportEmployeeDoc(r){let n=m.b.exportEmployeeDoc;return n=n.replace(/{id}/gi,r),this.http.postAttachment(n,null)}deleteEmployee(r){let n=m.b.deleteEmployee;return n=n.replace(/{id}/gi,r),this.http.post(n,null)}importEmployee(r){return this.http.post(m.b.importEmployee,r)}verifyEmployee(r){return this.http.post(m.b.verifyEmployee,r)}};let t=h;return h.\u0275fac=function(n){return new(n||h)(l.LFG(i.o))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),t})()},8064:(T,v,e)=>{e.d(v,{I:()=>i});var m=e(4650),l=e(6523);let i=(()=>{const t=class{constructor(d){this.reportService=d}viewFile(d){const r=new Blob([d.body],{type:d.body?.type});if(""!=r.type){const n=window.URL.createObjectURL(r);window.open(n)}}downloadFile(d,r){const n=new Blob([d.body],{type:d.body?.type});if(""!=n.type){const u=document.createElement("a");u.setAttribute("style","display:none;"),document.body.appendChild(u),u.download=r,u.href=URL.createObjectURL(n),u.target="_blank",u.click(),document.body.removeChild(u),this.reportService.reportDownloaded(),setTimeout(()=>{this.reportService.reportEvent.next("")},3e3)}}};let f=t;return t.\u0275fac=function(r){return new(r||t)(m.LFG(l.r))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),f})()},5861:(T,v,e)=>{function m(i,f,t,h,d,r,n){try{var u=i[r](n),y=u.value}catch(_){return void t(_)}u.done?f(y):Promise.resolve(y).then(h,d)}function l(i){return function(){var f=this,t=arguments;return new Promise(function(h,d){var r=i.apply(f,t);function n(y){m(r,h,d,n,u,"next",y)}function u(y){m(r,h,d,n,u,"throw",y)}n(void 0)})}}e.d(v,{Z:()=>l})}}]);