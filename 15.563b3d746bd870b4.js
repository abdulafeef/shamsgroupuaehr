"use strict";(self.webpackChunkshams_hr_web_app=self.webpackChunkshams_hr_web_app||[]).push([[15],{8015:(F,Z,c)=>{c.r(Z),c.d(Z,{MasterEmployeeModule:()=>Ga});var _=c(6895),f=c(1635),m=c(7155),y=c(9172),v=c(5311),h=c(1654),d=c(673),T=c(9112),l=c(4006),u=c(5412),x=c(3918);class A extends x.M{}var N=c(3133);class Ze extends N.x{}var e=c(4650),C=c(9057),q=c(5);let Y=(()=>{const a=class{constructor(o){this.http=o}getCompanyCategoryList(o){return this.http.post(C.b.getCompanyCategoryList,o)}addCompanyCategory(o){return this.http.post(C.b.addCompanyCategory,o)}editCompanyCategory(o){return this.http.post(C.b.editCompanyCategory,o)}deleteCompanyCategory(o){let n=C.b.deleteCompanyCategory;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.LFG(q.o))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();var D=c(9549),J=c(4144),S=c(455),k=c(2833),K=c(7786),R=c(4682),M=c(2043);function we(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function De(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Edit"),e.qZA())}function Ee(t,a){1&t&&(e.TgZ(0,"mat-slide-toggle",12),e._uU(1,"Active"),e.qZA())}function Ie(t,a){1&t&&e._UZ(0,"app-crud-add-button",13)}function Ae(t,a){1&t&&e._UZ(0,"app-crud-edit-button",13)}let me=(()=>{const a=class{constructor(o,n,i){this.dialogRef=o,this.companyCategoryService=n,this.data=i}ngOnInit(){this.manageForm=new l.cw({name:new l.NI(null,[l.kI.required]),code:new l.NI(null,[l.kI.required]),active:new l.NI(!0,[l.kI.required])}),null!=this.data&&this.manageForm.setValue({name:this.data.name,code:this.data.code,active:this.data.active})}manageCompanyCategory(){this.manageForm.valid?null==this.data?this.addCompanyCategory():this.editCompanyCategory():this.manageForm.markAllAsTouched()}addCompanyCategory(){let o=new A;o.name=this.manageForm.value.name,o.code=this.manageForm.value.code,this.sub=this.companyCategoryService.addCompanyCategory(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}editCompanyCategory(){let o=new Ze;o.id=this.data?.id,o.name=this.manageForm.value.name,o.code=this.manageForm.value.code,o.active=this.manageForm.value.active,this.sub=this.companyCategoryService.editCompanyCategory(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(Y),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-company-category"]],decls:21,vars:7,consts:[[4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-12"],["type","text","matInput","","formControlName","name"],[1,"form-field",3,"ngClass"],["type","text","matInput","","formControlName","code"],["class","form-field col-7 text-end","formControlName","active",4,"ngIf"],[1,"row"],[1,"col-4",3,"resetEvent"],["class","col-4 offset-4",4,"ngIf"],["formControlName","active",1,"form-field","col-7","text-end"],[1,"col-4","offset-4"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,we,2,0,"span",0),e.YNc(2,De,2,0,"span",0),e._uU(3," Company Category\n"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("submit",function(){return i.manageCompanyCategory()}),e.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",5),e.qZA()(),e.TgZ(11,"div",3)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Code"),e.qZA(),e._UZ(15,"input",7),e.qZA(),e.YNc(16,Ee,2,0,"mat-slide-toggle",8),e.qZA(),e.TgZ(17,"div",9)(18,"app-crud-reset-button",10),e.NdJ("resetEvent",function(){return i.reset()}),e.qZA(),e.YNc(19,Ie,1,0,"app-crud-add-button",11),e.YNc(20,Ae,1,0,"app-crud-edit-button",11),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("formGroup",i.manageForm),e.xp6(7),e.Q6J("ngClass","col-5"),e.xp6(4),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data))},dependencies:[_.mk,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,D.KE,D.hX,J.Nt,u.xY,S.Rr,k.L,K.W,R.X,M.H]}),t})();var b=c(1219),H=c(1966),P=c(2696),w=c(7579),O=c(7974),$=c(6141),Q=c(1837),B=c(1763);const be=["page"];function Le(t,a){1&t&&(e.TgZ(0,"th",13),e._uU(1," Name "),e.qZA())}function Ne(t,a){if(1&t&&(e.TgZ(0,"td",14)(1,"app-active-text",15),e._uU(2),e.qZA()()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("active",s.active),e.xp6(1),e.Oqu(s.name)}}function qe(t,a){1&t&&(e.TgZ(0,"th",13),e._uU(1," Code "),e.qZA())}function Fe(t,a){if(1&t&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.code," ")}}function Ue(t,a){1&t&&e._UZ(0,"th",16)}function Je(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-edit-action-icon",20),e.NdJ("editEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.edit(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Me(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-delete-action-icon",21),e.NdJ("deleteEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.delete(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Qe(t,a){if(1&t&&(e.TgZ(0,"td",17),e.YNc(1,Je,1,1,"app-edit-action-icon",18),e.YNc(2,Me,1,1,"app-delete-action-icon",19),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.allowEdit),e.xp6(1),e.Q6J("ngIf",s.allowDelete)}}function Ye(t,a){1&t&&e._UZ(0,"tr",22)}function Se(t,a){1&t&&e._UZ(0,"tr",23)}const Re=function(){return[10,20,50]};let Oe=(()=>{const a=class{constructor(o,n){this.menuRoleService=o,this.dialog=n,this.editEvent=new w.x,this.deleteEvent=new w.x,this.displayedColumns=["name","code","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.CompanyCategory_Employee_Master,h.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.CompanyCategory_Employee_Master,h.k.delete)}ngOnChanges(o){this.companyCategoryList.paginator=this.paginator}ngAfterViewInit(){this.companyCategoryList.paginator=this.paginator}edit(o){this.dialog.open(me,{data:o,width:"20%",autoFocus:!1}).afterClosed().subscribe(i=>{1==i&&this.editEvent.next()})}delete(o){this.deleteEvent.next(o)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-category-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(be,5),2&n){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},inputs:{companyCategoryList:"companyCategoryList"},outputs:{editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[e.TTD],decls:15,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","col text-end",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],["mat-header-cell",""],["mat-cell","",1,"col"],[3,"active"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"col","text-end"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,Le,2,0,"th",3),e.YNc(4,Ne,3,2,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,qe,2,0,"th",3),e.YNc(7,Fe,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,Ue,1,0,"th",7),e.YNc(10,Qe,3,2,"td",8),e.BQk(),e.YNc(11,Ye,1,0,"tr",9),e.YNc(12,Se,1,0,"tr",10),e.qZA(),e._UZ(13,"mat-paginator",11,12),e.qZA()),2&n&&(e.xp6(1),e.Q6J("dataSource",i.companyCategoryList),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Re)))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,O.NW,$.j,Q.b,B.p]}),t})();function Ge(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",3)(1,"app-add-button",4),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addCompanyCategory())}),e.qZA()()}}let ke=(()=>{const a=class extends T.Q{constructor(o,n,i){super(),this.menuRoleService=o,this.companyCategoryService=n,this.dialog=i,this.allowAdd=!1}ngOnInit(){this.dataSource=new m.by(this.eList),this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.CompanyCategory_Employee_Master,h.k.add)}ngAfterViewInit(){this.getList()}getList(){this.sub=this.companyCategoryService.getCompanyCategoryList(this.req).subscribe(o=>{this.update(o)})}addCompanyCategory(){this.dialog.open(me,{data:null,width:"20%",autoFocus:!1}).afterClosed().subscribe(n=>{1==n&&this.refreshList()})}editCompanyCategory(){this.refreshList()}deleteCompanyCategory(o){confirm(v.J.confirmDelete(o.name))&&(this.sub=this.companyCategoryService.deleteCompanyCategory(o.id).subscribe(n=>{n?.status==d.s.success?this.refreshList():alert(n?.message)}))}ngOnDestroy(){this.destroy()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(Y),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-category"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"onSearchChange","onSearch"],["class","row",4,"ngIf"],[3,"companyCategoryList","editEvent","deleteEvent"],[1,"row"],[1,"col-1","offset-11",3,"addEvent"]],template:function(n,i){1&n&&(e.TgZ(0,"app-search-filter",0),e.NdJ("onSearchChange",function(p){return i.changeSearchKey(p)})("onSearch",function(){return i.getList()}),e.qZA(),e.YNc(1,Ge,2,0,"div",1),e.TgZ(2,"app-company-category-list",2),e.NdJ("editEvent",function(){return i.editCompanyCategory()})("deleteEvent",function(p){return i.deleteCompanyCategory(p)}),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.allowAdd),e.xp6(1),e.Q6J("companyCategoryList",i.dataSource))},dependencies:[_.O5,H.c,P.L,Oe]}),t})();var ne=c(4880),V=c(3900),oe=c(9646),de=c(4128);class Ke extends x.M{}var pe=c(8230);class G{}let z=(()=>{const a=class{constructor(o){this.http=o}getCompanyList(o){return this.http.post(C.b.getCompanyList,o)}getCompanyById(o){let n=C.b.getCompanyById;return n=n.replace(/{id}/gi,o),this.http.get(n)}getCompanyManageData(){return this.http.get(C.b.getCompanyManageData)}addCompany(o){return this.http.post(C.b.addCompany,o)}editCompany(o){return this.http.post(C.b.editCompany,o)}deleteCompany(o){let n=C.b.deleteCompany;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.LFG(q.o))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})(),ae=(()=>{const a=class{constructor(o){this.http=o}getCompanyDocList(o){return this.http.post(C.b.getCompanyDocList,o)}getCompanyDocSearchData(){return this.http.get(C.b.getCompanyDocSearchData)}addCompanyDoc(o){return this.http.post(C.b.addCompanyDoc,o)}addCompanyDocFile(o){return this.http.post(C.b.addCompanyDocFile,o)}removeCompanyDoc(o){let n=C.b.removeCompanyDoc;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}removeCompanyDocFile(o){let n=C.b.removeCompanyDocFile;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}exportCompanyDoc(o){let n=C.b.exportCompanyDoc;return n=n.replace(/{id}/gi,o),this.http.postAttachment(n,null)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.LFG(q.o))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();var se=c(5659),W=c(4859),j=c(4385),X=c(3238),U=c(9602),ue=c(1234);const He=["docUpload"],Pe=["docName"];function $e(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function Be(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Ve(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s),e.xp6(1),e.Oqu(s)}}function ze(t,a){if(1&t&&(e.TgZ(0,"div",4)(1,"mat-form-field",7)(2,"mat-label"),e._uU(3,"Type"),e.qZA(),e.TgZ(4,"mat-select",33),e.YNc(5,Ve,2,2,"mat-option",11),e.qZA()(),e.TgZ(6,"mat-form-field",9)(7,"mat-label"),e._uU(8,"Work/Home"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"mat-form-field",34)(11,"mat-label"),e._uU(12,"Building/Flat Number"),e.qZA(),e._UZ(13,"input",35),e.qZA(),e.TgZ(14,"mat-form-field",34)(15,"mat-label"),e._uU(16,"Building/Flat Name"),e.qZA(),e._UZ(17,"input",36),e.qZA()()),2&t){const s=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",s.manageData.addressManageData.addressTypeList)}}function We(t,a){1&t&&(e.TgZ(0,"div",4)(1,"mat-form-field",34)(2,"mat-label"),e._uU(3,"Street"),e.qZA(),e._UZ(4,"input",37),e.qZA(),e.TgZ(5,"mat-form-field",7)(6,"mat-label"),e._uU(7,"City"),e.qZA(),e._UZ(8,"input",38),e.qZA(),e.TgZ(9,"mat-form-field",39)(10,"mat-label"),e._uU(11,"Landmark"),e.qZA(),e._UZ(12,"input",40),e.qZA(),e.TgZ(13,"mat-form-field",7)(14,"mat-label"),e._uU(15,"Pincode"),e.qZA(),e._UZ(16,"input",41),e.qZA()())}function je(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Xe(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function et(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function tt(t,a){1&t&&(e.TgZ(0,"div",21)(1,"label",14),e._uU(2,"Contact"),e.qZA()())}function nt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",50)(1,"div",4)(2,"mat-form-field",51)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",52),e.qZA(),e.TgZ(6,"div",53)(7,"app-delete-action-icon",54),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(3);return e.KtG(r.deleteMobileContactItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index;e.Q6J("formGroupName",o),e.xp6(4),e.hij("Mobile ",o+1,""),e.xp6(3),e.Q6J("item",s)}}function ot(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",50)(1,"div",4)(2,"mat-form-field",55)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",52),e.qZA(),e.TgZ(6,"div",56)(7,"app-delete-action-icon",54),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(3);return e.KtG(r.deletePhoneContactItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index;e.Q6J("formGroupName",o),e.xp6(4),e.hij("Phone ",o+1,""),e.xp6(3),e.Q6J("item",s)}}function at(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",50)(1,"div",4)(2,"mat-form-field",51)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",52),e.qZA(),e.TgZ(6,"div",53)(7,"app-delete-action-icon",54),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(3);return e.KtG(r.deleteEmailContactItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index;e.Q6J("formGroupName",o),e.xp6(4),e.hij("Email ",o+1,""),e.xp6(3),e.Q6J("item",s)}}function it(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",21)(1,"div",42)(2,"div",43)(3,"div",24)(4,"div",44)(5,"label"),e._uU(6,"Mobile"),e.qZA()(),e.TgZ(7,"div",45)(8,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.addMobileContactItemForm())}),e.qZA()()(),e.TgZ(9,"div",28),e.YNc(10,nt,8,3,"div",29),e.qZA()()(),e.TgZ(11,"div",46)(12,"div",47)(13,"div",24)(14,"div",44)(15,"label"),e._uU(16,"Phone"),e.qZA()(),e.TgZ(17,"div",45)(18,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.addPhoneContactItemForm())}),e.qZA()()(),e.TgZ(19,"div",28),e.YNc(20,ot,8,3,"div",29),e.qZA()()(),e.TgZ(21,"div",48)(22,"div",49)(23,"div",24)(24,"div",44)(25,"label"),e._uU(26,"Email"),e.qZA()(),e.TgZ(27,"div",45)(28,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.addEmailContactItemForm())}),e.qZA()()(),e.TgZ(29,"div",28),e.YNc(30,at,8,3,"div",29),e.qZA()()()()}if(2&t){const s=e.oxw(2);e.xp6(10),e.Q6J("ngForOf",s.mobileContactListControls),e.xp6(10),e.Q6J("ngForOf",s.phoneContactListControls),e.xp6(10),e.Q6J("ngForOf",s.emailContactListControls)}}function st(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function lt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().index,i=e.oxw(2);return e.KtG(i.onDocRemove(n))}),e._uU(1,"Remove File"),e.qZA()}}function rt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",50)(1,"div",4)(2,"mat-form-field",7)(3,"mat-label"),e._uU(4,"Doc Type"),e.qZA(),e.TgZ(5,"mat-select",57,58),e.NdJ("selectionChange",function(n){const r=e.CHM(s).index,p=e.oxw(2);return e.KtG(p.onDocumentTypeChange(n,r))}),e.YNc(7,st,2,2,"mat-option",11),e.qZA()(),e.TgZ(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Identifier"),e.qZA(),e._UZ(11,"input",59),e.qZA(),e.TgZ(12,"mat-form-field",60)(13,"mat-label"),e._uU(14,"Expiry"),e.qZA(),e._UZ(15,"input",61)(16,"mat-datepicker-toggle",62)(17,"mat-datepicker",null,63),e.qZA(),e.TgZ(19,"div",64)(20,"button",65),e.NdJ("click",function(){const i=e.CHM(s).index,r=e.oxw(2);return e.KtG(r.onDocSelect(i))}),e._uU(21,"Select File"),e.qZA(),e._UZ(22,"input",66,67)(24,"label",44,68),e.YNc(26,lt,2,0,"button",69),e.qZA(),e.TgZ(27,"div",70)(28,"app-delete-action-icon",54),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(2);return e.KtG(r.deleteDocumentItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index,n=e.MAs(6),i=e.MAs(18),r=e.MAs(25),p=e.oxw(2);e.Q6J("formGroupName",o),e.xp6(7),e.Q6J("ngForOf",p.manageData.documentTypeList),e.xp6(8),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(4),e.Q6J("disabled",null==n.value),e.xp6(6),e.Q6J("ngIf",""!=r.textContent),e.xp6(2),e.Q6J("item",s)}}function ct(t,a){1&t&&e._UZ(0,"app-crud-add-button",72)}function mt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",2)(1,"form",3),e.NdJ("submit",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addCompany())}),e.TgZ(2,"div",4)(3,"mat-form-field",5)(4,"mat-label"),e._uU(5,"Name"),e.qZA(),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"mat-form-field",7)(8,"mat-label"),e._uU(9,"Code"),e.qZA(),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"mat-select",10),e.YNc(15,Be,2,2,"mat-option",11),e.qZA()()(),e.TgZ(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Location"),e.qZA()(),e.YNc(20,ze,18,1,"div",15),e.YNc(21,We,17,0,"div",15),e.TgZ(22,"div",4)(23,"mat-form-field",16)(24,"mat-label"),e._uU(25,"Country"),e.qZA(),e.TgZ(26,"mat-select",17),e.NdJ("selectionChange",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.onCountryChange(n))}),e.YNc(27,je,2,2,"mat-option",11),e.qZA()(),e.TgZ(28,"mat-form-field",16)(29,"mat-label"),e._uU(30,"State"),e.qZA(),e.TgZ(31,"mat-select",18),e.NdJ("selectionChange",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.onStateChange(n))}),e.YNc(32,Xe,2,2,"mat-option",11),e.qZA()(),e.TgZ(33,"mat-form-field",16)(34,"mat-label"),e._uU(35,"District"),e.qZA(),e.TgZ(36,"mat-select",19),e.YNc(37,et,2,2,"mat-option",11),e.qZA()()()(),e.YNc(38,tt,3,0,"div",20),e.YNc(39,it,31,3,"div",20),e.TgZ(40,"div",21)(41,"div",22)(42,"div",23)(43,"div",24)(44,"div",25)(45,"label"),e._uU(46,"Document"),e.qZA()(),e.TgZ(47,"div",26)(48,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addDocumentItemForm())}),e.qZA()()(),e.TgZ(49,"div",28),e.YNc(50,rt,29,7,"div",29),e.qZA()()()(),e.TgZ(51,"div",21)(52,"app-crud-reset-button",30),e.NdJ("resetEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.reset())}),e.qZA(),e.YNc(53,ct,1,0,"app-crud-add-button",31),e.qZA()()()}if(2&t){const s=e.oxw();e.xp6(1),e.Q6J("formGroup",s.manageForm),e.xp6(14),e.Q6J("ngForOf",s.manageData.categoryList),e.xp6(5),e.Q6J("ngIf",s.showFullAddress),e.xp6(1),e.Q6J("ngIf",s.showFullAddress),e.xp6(2),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.manageData.addressManageData.countryList),e.xp6(1),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.stateListFiltered),e.xp6(1),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.districtListFiltered),e.xp6(1),e.Q6J("ngIf",s.showContact),e.xp6(1),e.Q6J("ngIf",s.showContact),e.xp6(11),e.Q6J("ngForOf",s.documentListControls),e.xp6(3),e.Q6J("ngIf",null==s.data)}}let dt=(()=>{const a=class{constructor(o,n,i,r,p,g){this.dialogRef=o,this.companyService=n,this.companyDocService=i,this.ds=r,this.renderer=p,this.data=g,this.stateListFiltered=[],this.districtListFiltered=[],this.isLoaded=!1,this.showFullAddress=!1,this.showContact=!1,this.isProcessing=!1}get mobileContactListControls(){return this.manageForm.get("mobileContactList").controls}get phoneContactListControls(){return this.manageForm.get("phoneContactList").controls}get emailContactListControls(){return this.manageForm.get("emailContactList").controls}get documentListControls(){return this.manageForm.get("documentList").controls}ngOnInit(){this.manageForm=new l.cw({name:new l.NI(null,[l.kI.required,l.kI.maxLength(90)]),code:new l.NI(null,[l.kI.required,l.kI.maxLength(15)]),categoryId:new l.NI(null,[l.kI.required]),address:new l.cw({addressType:new l.NI("Work",l.kI.required),name:new l.NI("NA",[l.kI.maxLength(100)]),number:new l.NI(null,[l.kI.maxLength(30)]),building:new l.NI(null,[l.kI.maxLength(30)]),street:new l.NI(null,[l.kI.maxLength(30)]),city:new l.NI(null,[l.kI.maxLength(30)]),landmark:new l.NI(null,[l.kI.maxLength(200)]),pinCode:new l.NI(null,[l.kI.maxLength(15)]),districtId:new l.NI(null),stateId:new l.NI(null,l.kI.required),countryId:new l.NI(null,l.kI.required)}),mobileContactList:new l.Oe([]),phoneContactList:new l.Oe([]),emailContactList:new l.Oe([]),documentList:new l.Oe([])}),this.isLoaded=!1,this.sub=this.companyService.getCompanyManageData().subscribe(o=>{this.manageData=o.item,this.isLoaded=!0})}onDocumentTypeChange(o,n){let i=this.manageData.documentTypeList.find(p=>p.id==o.value);var r=this.manageForm.get("documentList").at(n);r.get("identifier").disabled&&r.get("identifier").enable(),r.get("expiryDate").disabled&&r.get("expiryDate").enable(),r.patchValue({identifier:null,expiryDate:null,file:null}),this.onDocRemove(n),i.isIdentifier?r.get("identifier")?.setValidators(l.kI.required):r.get("identifier")?.removeValidators(l.kI.required),i.isExpiry?r.get("expiryDate")?.setValidators(l.kI.required):r.get("expiryDate")?.removeValidators(l.kI.required),r.get("identifier").markAsUntouched(),r.get("expiryDate").markAsUntouched(),r.get("identifier").updateValueAndValidity(),r.get("expiryDate").updateValueAndValidity()}addDocumentItemForm(){this.manageForm.get("documentList").push(new l.cw({documentTypeId:new l.NI(null,l.kI.required),identifier:new l.NI({value:null,disabled:!0}),expiryDate:new l.NI({value:null,disabled:!0}),file:new l.NI(null)}))}deleteDocumentItem(o){this.manageForm.get("documentList").removeAt(o)}onDocSelect(o){let n=this.manageForm.get("documentList").at(o),i=this.manageData.documentTypeList.find(p=>p.id==n.value.documentTypeId),r=this.docUpload.get(o).nativeElement;r.onchange=()=>{if(r.files&&r.files[0]){const p=r.files[0];if(i.contentLimitKb>0&&p.size>1e3*i.contentLimitKb)return r.value="",void alert(`Size max allowed ${i.contentLimitKb}kb exceeded`);let g=this.docName.get(o).nativeElement;this.renderer.setProperty(g,"textContent",p.name),n.patchValue({file:p})}},r.click()}onDocRemove(o){let n=this.manageForm.get("documentList").at(o);this.docUpload.get(o).nativeElement.value="";let r=this.docName.get(o).nativeElement;this.renderer.setProperty(r,"textContent",""),n.patchValue({file:null})}addCompany(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(v.J.areYouSureTo))return;let o=new Ke;o.name=this.manageForm.value.name,o.code=this.manageForm.value.code,o.categoryId=this.manageForm.value.categoryId,o.address=new pe.h,o.address.addressType=this.manageForm.value.address.addressType,o.address.name=this.manageForm.value.address.name,o.address.number=this.manageForm.value.address.number,o.address.building=this.manageForm.value.address.building,o.address.street=this.manageForm.value.address.street,o.address.city=this.manageForm.value.address.city,o.address.landmark=this.manageForm.value.address.landmark,o.address.pinCode=this.manageForm.value.address.pinCode,o.address.districtId=this.manageForm.value.address.districtId,o.address.stateId=this.manageForm.value.address.stateId,o.address.countryId=this.manageForm.value.address.countryId,o.contactList=[],this.manageForm.value.mobileContactList.forEach(i=>{let r=new G;r.contactType="Mobile",r.value=i.value,o.contactList.push(r)}),this.manageForm.value.phoneContactList.forEach(i=>{let r=new G;r.contactType="Phone",r.value=i.value,o.contactList.push(r)}),this.manageForm.value.emailContactList.forEach(i=>{let r=new G;r.contactType="Email",r.value=i.value,o.contactList.push(r)});let n=this.validateDoc();""==n?(this.isProcessing=!0,this.sub=this.companyService.addCompany(o).pipe((0,V.w)(i=>{if(i.response?.status!=d.s.success)return this.isProcessing=!1,alert(i.response?.message),(0,oe.of)(null);let r=i.item?.id;const p=[];return this.manageForm.value.documentList.forEach(g=>{const E=new FormData;E.append("companyId",r),E.append("documentTypeId",g.documentTypeId),E.append("identifier",g.identifier),null!=g.expiryDate&&E.append("expiryDate",this.ds.formatToRequest(g.expiryDate)),E.append("doc",g.file),p.push(this.companyDocService.addCompanyDoc(E))}),0==p.length?(this.reset(),this.closeDialog(),(0,oe.of)(null)):(0,de.D)(p)})).subscribe(i=>{this.isProcessing=!1,this.reset(),this.closeDialog()})):alert(`Error : ${n}`)}validateDoc(){let o=[],n="";if(this.manageForm.value.documentList.forEach(r=>{o.findIndex(g=>g.key.docId==r.documentTypeId)>=0?n=r.documentTypeId:o.push({key:{docId:r.documentTypeId},value:1})}),""!=n){var i=this.manageData.documentTypeList.find(r=>r.id==n)?.name;return`Duplicate doc ${i} found`}return""}onCountryChange(o){this.stateListFiltered=this.manageData.addressManageData.stateList.filter(n=>n.country.id==this.manageForm.value.address.countryId)??[],this.districtListFiltered=[],this.manageForm.patchValue({address:{stateId:null,districtId:null}})}onStateChange(o){this.districtListFiltered=this.manageData.addressManageData.districtList.filter(n=>n.state.id==this.manageForm.value.address.stateId)??[],this.manageForm.patchValue({address:{districtId:null}})}addMobileContactItemForm(){this.manageForm.get("mobileContactList").push(new l.cw({value:new l.NI(null,l.kI.required)}))}addPhoneContactItemForm(){this.manageForm.get("phoneContactList").push(new l.cw({value:new l.NI(null,l.kI.required)}))}addEmailContactItemForm(){this.manageForm.get("emailContactList").push(new l.cw({value:new l.NI(null,l.kI.required)}))}deleteMobileContactItem(o){this.manageForm.get("mobileContactList").removeAt(o)}deletePhoneContactItem(o){this.manageForm.get("phoneContactList").removeAt(o)}deleteEmailContactItem(o){this.manageForm.get("emailContactList").removeAt(o)}reset(){for(this.manageForm.reset();this.manageForm.get("mobileContactList").length>0;)this.manageForm.get("mobileContactList").removeAt(0);for(;this.manageForm.get("phoneContactList").length>0;)this.manageForm.get("phoneContactList").removeAt(0);for(;this.manageForm.get("emailContactList").length>0;)this.manageForm.get("emailContactList").removeAt(0);for(;this.manageForm.get("documentList").length>0;)this.manageForm.get("documentList").removeAt(0)}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(z),e.Y36(ae),e.Y36(se.R),e.Y36(e.Qsj),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-company"]],viewQuery:function(n,i){if(1&n&&(e.Gf(He,5),e.Gf(Pe,5)),2&n){let r;e.iGM(r=e.CRH())&&(i.docUpload=r),e.iGM(r=e.CRH())&&(i.docName=r)}},decls:4,vars:2,consts:[[4,"ngIf"],["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-6"],["type","text","matInput","","formControlName","name"],[1,"form-field","col-2"],["type","text","matInput","","formControlName","code"],[1,"form-field","col-4"],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","address"],[1,"row","mb-4"],[1,"fst-italic"],["class","row form-group",4,"ngIf"],[1,"form-field",3,"ngClass"],["formControlName","countryId",3,"selectionChange"],["formControlName","stateId",3,"selectionChange"],["formControlName","districtId"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],["formArrayName","documentList"],[1,"row","my-4"],[1,"col-2"],[1,"col-2","text-end"],[3,"addEvent"],[1,"mt-3"],["class","col-12 form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-2",3,"resetEvent"],["class","col-2 offset-8",4,"ngIf"],[3,"value"],["formControlName","addressType"],[1,"form-field","col-3"],["type","text","matInput","","formControlName","number"],["type","text","matInput","","formControlName","building"],["type","text","matInput","","formControlName","street"],["type","text","matInput","","formControlName","city"],[1,"form-field","col-5"],["type","text","matInput","","formControlName","landmark"],["type","text","matInput","","formControlName","pincode"],[1,"col-4"],["formArrayName","mobileContactList"],[1,"col-6"],[1,"col-6","text-end"],[1,"col-3"],["formArrayName","phoneContactList"],[1,"col-5"],["formArrayName","emailContactList"],[1,"col-12","form-group",3,"formGroupName"],[1,"form-field","col-10"],["type","text","matInput","","formControlName","value"],[1,"col-2","text-end","mt-2"],[3,"item","deleteEvent"],[1,"form-field","col-9"],[1,"col-3","text-end","mt-2"],["formControlName","documentTypeId",3,"selectionChange"],["typeId",""],["type","text","matInput","","formControlName","identifier"],["appearance","outline",1,"col-2","form-field"],["matInput","","formControlName","expiryDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[1,"col-5","mt-2"],["type","button","mat-button","","color","primary",1,"col-3",3,"disabled","click"],["type","file","accept","image/*,.pdf",2,"display","none"],["docUpload",""],["docName",""],["type","button","mat-button","","color","primary","class","col-3",3,"click",4,"ngIf"],[1,"col-1","text-end","mt-2"],["type","button","mat-button","","color","primary",1,"col-3",3,"click"],[1,"col-2","offset-8"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,$e,2,0,"span",0),e._uU(2," Company\n"),e.qZA(),e.YNc(3,mt,54,14,"div",1)),2&n&&(e.xp6(1),e.Q6J("ngIf",null==i.data),e.xp6(2),e.Q6J("ngIf",i.isLoaded))},dependencies:[_.mk,_.sg,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,D.KE,D.hX,D.R9,J.Nt,W.lW,u.xY,j.gD,X.ey,U.Mq,U.hl,U.nW,k.L,R.X,Q.b,ue.E,M.H]}),t})();class pt extends N.x{}const ut=["docUpload"],_t=["docName"];function ft(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Edit"),e.qZA())}function gt(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function ht(t,a){1&t&&(e.TgZ(0,"mat-slide-toggle",33),e._uU(1,"Active"),e.qZA())}function yt(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s),e.xp6(1),e.Oqu(s)}}function vt(t,a){if(1&t&&(e.TgZ(0,"div",4)(1,"mat-form-field",7)(2,"mat-label"),e._uU(3,"Type"),e.qZA(),e.TgZ(4,"mat-select",34),e.YNc(5,yt,2,2,"mat-option",11),e.qZA()(),e.TgZ(6,"mat-form-field",35)(7,"mat-label"),e._uU(8,"Work/Home"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"mat-form-field",36)(11,"mat-label"),e._uU(12,"Building/Flat Number"),e.qZA(),e._UZ(13,"input",37),e.qZA(),e.TgZ(14,"mat-form-field",36)(15,"mat-label"),e._uU(16,"Building/Flat Name"),e.qZA(),e._UZ(17,"input",38),e.qZA()()),2&t){const s=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",s.manageData.addressManageData.addressTypeList)}}function Ct(t,a){1&t&&(e.TgZ(0,"div",4)(1,"mat-form-field",36)(2,"mat-label"),e._uU(3,"Street"),e.qZA(),e._UZ(4,"input",39),e.qZA(),e.TgZ(5,"mat-form-field",7)(6,"mat-label"),e._uU(7,"City"),e.qZA(),e._UZ(8,"input",40),e.qZA(),e.TgZ(9,"mat-form-field",41)(10,"mat-label"),e._uU(11,"Landmark"),e.qZA(),e._UZ(12,"input",42),e.qZA(),e.TgZ(13,"mat-form-field",7)(14,"mat-label"),e._uU(15,"Pincode"),e.qZA(),e._UZ(16,"input",43),e.qZA()())}function Tt(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function xt(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Zt(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function wt(t,a){1&t&&(e.TgZ(0,"div",21)(1,"label",15),e._uU(2,"Contact"),e.qZA()())}function Dt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",52)(1,"div",4)(2,"mat-form-field",53)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",54),e.qZA(),e.TgZ(6,"div",55)(7,"app-delete-action-icon",56),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(3);return e.KtG(r.deleteMobileContactItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index;e.Q6J("formGroupName",o),e.xp6(4),e.hij("Mobile ",o+1,""),e.xp6(3),e.Q6J("item",s)}}function Et(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",52)(1,"div",4)(2,"mat-form-field",57)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",54),e.qZA(),e.TgZ(6,"div",58)(7,"app-delete-action-icon",56),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(3);return e.KtG(r.deletePhoneContactItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index;e.Q6J("formGroupName",o),e.xp6(4),e.hij("Phone ",o+1,""),e.xp6(3),e.Q6J("item",s)}}function It(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",52)(1,"div",4)(2,"mat-form-field",53)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",54),e.qZA(),e.TgZ(6,"div",55)(7,"app-delete-action-icon",56),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(3);return e.KtG(r.deleteEmailContactItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index;e.Q6J("formGroupName",o),e.xp6(4),e.hij("Email ",o+1,""),e.xp6(3),e.Q6J("item",s)}}function At(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",21)(1,"div",44)(2,"div",45)(3,"div",24)(4,"div",46)(5,"label"),e._uU(6,"Mobile"),e.qZA()(),e.TgZ(7,"div",47)(8,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.addMobileContactItemForm())}),e.qZA()()(),e.TgZ(9,"div",28),e.YNc(10,Dt,8,3,"div",29),e.qZA()()(),e.TgZ(11,"div",48)(12,"div",49)(13,"div",24)(14,"div",46)(15,"label"),e._uU(16,"Phone"),e.qZA()(),e.TgZ(17,"div",47)(18,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.addPhoneContactItemForm())}),e.qZA()()(),e.TgZ(19,"div",28),e.YNc(20,Et,8,3,"div",29),e.qZA()()(),e.TgZ(21,"div",50)(22,"div",51)(23,"div",24)(24,"div",46)(25,"label"),e._uU(26,"Email"),e.qZA()(),e.TgZ(27,"div",47)(28,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.addEmailContactItemForm())}),e.qZA()()(),e.TgZ(29,"div",28),e.YNc(30,It,8,3,"div",29),e.qZA()()()()}if(2&t){const s=e.oxw(2);e.xp6(10),e.Q6J("ngForOf",s.mobileContactListControls),e.xp6(10),e.Q6J("ngForOf",s.phoneContactListControls),e.xp6(10),e.Q6J("ngForOf",s.emailContactListControls)}}function bt(t,a){if(1&t&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Lt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().index,i=e.oxw(2);return e.KtG(i.onDocSelect(n))}),e._uU(1,"Select File"),e.qZA()}if(2&t){e.oxw();const s=e.MAs(6);e.Q6J("disabled",null==s.value)}}function Nt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().index,i=e.oxw(2);return e.KtG(i.onDocRemove(n))}),e._uU(1,"Remove File"),e.qZA()}}function qt(t,a){1&t&&(e.TgZ(0,"label"),e._uU(1,"Doc Uploaded"),e.qZA())}function Ft(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",52)(1,"div",4)(2,"mat-form-field",7)(3,"mat-label"),e._uU(4,"Doc Type"),e.qZA(),e.TgZ(5,"mat-select",59,60),e.NdJ("selectionChange",function(n){const r=e.CHM(s).index,p=e.oxw(2);return e.KtG(p.onDocumentTypeChange(n,r))}),e.YNc(7,bt,2,2,"mat-option",11),e.qZA()(),e.TgZ(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Identifier"),e.qZA(),e._UZ(11,"input",61),e.qZA(),e.TgZ(12,"mat-form-field",62)(13,"mat-label"),e._uU(14,"Expiry"),e.qZA(),e._UZ(15,"input",63)(16,"mat-datepicker-toggle",64)(17,"mat-datepicker",null,65),e.qZA(),e._UZ(19,"input",66,67)(21,"input",68,69),e.TgZ(23,"div",70),e.YNc(24,Lt,2,1,"button",71),e._UZ(25,"input",72,73)(27,"label",46,74),e.YNc(29,Nt,2,0,"button",75),e.YNc(30,qt,2,0,"label",0),e.qZA(),e.TgZ(31,"div",76)(32,"app-delete-action-icon",56),e.NdJ("deleteEvent",function(){const i=e.CHM(s).index,r=e.oxw(2);return e.KtG(r.deleteDocumentItem(i))}),e.qZA()()()()}if(2&t){const s=a.$implicit,o=a.index,n=e.MAs(18),i=e.MAs(20),r=e.MAs(22),p=e.MAs(28),g=e.oxw(2);e.Q6J("formGroupName",o),e.xp6(7),e.Q6J("ngForOf",g.manageData.documentTypeList),e.xp6(8),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(8),e.Q6J("ngIf",0==i.value.length||0==r.value.length),e.xp6(5),e.Q6J("ngIf",""!=p.textContent),e.xp6(1),e.Q6J("ngIf",i.value.length>0&&r.value.length>0),e.xp6(2),e.Q6J("item",s)}}function Ut(t,a){1&t&&e._UZ(0,"app-crud-edit-button",79)}function Jt(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",2)(1,"form",3),e.NdJ("submit",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.editCompany())}),e.TgZ(2,"div",4)(3,"mat-form-field",5)(4,"mat-label"),e._uU(5,"Name"),e.qZA(),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"mat-form-field",7)(8,"mat-label"),e._uU(9,"Code"),e.qZA(),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"mat-select",10),e.YNc(15,gt,2,2,"mat-option",11),e.qZA()(),e.YNc(16,ht,2,0,"mat-slide-toggle",12),e.qZA(),e.TgZ(17,"div",13)(18,"div",14)(19,"label",15),e._uU(20,"Location"),e.qZA()(),e.YNc(21,vt,18,1,"div",16),e.YNc(22,Ct,17,0,"div",16),e.TgZ(23,"div",4)(24,"mat-form-field",9)(25,"mat-label"),e._uU(26,"Country"),e.qZA(),e.TgZ(27,"mat-select",17),e.NdJ("selectionChange",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.onCountryChange(n))}),e.YNc(28,Tt,2,2,"mat-option",11),e.qZA()(),e.TgZ(29,"mat-form-field",9)(30,"mat-label"),e._uU(31,"State"),e.qZA(),e.TgZ(32,"mat-select",18),e.NdJ("selectionChange",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.onStateChange(n))}),e.YNc(33,xt,2,2,"mat-option",11),e.qZA()(),e.TgZ(34,"mat-form-field",9)(35,"mat-label"),e._uU(36,"District"),e.qZA(),e.TgZ(37,"mat-select",19),e.YNc(38,Zt,2,2,"mat-option",11),e.qZA()()()(),e.YNc(39,wt,3,0,"div",20),e.YNc(40,At,31,3,"div",20),e.TgZ(41,"div",21)(42,"div",22)(43,"div",23)(44,"div",24)(45,"div",25)(46,"label"),e._uU(47,"Document"),e.qZA()(),e.TgZ(48,"div",26)(49,"app-add-action-icon",27),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addDocumentItemForm())}),e.qZA()()(),e.TgZ(50,"div",28),e.YNc(51,Ft,33,8,"div",29),e.qZA()()()(),e.TgZ(52,"div",21)(53,"app-crud-reset-button",30),e.NdJ("resetEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.reset())}),e.qZA(),e.YNc(54,Ut,1,0,"app-crud-edit-button",31),e.qZA()()()}if(2&t){const s=e.oxw();e.xp6(1),e.Q6J("formGroup",s.manageForm),e.xp6(10),e.Q6J("ngClass",null==s.data?"col-4":"col-3"),e.xp6(4),e.Q6J("ngForOf",s.manageData.categoryList),e.xp6(1),e.Q6J("ngIf",null!=s.data),e.xp6(5),e.Q6J("ngIf",s.showFullAddress),e.xp6(1),e.Q6J("ngIf",s.showFullAddress),e.xp6(2),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.manageData.addressManageData.countryList),e.xp6(1),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.stateListFiltered),e.xp6(1),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.districtListFiltered),e.xp6(1),e.Q6J("ngIf",s.showContact),e.xp6(1),e.Q6J("ngIf",s.showContact),e.xp6(11),e.Q6J("ngForOf",s.documentListControls),e.xp6(3),e.Q6J("ngIf",null!=s.data)}}let Mt=(()=>{const a=class{constructor(o,n,i,r,p,g){this.dialogRef=o,this.companyService=n,this.companyDocService=i,this.ds=r,this.renderer=p,this.data=g,this.stateListFiltered=[],this.districtListFiltered=[],this.isLoaded=!1,this.showFullAddress=!1,this.showContact=!1,this.deletedDocumentList=[],this.isProcessing=!1}get mobileContactListControls(){return this.manageForm.get("mobileContactList").controls}get phoneContactListControls(){return this.manageForm.get("phoneContactList").controls}get emailContactListControls(){return this.manageForm.get("emailContactList").controls}get documentListControls(){return this.manageForm.get("documentList").controls}ngOnInit(){this.manageForm=new l.cw({name:new l.NI(null,[l.kI.required,l.kI.maxLength(90)]),code:new l.NI(null,[l.kI.required,l.kI.maxLength(15)]),categoryId:new l.NI(null,[l.kI.required]),address:new l.cw({addressType:new l.NI("Work",l.kI.required),name:new l.NI("NA",[l.kI.maxLength(100)]),number:new l.NI(null,[l.kI.maxLength(30)]),building:new l.NI(null,[l.kI.maxLength(30)]),street:new l.NI(null,[l.kI.maxLength(30)]),city:new l.NI(null,[l.kI.maxLength(30)]),landmark:new l.NI(null,[l.kI.maxLength(200)]),pinCode:new l.NI(null,[l.kI.maxLength(15)]),districtId:new l.NI(null),stateId:new l.NI(null,l.kI.required),countryId:new l.NI(null,l.kI.required)}),mobileContactList:new l.Oe([]),phoneContactList:new l.Oe([]),emailContactList:new l.Oe([]),documentList:new l.Oe([]),active:new l.NI(!0,[l.kI.required])}),this.isLoaded=!1,this.sub=this.companyService.getCompanyManageData().pipe((0,V.w)(o=>(this.manageData=o.item,this.companyService.getCompanyById(this.data?.id)))).subscribe(o=>{this.isLoaded=!0;let n=o.item;this.stateListFiltered=this.manageData.addressManageData.stateList.filter(i=>i.country.id==n.address.country.id)??[],this.districtListFiltered=this.manageData.addressManageData.districtList.filter(i=>i.state.id==n.address.state?.id)??[],this.manageForm.patchValue({name:n.name,code:n.code,categoryId:n.category.id,address:{addressType:n.address.addressType,name:n.address.name,number:n.address.number,building:n.address.building,street:n.address.street,city:n.address.city,landmark:n.address.landmark,pinCode:n.address.pinCode,districtId:n.address.district?.id,stateId:n.address.state?.id,countryId:n.address.country.id},active:n.active}),n.contactList.forEach(i=>{switch(i.contactType){case"Mobile":this.manageForm.get("mobileContactList").push(new l.cw({value:new l.NI(i.value,l.kI.required)}));break;case"Phone":this.manageForm.get("phoneContactList").push(new l.cw({value:new l.NI(i.value,l.kI.required)}));break;case"Email":this.manageForm.get("emailContactList").push(new l.cw({value:new l.NI(i.value,l.kI.required)}))}}),n.documentList.forEach(i=>{let r=null!=i.expiryDate?this.ds.responseFormatToDate(i.expiryDate):null;this.manageForm.get("documentList").push(new l.cw({id:new l.NI(i.id),documentTypeId:new l.NI({value:i.documentType.id,disabled:!0}),identifier:new l.NI({value:i.identifier,disabled:!0}),expiryDate:new l.NI({value:r,disabled:!0}),file:new l.NI(null),fileName:new l.NI(i.fileName)}))})})}addDocumentItemForm(){this.manageForm.get("documentList").push(new l.cw({id:new l.NI(null),documentTypeId:new l.NI(null,l.kI.required),identifier:new l.NI({value:null,disabled:!0}),expiryDate:new l.NI({value:null,disabled:!0}),file:new l.NI(null),fileName:new l.NI(null)}))}deleteDocumentItem(o){let n=this.manageForm.get("documentList").at(o);null!=n.value.id&&this.deletedDocumentList.push(n.value.id),this.manageForm.get("documentList").removeAt(o)}onDocumentTypeChange(o,n){let i=this.manageData.documentTypeList.find(p=>p.id==o.value);var r=this.manageForm.get("documentList").at(n);r.get("identifier").disabled&&r.get("identifier").enable(),r.get("expiryDate").disabled&&r.get("expiryDate").enable(),r.patchValue({identifier:null,expiryDate:null,file:null,fileName:null}),this.onDocRemove(n),i.isIdentifier?r.get("identifier")?.setValidators(l.kI.required):r.get("identifier")?.removeValidators(l.kI.required),i.isExpiry?r.get("expiryDate")?.setValidators(l.kI.required):r.get("expiryDate")?.removeValidators(l.kI.required),r.get("identifier").markAsUntouched(),r.get("expiryDate").markAsUntouched(),r.get("identifier").updateValueAndValidity(),r.get("expiryDate").updateValueAndValidity()}onDocSelect(o){let n=this.manageForm.get("documentList").at(o),i=this.manageData.documentTypeList.find(p=>p.id==n.getRawValue().documentTypeId),r=this.docUpload.get(o).nativeElement;r.onchange=()=>{if(r.files&&r.files[0]){const p=r.files[0];if(i.contentLimitKb>0&&p.size>1e3*i.contentLimitKb)return r.value="",void alert(`Size max allowed ${i.contentLimitKb}kb exceeded`);let g=this.docName.get(o).nativeElement;this.renderer.setProperty(g,"textContent",p.name),n.patchValue({file:p})}},r.click()}onDocRemove(o){let n=this.manageForm.get("documentList").at(o);this.docUpload.get(o).nativeElement.value="";let r=this.docName.get(o).nativeElement;this.renderer.setProperty(r,"textContent",""),n.patchValue({file:null})}editCompany(){if(!this.manageForm.valid)return void this.manageForm.markAllAsTouched();if(!confirm(v.J.areYouSureTo))return;let o=new pt;o.id=this.data?.id,o.name=this.manageForm.value.name,o.code=this.manageForm.value.code,o.categoryId=this.manageForm.value.categoryId,o.address=new pe.h,o.address.addressType=this.manageForm.value.address.addressType,o.address.name=this.manageForm.value.address.name,o.address.number=this.manageForm.value.address.number,o.address.building=this.manageForm.value.address.building,o.address.street=this.manageForm.value.address.street,o.address.city=this.manageForm.value.address.city,o.address.landmark=this.manageForm.value.address.landmark,o.address.pinCode=this.manageForm.value.address.pinCode,o.address.districtId=this.manageForm.value.address.districtId,o.address.stateId=this.manageForm.value.address.stateId,o.address.countryId=this.manageForm.value.address.countryId,o.contactList=[],this.manageForm.value.mobileContactList.forEach(n=>{let i=new G;i.contactType="Mobile",i.value=n.value,o.contactList.push(i)}),this.manageForm.value.phoneContactList.forEach(n=>{let i=new G;i.contactType="Phone",i.value=n.value,o.contactList.push(i)}),this.manageForm.value.emailContactList.forEach(n=>{let i=new G;i.contactType="Email",i.value=n.value,o.contactList.push(i)}),o.active=this.manageForm.value.active,this.sub=this.companyService.editCompany(o).pipe((0,V.w)(n=>{if(n.status!=d.s.success)return this.isProcessing=!1,alert(n.message),(0,oe.of)(null);let i=o.id;const r=[];return this.deletedDocumentList.forEach(p=>{r.push(this.companyDocService.removeCompanyDoc(p))}),this.manageForm.get("documentList").controls.forEach(p=>{if(null!=p.getRawValue().id){if(null==p.value.file)return;{const g=new FormData;g.append("id",p.getRawValue().id),g.append("doc",p.value.file),r.push(this.companyDocService.addCompanyDocFile(g))}}else{const g=new FormData;g.append("companyId",i),g.append("documentTypeId",p.value.documentTypeId),g.append("identifier",p.value.identifier),null!=p.value.expiryDate&&g.append("expiryDate",this.ds.formatToRequest(p.value.expiryDate)),g.append("doc",p.value.file),r.push(this.companyDocService.addCompanyDoc(g))}}),0==r.length?(this.reset(),this.closeDialog(),(0,oe.of)(null)):(0,de.D)(r)})).subscribe(n=>{this.isProcessing=!1,this.reset(),this.closeDialog()})}validateDoc(o,n){let i=[],r="";if(o.forEach(g=>{i.findIndex(I=>I.key.docId==g.documentTypeId)>=0||n.findIndex(ie=>ie.docId==g.documentTypeId)>=0?r=g.documentTypeId:i.push({key:{docId:g.documentTypeId},value:1})}),""!=r){var p=this.manageData.documentTypeList.find(g=>g.id==r)?.name;return`Duplicate doc ${p} found`}return""}onCountryChange(o){this.stateListFiltered=this.manageData.addressManageData.stateList.filter(n=>n.country.id==this.manageForm.value.address.countryId)??[],this.districtListFiltered=[],this.manageForm.patchValue({address:{stateId:null,districtId:null}})}onStateChange(o){this.districtListFiltered=this.manageData.addressManageData.districtList.filter(n=>n.state.id==this.manageForm.value.address.stateId)??[],this.manageForm.patchValue({address:{districtId:null}})}addMobileContactItemForm(){this.manageForm.get("mobileContactList").push(new l.cw({value:new l.NI(null,l.kI.required)}))}addPhoneContactItemForm(){this.manageForm.get("phoneContactList").push(new l.cw({value:new l.NI(null,l.kI.required)}))}addEmailContactItemForm(){this.manageForm.get("emailContactList").push(new l.cw({value:new l.NI(null,l.kI.required)}))}deleteMobileContactItem(o){this.manageForm.get("mobileContactList").removeAt(o)}deletePhoneContactItem(o){this.manageForm.get("phoneContactList").removeAt(o)}deleteEmailContactItem(o){this.manageForm.get("emailContactList").removeAt(o)}reset(){for(this.manageForm.reset();this.manageForm.get("mobileContactList").length>0;)this.manageForm.get("mobileContactList").removeAt(0);for(;this.manageForm.get("phoneContactList").length>0;)this.manageForm.get("phoneContactList").removeAt(0);for(;this.manageForm.get("emailContactList").length>0;)this.manageForm.get("emailContactList").removeAt(0);for(;this.manageForm.get("documentList").length>0;)this.manageForm.get("documentList").removeAt(0)}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(z),e.Y36(ae),e.Y36(se.R),e.Y36(e.Qsj),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-edit-company"]],viewQuery:function(n,i){if(1&n&&(e.Gf(ut,5),e.Gf(_t,5)),2&n){let r;e.iGM(r=e.CRH())&&(i.docUpload=r),e.iGM(r=e.CRH())&&(i.docName=r)}},decls:4,vars:2,consts:[[4,"ngIf"],["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field","col-6"],["type","text","matInput","","formControlName","name"],[1,"form-field","col-2"],["type","text","matInput","","formControlName","code"],[1,"form-field",3,"ngClass"],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["class","form-field col-1 text-end","formControlName","active",4,"ngIf"],["formGroupName","address"],[1,"row","mb-4"],[1,"fst-italic"],["class","row form-group",4,"ngIf"],["formControlName","countryId",3,"selectionChange"],["formControlName","stateId",3,"selectionChange"],["formControlName","districtId"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],["formArrayName","documentList"],[1,"row","my-4"],[1,"col-2"],[1,"col-2","text-end"],[3,"addEvent"],[1,"mt-3"],["class","col-12 form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-2",3,"resetEvent"],["class","col-2 offset-8",4,"ngIf"],[3,"value"],["formControlName","active",1,"form-field","col-1","text-end"],["formControlName","addressType"],[1,"form-field","col-4"],[1,"form-field","col-3"],["type","text","matInput","","formControlName","number"],["type","text","matInput","","formControlName","building"],["type","text","matInput","","formControlName","street"],["type","text","matInput","","formControlName","city"],[1,"form-field","col-5"],["type","text","matInput","","formControlName","landmark"],["type","text","matInput","","formControlName","pincode"],[1,"col-4"],["formArrayName","mobileContactList"],[1,"col-6"],[1,"col-6","text-end"],[1,"col-3"],["formArrayName","phoneContactList"],[1,"col-5"],["formArrayName","emailContactList"],[1,"col-12","form-group",3,"formGroupName"],[1,"form-field","col-10"],["type","text","matInput","","formControlName","value"],[1,"col-2","text-end","mt-2"],[3,"item","deleteEvent"],[1,"form-field","col-9"],[1,"col-3","text-end","mt-2"],["formControlName","documentTypeId",3,"selectionChange"],["typeId",""],["type","text","matInput","","formControlName","identifier"],["appearance","outline",1,"col-2","form-field"],["matInput","","formControlName","expiryDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["hidden","","formControlName","id"],["id",""],["hidden","","formControlName","fileName"],["fileName",""],[1,"col-5","mt-2"],["type","button","mat-button","","color","primary","class","col-3",3,"disabled","click",4,"ngIf"],["type","file","accept","image/*,.pdf",2,"display","none"],["docUpload",""],["docName",""],["type","button","mat-button","","color","primary","class","col-3",3,"click",4,"ngIf"],[1,"col-1","text-end","mt-2"],["type","button","mat-button","","color","primary",1,"col-3",3,"disabled","click"],["type","button","mat-button","","color","primary",1,"col-3",3,"click"],[1,"col-2","offset-8"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,ft,2,0,"span",0),e._uU(2," Company\n"),e.qZA(),e.YNc(3,Jt,55,16,"div",1)),2&n&&(e.xp6(1),e.Q6J("ngIf",null!=i.data),e.xp6(2),e.Q6J("ngIf",i.isLoaded))},dependencies:[_.mk,_.sg,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,D.KE,D.hX,D.R9,J.Nt,W.lW,u.xY,j.gD,X.ey,S.Rr,U.Mq,U.hl,U.nW,K.W,R.X,Q.b,ue.E,M.H]}),t})();var ee=c(5861),_e=c(8064),le=c(7268),fe=c(8922);const Qt=["docUpload"],Yt=["docName"];function St(t,a){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.AsE("",s.data.name," (",s.data.code,")")}}function Rt(t,a){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Ot(t,a){1&t&&(e.TgZ(0,"mat-slide-toggle",29),e._uU(1,"Active"),e.qZA())}function Gt(t,a){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s),e.xp6(1),e.Oqu(s)}}function kt(t,a){if(1&t&&(e.TgZ(0,"div",4)(1,"mat-form-field",7)(2,"mat-label"),e._uU(3,"Type"),e.qZA(),e.TgZ(4,"mat-select",30),e.YNc(5,Gt,2,2,"mat-option",11),e.qZA()(),e.TgZ(6,"mat-form-field",31)(7,"mat-label"),e._uU(8,"Work/Home"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"mat-form-field",32)(11,"mat-label"),e._uU(12,"Building/Flat Number"),e.qZA(),e._UZ(13,"input",33),e.qZA(),e.TgZ(14,"mat-form-field",32)(15,"mat-label"),e._uU(16,"Building/Flat Name"),e.qZA(),e._UZ(17,"input",34),e.qZA()()),2&t){const s=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",s.manageData.addressManageData.addressTypeList)}}function Kt(t,a){1&t&&(e.TgZ(0,"div",4)(1,"mat-form-field",32)(2,"mat-label"),e._uU(3,"Street"),e.qZA(),e._UZ(4,"input",35),e.qZA(),e.TgZ(5,"mat-form-field",7)(6,"mat-label"),e._uU(7,"City"),e.qZA(),e._UZ(8,"input",36),e.qZA(),e.TgZ(9,"mat-form-field",37)(10,"mat-label"),e._uU(11,"Landmark"),e.qZA(),e._UZ(12,"input",38),e.qZA(),e.TgZ(13,"mat-form-field",7)(14,"mat-label"),e._uU(15,"Pincode"),e.qZA(),e._UZ(16,"input",39),e.qZA()())}function Ht(t,a){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Pt(t,a){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function $t(t,a){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Bt(t,a){1&t&&(e.TgZ(0,"div",21)(1,"label",15),e._uU(2,"Contact"),e.qZA()())}function Vt(t,a){if(1&t&&(e.TgZ(0,"div",47)(1,"div",4)(2,"mat-form-field",48)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",49),e.qZA(),e._UZ(6,"div",50),e.qZA()()),2&t){const s=a.index;e.Q6J("formGroupName",s),e.xp6(4),e.hij("Mobile ",s+1,"")}}function zt(t,a){if(1&t&&(e.TgZ(0,"div",47)(1,"div",4)(2,"mat-form-field",51)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",49),e.qZA(),e._UZ(6,"div",52),e.qZA()()),2&t){const s=a.index;e.Q6J("formGroupName",s),e.xp6(4),e.hij("Phone ",s+1,"")}}function Wt(t,a){if(1&t&&(e.TgZ(0,"div",47)(1,"div",4)(2,"mat-form-field",48)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",49),e.qZA(),e._UZ(6,"div",50),e.qZA()()),2&t){const s=a.index;e.Q6J("formGroupName",s),e.xp6(4),e.hij("Email ",s+1,"")}}function jt(t,a){if(1&t&&(e.TgZ(0,"div",21)(1,"div",40)(2,"div",41)(3,"div",24)(4,"div",42)(5,"label"),e._uU(6,"Mobile"),e.qZA()()(),e.TgZ(7,"div",26),e.YNc(8,Vt,7,2,"div",27),e.qZA()()(),e.TgZ(9,"div",43)(10,"div",44)(11,"div",24)(12,"div",42)(13,"label"),e._uU(14,"Phone"),e.qZA()()(),e.TgZ(15,"div",26),e.YNc(16,zt,7,2,"div",27),e.qZA()()(),e.TgZ(17,"div",45)(18,"div",46)(19,"div",24)(20,"div",42)(21,"label"),e._uU(22,"Email"),e.qZA()()(),e.TgZ(23,"div",26),e.YNc(24,Wt,7,2,"div",27),e.qZA()()()()),2&t){const s=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",s.mobileContactListControls),e.xp6(8),e.Q6J("ngForOf",s.phoneContactListControls),e.xp6(8),e.Q6J("ngForOf",s.emailContactListControls)}}function Xt(t,a){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function en(t,a){1&t&&(e.TgZ(0,"label",68),e._uU(1,"Doc Uploaded"),e.qZA())}function tn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-view-action-icon",69),e.NdJ("viewEvent",function(n){e.CHM(s);const i=e.oxw(3);return e.KtG(i.viewDoc(n))}),e.qZA()}if(2&t){const s=e.oxw().index;e.Q6J("item",s)}}function nn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-download-action-icon",70),e.NdJ("downloadEvent",function(n){e.CHM(s);const i=e.oxw(3);return e.KtG(i.downloadDoc(n))}),e.qZA()}if(2&t){const s=e.oxw().index;e.Q6J("item",s)}}function on(t,a){if(1&t&&(e.TgZ(0,"div",47)(1,"div",4)(2,"mat-form-field",7)(3,"mat-label"),e._uU(4,"Doc Type"),e.qZA(),e.TgZ(5,"mat-select",53,54),e.YNc(7,Xt,2,2,"mat-option",11),e.qZA()(),e.TgZ(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Identifier"),e.qZA(),e._UZ(11,"input",55),e.qZA(),e.TgZ(12,"mat-form-field",56)(13,"mat-label"),e._uU(14,"Expiry"),e.qZA(),e._UZ(15,"input",57)(16,"mat-datepicker-toggle",58)(17,"mat-datepicker",null,59),e.qZA(),e._UZ(19,"input",60,61)(21,"input",62,63),e.TgZ(23,"div",64),e.YNc(24,en,2,0,"label",65),e.YNc(25,tn,1,1,"app-view-action-icon",66),e.YNc(26,nn,1,1,"app-download-action-icon",67),e.qZA()()()),2&t){const s=a.index,o=e.MAs(18),n=e.MAs(20),i=e.MAs(22),r=e.oxw(2);e.Q6J("formGroupName",s),e.xp6(7),e.Q6J("ngForOf",r.manageData.documentTypeList),e.xp6(8),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(8),e.Q6J("ngIf",n.value.length>0&&i.value.length>0),e.xp6(1),e.Q6J("ngIf",n.value.length>0&&i.value.length>0&&r.allowExport),e.xp6(1),e.Q6J("ngIf",n.value.length>0&&i.value.length>0&&r.allowExport)}}function an(t,a){if(1&t&&(e.TgZ(0,"div",2)(1,"form",3)(2,"div",4)(3,"mat-form-field",5)(4,"mat-label"),e._uU(5,"Name"),e.qZA(),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"mat-form-field",7)(8,"mat-label"),e._uU(9,"Code"),e.qZA(),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"mat-select",10),e.YNc(15,Rt,2,2,"mat-option",11),e.qZA()(),e.YNc(16,Ot,2,0,"mat-slide-toggle",12),e.qZA(),e.TgZ(17,"div",13)(18,"div",14)(19,"label",15),e._uU(20,"Location"),e.qZA()(),e.YNc(21,kt,18,1,"div",16),e.YNc(22,Kt,17,0,"div",16),e.TgZ(23,"div",4)(24,"mat-form-field",9)(25,"mat-label"),e._uU(26,"Country"),e.qZA(),e.TgZ(27,"mat-select",17),e.YNc(28,Ht,2,2,"mat-option",11),e.qZA()(),e.TgZ(29,"mat-form-field",9)(30,"mat-label"),e._uU(31,"State"),e.qZA(),e.TgZ(32,"mat-select",18),e.YNc(33,Pt,2,2,"mat-option",11),e.qZA()(),e.TgZ(34,"mat-form-field",9)(35,"mat-label"),e._uU(36,"District"),e.qZA(),e.TgZ(37,"mat-select",19),e.YNc(38,$t,2,2,"mat-option",11),e.qZA()()()(),e.YNc(39,Bt,3,0,"div",20),e.YNc(40,jt,25,3,"div",20),e.TgZ(41,"div",21)(42,"div",22)(43,"div",23)(44,"div",24)(45,"div",25)(46,"label"),e._uU(47,"Document"),e.qZA()()(),e.TgZ(48,"div",26),e.YNc(49,on,27,7,"div",27),e.qZA()()()()()()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("formGroup",s.manageForm),e.xp6(10),e.Q6J("ngClass",null==s.data?"col-4":"col-3"),e.xp6(4),e.Q6J("ngForOf",s.manageData.categoryList),e.xp6(1),e.Q6J("ngIf",null!=s.data),e.xp6(5),e.Q6J("ngIf",s.showFullAddress),e.xp6(1),e.Q6J("ngIf",s.showFullAddress),e.xp6(2),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.manageData.addressManageData.countryList),e.xp6(1),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.stateListFiltered),e.xp6(1),e.Q6J("ngClass","col-4"),e.xp6(4),e.Q6J("ngForOf",s.districtListFiltered),e.xp6(1),e.Q6J("ngIf",s.showContact),e.xp6(1),e.Q6J("ngIf",s.showContact),e.xp6(9),e.Q6J("ngForOf",s.documentListControls)}}let sn=(()=>{const a=class{constructor(o,n,i,r,p,g,E,I){this.dialogRef=o,this.menuRoleService=n,this.companyService=i,this.companyDocService=r,this.ds=p,this.renderer=g,this.fileService=E,this.data=I,this.stateListFiltered=[],this.districtListFiltered=[],this.isLoaded=!1,this.showFullAddress=!1,this.showContact=!1,this.deletedDocumentList=[],this.isProcessing=!1,this.allowExport=!1}get mobileContactListControls(){return this.manageForm.get("mobileContactList").controls}get phoneContactListControls(){return this.manageForm.get("phoneContactList").controls}get emailContactListControls(){return this.manageForm.get("emailContactList").controls}get documentListControls(){return this.manageForm.get("documentList").controls}ngOnInit(){this.allowExport=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.Company_Employee_Master,h.k.export),this.manageForm=new l.cw({name:new l.NI({value:null,disabled:!0},[l.kI.required,l.kI.maxLength(90)]),code:new l.NI({value:null,disabled:!0},[l.kI.required,l.kI.maxLength(15)]),categoryId:new l.NI({value:null,disabled:!0},[l.kI.required]),address:new l.cw({addressType:new l.NI("Work",l.kI.required),name:new l.NI("NA",[l.kI.maxLength(100)]),number:new l.NI({value:null,disabled:!0},[l.kI.maxLength(30)]),building:new l.NI({value:null,disabled:!0},[l.kI.maxLength(30)]),street:new l.NI({value:null,disabled:!0},[l.kI.maxLength(30)]),city:new l.NI({value:null,disabled:!0},[l.kI.maxLength(30)]),landmark:new l.NI({value:null,disabled:!0},[l.kI.maxLength(200)]),pinCode:new l.NI({value:null,disabled:!0},[l.kI.maxLength(15)]),districtId:new l.NI({value:null,disabled:!0}),stateId:new l.NI({value:null,disabled:!0},l.kI.required),countryId:new l.NI({value:null,disabled:!0},l.kI.required)}),mobileContactList:new l.Oe([]),phoneContactList:new l.Oe([]),emailContactList:new l.Oe([]),documentList:new l.Oe([]),active:new l.NI(!0,[l.kI.required])}),this.isLoaded=!1,this.sub=this.companyService.getCompanyManageData().pipe((0,V.w)(o=>(this.manageData=o.item,this.companyService.getCompanyById(this.data?.id)))).subscribe(o=>{this.isLoaded=!0;let n=o.item;this.stateListFiltered=this.manageData.addressManageData.stateList.filter(i=>i.country.id==n.address.country.id)??[],this.districtListFiltered=this.manageData.addressManageData.districtList.filter(i=>i.state.id==n.address.state?.id)??[],this.manageForm.patchValue({name:n.name,code:n.code,categoryId:n.category.id,address:{addressType:n.address.addressType,name:n.address.name,number:n.address.number,building:n.address.building,street:n.address.street,city:n.address.city,landmark:n.address.landmark,pinCode:n.address.pinCode,districtId:n.address.district?.id,stateId:n.address.state?.id,countryId:n.address.country.id},active:n.active}),n.contactList.forEach(i=>{switch(i.contactType){case"Mobile":this.manageForm.get("mobileContactList").push(new l.cw({value:new l.NI(i.value,l.kI.required)}));break;case"Phone":this.manageForm.get("phoneContactList").push(new l.cw({value:new l.NI(i.value,l.kI.required)}));break;case"Email":this.manageForm.get("emailContactList").push(new l.cw({value:new l.NI(i.value,l.kI.required)}))}}),n.documentList.forEach(i=>{let r=null!=i.expiryDate?this.ds.responseFormatToDate(i.expiryDate):null;this.manageForm.get("documentList").push(new l.cw({id:new l.NI(i.id),documentTypeId:new l.NI({value:i.documentType.id,disabled:!0}),identifier:new l.NI({value:i.identifier,disabled:!0}),expiryDate:new l.NI({value:r,disabled:!0}),file:new l.NI(null),fileName:new l.NI(i.fileName)}))})})}viewDoc(o){var n=this;let r=this.manageForm.get("documentList").at(o).getRawValue().id;this.sub=this.companyDocService.exportCompanyDoc(r).subscribe(function(){var p=(0,ee.Z)(function*(g){n.fileService.viewFile(g)});return function(g){return p.apply(this,arguments)}}())}downloadDoc(o){var n=this,i=this.manageForm.get("documentList").at(o);let r=i.getRawValue().id,p=i.getRawValue().identifier,g=this.manageData.documentTypeList.find(I=>I.id==i.getRawValue().documentTypeId),E=`${this.data.code}_${g.code}`;null!=p&&(E=`${E}_${p}`),this.sub=this.companyDocService.exportCompanyDoc(r).subscribe(function(){var I=(0,ee.Z)(function*(ie){n.fileService.downloadFile(ie,E)});return function(ie){return I.apply(this,arguments)}}())}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(b.K),e.Y36(z),e.Y36(ae),e.Y36(se.R),e.Y36(e.Qsj),e.Y36(_e.I),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-view-company"]],viewQuery:function(n,i){if(1&n&&(e.Gf(Qt,5),e.Gf(Yt,5)),2&n){let r;e.iGM(r=e.CRH())&&(i.docUpload=r),e.iGM(r=e.CRH())&&(i.docName=r)}},decls:3,vars:2,consts:[[4,"ngIf"],["mat-dialog-content","","class","row",4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup"],[1,"row","form-group"],[1,"form-field","col-6"],["type","text","matInput","","formControlName","name"],[1,"form-field","col-2"],["type","text","matInput","","formControlName","code"],[1,"form-field",3,"ngClass"],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["class","form-field col-1 text-end","formControlName","active",4,"ngIf"],["formGroupName","address"],[1,"row","mb-4"],[1,"fst-italic"],["class","row form-group",4,"ngIf"],["formControlName","countryId"],["formControlName","stateId"],["formControlName","districtId"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],["formArrayName","documentList"],[1,"row","my-4"],[1,"col-2"],[1,"mt-3"],["class","col-12 form-group",3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","active",1,"form-field","col-1","text-end"],["formControlName","addressType"],[1,"form-field","col-4"],[1,"form-field","col-3"],["type","text","matInput","","formControlName","number"],["type","text","matInput","","formControlName","building"],["type","text","matInput","","formControlName","street"],["type","text","matInput","","formControlName","city"],[1,"form-field","col-5"],["type","text","matInput","","formControlName","landmark"],["type","text","matInput","","formControlName","pincode"],[1,"col-4"],["formArrayName","mobileContactList"],[1,"col-6"],[1,"col-3"],["formArrayName","phoneContactList"],[1,"col-5"],["formArrayName","emailContactList"],[1,"col-12","form-group",3,"formGroupName"],[1,"form-field","col-10"],["type","text","matInput","","formControlName","value"],[1,"col-2","text-end","mt-2"],[1,"form-field","col-9"],[1,"col-3","text-end","mt-2"],["formControlName","documentTypeId"],["typeId",""],["type","text","matInput","","formControlName","identifier"],["appearance","outline",1,"col-2","form-field"],["matInput","","formControlName","expiryDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["hidden","","formControlName","id"],["id",""],["hidden","","formControlName","fileName"],["fileName",""],[1,"col-6","mt-2"],["class","col-8 text-center",4,"ngIf"],["class","mx-4",3,"item","viewEvent",4,"ngIf"],[3,"item","downloadEvent",4,"ngIf"],[1,"col-8","text-center"],[1,"mx-4",3,"item","viewEvent"],[3,"item","downloadEvent"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,St,2,2,"span",0),e.qZA(),e.YNc(2,an,50,15,"div",1)),2&n&&(e.xp6(1),e.Q6J("ngIf",null!=i.data),e.xp6(1),e.Q6J("ngIf",i.isLoaded))},dependencies:[_.mk,_.sg,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,D.KE,D.hX,D.R9,J.Nt,u.xY,j.gD,X.ey,S.Rr,U.Mq,U.hl,U.nW,le.R,fe.e,M.H]}),t})();var te=c(4521);const ln=["page"];function rn(t,a){1&t&&(e.TgZ(0,"th",20),e._uU(1," Name "),e.qZA())}function cn(t,a){if(1&t&&(e.TgZ(0,"td",21)(1,"app-active-text",22),e._uU(2),e.qZA()()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("active",s.active),e.xp6(1),e.Oqu(s.name)}}function mn(t,a){1&t&&(e.TgZ(0,"th",20),e._uU(1," Code "),e.qZA())}function dn(t,a){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.code," ")}}function pn(t,a){1&t&&(e.TgZ(0,"th",20),e._uU(1," Category "),e.qZA())}function un(t,a){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.category," ")}}function _n(t,a){1&t&&(e.TgZ(0,"th",20)(1,"i",24),e._uU(2,"attachment"),e.qZA(),e._uU(3," / "),e.TgZ(4,"i",24),e._uU(5,"description"),e.qZA()())}function fn(t,a){if(1&t&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&t){const s=e.oxw().$implicit;e.xp6(1),e.AsE("",s.fileCount,"/",s.docCount,"")}}function gn(t,a){if(1&t&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&t){const s=e.oxw().$implicit;e.xp6(1),e.AsE("",s.fileCount,"/",s.docCount,"")}}function hn(t,a){if(1&t&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&t){const s=e.oxw().$implicit;e.xp6(1),e.AsE("",s.fileCount,"/",s.docCount,"")}}function yn(t,a){if(1&t&&(e.TgZ(0,"td",25),e.YNc(1,fn,2,2,"span",26),e.YNc(2,gn,2,2,"span",27),e.YNc(3,hn,2,2,"span",28),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("ngIf",0==s.docCount),e.xp6(1),e.Q6J("ngIf",s.fileCount==s.docCount&&s.docCount>0),e.xp6(1),e.Q6J("ngIf",s.fileCount<s.docCount&&s.docCount>0)}}function vn(t,a){1&t&&e._UZ(0,"th",32)}function Cn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-edit-action-icon",37),e.NdJ("editEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.edit(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Tn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-delete-action-icon",38),e.NdJ("deleteEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.delete(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function xn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"td",33)(1,"app-view-action-icon",34),e.NdJ("viewEvent",function(){const i=e.CHM(s).$implicit,r=e.oxw();return e.KtG(r.view(i))}),e.qZA(),e.YNc(2,Cn,1,1,"app-edit-action-icon",35),e.YNc(3,Tn,1,1,"app-delete-action-icon",36),e.qZA()}if(2&t){const s=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("item",s),e.xp6(1),e.Q6J("ngIf",o.allowEdit),e.xp6(1),e.Q6J("ngIf",o.allowDelete)}}function Zn(t,a){1&t&&e._UZ(0,"tr",39)}function wn(t,a){1&t&&e._UZ(0,"tr",40)}const Dn=function(){return[10,20,50]};let En=(()=>{const a=class{constructor(o,n){this.menuRoleService=o,this.dialog=n,this.moreEvent=new w.x,this.editEvent=new w.x,this.deleteEvent=new w.x,this.displayedColumns=["name","code","category","d/f","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.Company_Employee_Master,h.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.Company_Employee_Master,h.k.delete)}ngOnChanges(o){this.companyList.paginator=this.paginator}ngAfterViewInit(){this.companyList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(o){this.dialog.open(Mt,{data:o,width:"70%",maxHeight:"auto"}).afterClosed().subscribe(i=>{1==i&&this.editEvent.next()})}view(o){this.dialog.open(sn,{data:o,width:"70%",maxHeight:"auto"})}delete(o){this.deleteEvent.next(o)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(ln,5),2&n){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},inputs:{companyList:"companyList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[e.TTD],decls:24,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-5",4,"matCellDef"],["matColumnDef","code"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","d/f"],["mat-cell","","class","","style","width: 6rem;",4,"matCellDef"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","col-3 text-end",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col-5"],[3,"active"],["mat-cell","",1,"col"],[1,"material-icons"],["mat-cell","",1,"",2,"width","6rem"],["class","bg-warn p-1 rounded-pill text-white",4,"ngIf"],["class","bg-success p-1 rounded-pill text-white",4,"ngIf"],["class","bg-accent p-1 rounded-pill",4,"ngIf"],[1,"bg-warn","p-1","rounded-pill","text-white"],[1,"bg-success","p-1","rounded-pill","text-white"],[1,"bg-accent","p-1","rounded-pill"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"col-3","text-end"],[3,"item","viewEvent"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,rn,2,0,"th",3),e.YNc(4,cn,3,2,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,mn,2,0,"th",3),e.YNc(7,dn,2,1,"td",6),e.BQk(),e.ynx(8,7),e.YNc(9,pn,2,0,"th",3),e.YNc(10,un,2,1,"td",6),e.BQk(),e.ynx(11,8),e.YNc(12,_n,6,0,"th",3),e.YNc(13,yn,4,3,"td",9),e.BQk(),e.ynx(14,10),e.YNc(15,vn,1,0,"th",11),e.YNc(16,xn,4,3,"td",12),e.BQk(),e.YNc(17,Zn,1,0,"tr",13),e.YNc(18,wn,1,0,"tr",14),e.qZA(),e._UZ(19,"mat-paginator",15,16),e.qZA(),e.TgZ(21,"div",17)(22,"div",18)(23,"app-server-pagination",19),e.NdJ("loadMore",function(){return i.more()}),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("dataSource",i.companyList),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,Dn)),e.xp6(4),e.Q6J("loaded",i.companyList.data.length)("count",i.count))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,O.NW,te.H,$.j,Q.b,B.p,le.R]}),t})();function In(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Document"),e.qZA())}function An(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",3)(1,"a",4),e.YNc(2,In,2,0,"span",5),e.qZA(),e.TgZ(3,"app-add-button",6),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addCompany())}),e.qZA()()}if(2&t){const s=e.oxw();e.xp6(2),e.Q6J("ngIf",s.viewCompanyDoc)}}let bn=(()=>{const a=class extends ne.a{constructor(o,n,i){super(),this.menuRoleService=o,this.companyService=n,this.dialog=i,this.allowAdd=!1,this.viewCompanyDoc=!1}ngOnInit(){this.dataSource=new m.by(this.eList),this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.Company_Employee_Master,h.k.add),this.viewCompanyDoc=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.CompanyDoc,h.k.add)}ngAfterViewInit(){this.getList()}getList(){this.sub=this.companyService.getCompanyList(this.req).subscribe(o=>{this.update(o)})}addCompany(){this.dialog.open(dt,{data:null,width:"70%",maxHeight:"auto"}).afterClosed().subscribe(n=>{1==n&&this.refreshList()})}editCompany(){this.refreshList()}deleteCompany(o){confirm(v.J.confirmDelete(o.name))&&(this.sub=this.companyService.deleteCompany(o.id).subscribe(n=>{n?.status==d.s.success?this.refreshList():alert(n?.message)}))}ngOnDestroy(){this.destroy()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(z),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"onSearchChange","onSearch"],["class","row ps-3",4,"ngIf"],[3,"companyList","count","moreEvent","editEvent","deleteEvent"],[1,"row","ps-3"],["mat-button","","routerLink","/master/employee/company/doc","routerLinkActive","active",1,"nav-link","col-1"],[4,"ngIf"],[1,"col-1","offset-10",3,"addEvent"]],template:function(n,i){1&n&&(e.TgZ(0,"app-search-filter",0),e.NdJ("onSearchChange",function(p){return i.changeSearchKey(p)})("onSearch",function(){return i.getList()}),e.qZA(),e.YNc(1,An,4,1,"div",1),e.TgZ(2,"app-company-list",2),e.NdJ("moreEvent",function(){return i.getList()})("editEvent",function(){return i.editCompany()})("deleteEvent",function(p){return i.deleteCompany(p)}),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.allowAdd||i.viewCompanyDoc),e.xp6(1),e.Q6J("companyList",i.dataSource)("count",i.count))},dependencies:[_.O5,W.zs,H.c,P.L,f.rH,f.Od,En]}),t})();var re=c(1985);class Ln extends re.d{}var ce=c(9386);class Nn extends ce.w{}let ge=(()=>{const a=class{constructor(o){this.http=o}getEmployeeGroupList(o){return this.http.post(C.b.getEmployeeGroupList,o)}addEmployeeGroup(o){return this.http.post(C.b.addEmployeeGroup,o)}editEmployeeGroup(o){return this.http.post(C.b.editEmployeeGroup,o)}deleteEmployeeGroup(o){let n=C.b.deleteEmployeeGroup;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.LFG(q.o))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();function qn(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function Fn(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Edit"),e.qZA())}function Un(t,a){1&t&&(e.TgZ(0,"mat-slide-toggle",10),e._uU(1,"Active"),e.qZA())}function Jn(t,a){1&t&&e._UZ(0,"app-crud-add-button",11)}function Mn(t,a){1&t&&e._UZ(0,"app-crud-edit-button",11)}let he=(()=>{const a=class{constructor(o,n,i){this.dialogRef=o,this.employeeGroupService=n,this.data=i}ngOnInit(){this.manageForm=new l.cw({name:new l.NI(null,[l.kI.required]),active:new l.NI(!0,[l.kI.required])}),null!=this.data&&this.manageForm.setValue({name:this.data.name,active:this.data.active})}manageEmployeeGroup(){this.manageForm.valid?null==this.data?this.addEmployeeGroup():this.editEmployeeGroup():this.manageForm.markAllAsTouched()}addEmployeeGroup(){let o=new Ln;o.name=this.manageForm.value.name,this.sub=this.employeeGroupService.addEmployeeGroup(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}editEmployeeGroup(){let o=new Nn;o.id=this.data?.id,o.name=this.manageForm.value.name,o.active=this.manageForm.value.active,this.sub=this.employeeGroupService.editEmployeeGroup(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(ge),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-employee-group"]],decls:16,vars:7,consts:[[4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field",3,"ngClass"],["type","text","matInput","","formControlName","name"],["class","form-field col-4 text-end","formControlName","active",4,"ngIf"],[1,"row"],[1,"col-4",3,"resetEvent"],["class","col-4 offset-4",4,"ngIf"],["formControlName","active",1,"form-field","col-4","text-end"],[1,"col-4","offset-4"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,qn,2,0,"span",0),e.YNc(2,Fn,2,0,"span",0),e._uU(3," Employee Group\n"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("submit",function(){return i.manageEmployeeGroup()}),e.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",5),e.qZA(),e.YNc(11,Un,2,0,"mat-slide-toggle",6),e.qZA(),e.TgZ(12,"div",7)(13,"app-crud-reset-button",8),e.NdJ("resetEvent",function(){return i.reset()}),e.qZA(),e.YNc(14,Jn,1,0,"app-crud-add-button",9),e.YNc(15,Mn,1,0,"app-crud-edit-button",9),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("formGroup",i.manageForm),e.xp6(2),e.Q6J("ngClass",null==i.data?"col-12":"col-8"),e.xp6(4),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data))},dependencies:[_.mk,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,D.KE,D.hX,J.Nt,u.xY,S.Rr,k.L,K.W,R.X,M.H]}),t})();const Qn=["page"];function Yn(t,a){1&t&&(e.TgZ(0,"th",15),e._uU(1," Name "),e.qZA())}function Sn(t,a){if(1&t&&(e.TgZ(0,"td",16)(1,"app-active-text",17),e._uU(2),e.qZA()()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("active",s.active),e.xp6(1),e.Oqu(s.name)}}function Rn(t,a){1&t&&e._UZ(0,"th",18)}function On(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-edit-action-icon",22),e.NdJ("editEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.edit(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Gn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-delete-action-icon",23),e.NdJ("deleteEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.delete(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function kn(t,a){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,On,1,1,"app-edit-action-icon",20),e.YNc(2,Gn,1,1,"app-delete-action-icon",21),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.allowEdit),e.xp6(1),e.Q6J("ngIf",s.allowDelete)}}function Kn(t,a){1&t&&e._UZ(0,"tr",24)}function Hn(t,a){1&t&&e._UZ(0,"tr",25)}const Pn=function(){return[10,20,50]};let $n=(()=>{const a=class{constructor(o,n){this.menuRoleService=o,this.dialog=n,this.moreEvent=new w.x,this.editEvent=new w.x,this.deleteEvent=new w.x,this.displayedColumns=["name","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.EmployeeGroup_Employee_Master,h.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.EmployeeGroup_Employee_Master,h.k.delete)}ngOnChanges(o){this.employeeGroupList.paginator=this.paginator}ngAfterViewInit(){this.employeeGroupList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(o){this.dialog.open(he,{data:o,width:"30%",autoFocus:!1}).afterClosed().subscribe(i=>{1==i&&this.editEvent.next()})}delete(o){this.deleteEvent.next(o)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-employee-group-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(Qn,5),2&n){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},inputs:{employeeGroupList:"employeeGroupList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[e.TTD],decls:15,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","col text-end",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col"],[3,"active"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"col","text-end"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,Yn,2,0,"th",3),e.YNc(4,Sn,3,2,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,Rn,1,0,"th",6),e.YNc(7,kn,3,2,"td",7),e.BQk(),e.YNc(8,Kn,1,0,"tr",8),e.YNc(9,Hn,1,0,"tr",9),e.qZA(),e._UZ(10,"mat-paginator",10,11),e.qZA(),e.TgZ(12,"div",12)(13,"div",13)(14,"app-server-pagination",14),e.NdJ("loadMore",function(){return i.more()}),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("dataSource",i.employeeGroupList),e.xp6(7),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,Pn)),e.xp6(4),e.Q6J("loaded",i.employeeGroupList.data.length)("count",i.count))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,O.NW,te.H,$.j,Q.b,B.p]}),t})();function Bn(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",3)(1,"app-add-button",4),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addEmployeeGroup())}),e.qZA()()}}let Vn=(()=>{const a=class extends ne.a{constructor(o,n,i){super(),this.menuRoleService=o,this.employeeGroupService=n,this.dialog=i,this.allowAdd=!1}ngOnInit(){this.dataSource=new m.by(this.eList),this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.EmployeeGroup_Employee_Master,h.k.add)}ngAfterViewInit(){this.getList()}getList(){this.sub=this.employeeGroupService.getEmployeeGroupList(this.req).subscribe(o=>{this.update(o)})}addEmployeeGroup(){this.dialog.open(he,{data:null,width:"30%",autoFocus:!1}).afterClosed().subscribe(n=>{1==n&&this.refreshList()})}editEmployeeGroup(){this.refreshList()}deleteEmployeeGroup(o){confirm(v.J.confirmDelete(o.name))&&(this.sub=this.employeeGroupService.deleteEmployeeGroup(o.id).subscribe(n=>{n?.status==d.s.success?this.refreshList():alert(n?.message)}))}ngOnDestroy(){this.destroy()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(ge),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-employee-group"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"onSearchChange","onSearch"],["class","row",4,"ngIf"],[3,"employeeGroupList","count","moreEvent","editEvent","deleteEvent"],[1,"row"],[1,"col-1","offset-11",3,"addEvent"]],template:function(n,i){1&n&&(e.TgZ(0,"app-search-filter",0),e.NdJ("onSearchChange",function(p){return i.changeSearchKey(p)})("onSearch",function(){return i.getList()}),e.qZA(),e.YNc(1,Bn,2,0,"div",1),e.TgZ(2,"app-employee-group-list",2),e.NdJ("moreEvent",function(){return i.getList()})("editEvent",function(){return i.editEmployeeGroup()})("deleteEvent",function(p){return i.deleteEmployeeGroup(p)}),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.allowAdd),e.xp6(1),e.Q6J("employeeGroupList",i.dataSource)("count",i.count))},dependencies:[_.O5,H.c,P.L,$n]}),t})();class zn extends re.d{}class Wn extends ce.w{}let ye=(()=>{const a=class{constructor(o){this.http=o}getEmployeeDesignationList(o){return this.http.post(C.b.getEmployeeDesignationList,o)}addEmployeeDesignation(o){return this.http.post(C.b.addEmployeeDesignation,o)}editEmployeeDesignation(o){return this.http.post(C.b.editEmployeeDesignation,o)}deleteEmployeeDesignation(o){let n=C.b.deleteEmployeeDesignation;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.LFG(q.o))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();function jn(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function Xn(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Edit"),e.qZA())}function eo(t,a){1&t&&(e.TgZ(0,"mat-slide-toggle",10),e._uU(1,"Active"),e.qZA())}function to(t,a){1&t&&e._UZ(0,"app-crud-add-button",11)}function no(t,a){1&t&&e._UZ(0,"app-crud-edit-button",11)}let ve=(()=>{const a=class{constructor(o,n,i){this.dialogRef=o,this.employeeDesignationService=n,this.data=i}ngOnInit(){this.manageForm=new l.cw({name:new l.NI(null,[l.kI.required]),active:new l.NI(!0,[l.kI.required])}),null!=this.data&&this.manageForm.setValue({name:this.data.name,active:this.data.active})}manageEmployeeDesignation(){this.manageForm.valid?null==this.data?this.addEmployeeDesignation():this.editEmployeeDesignation():this.manageForm.markAllAsTouched()}addEmployeeDesignation(){let o=new zn;o.name=this.manageForm.value.name,this.sub=this.employeeDesignationService.addEmployeeDesignation(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}editEmployeeDesignation(){let o=new Wn;o.id=this.data?.id,o.name=this.manageForm.value.name,o.active=this.manageForm.value.active,this.sub=this.employeeDesignationService.editEmployeeDesignation(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(ye),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-employee-designation"]],decls:16,vars:7,consts:[[4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field",3,"ngClass"],["type","text","matInput","","formControlName","name"],["class","form-field col-4 text-end","formControlName","active",4,"ngIf"],[1,"row"],[1,"col-4",3,"resetEvent"],["class","col-4 offset-4",4,"ngIf"],["formControlName","active",1,"form-field","col-4","text-end"],[1,"col-4","offset-4"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,jn,2,0,"span",0),e.YNc(2,Xn,2,0,"span",0),e._uU(3," Employee Designation\n"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("submit",function(){return i.manageEmployeeDesignation()}),e.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",5),e.qZA(),e.YNc(11,eo,2,0,"mat-slide-toggle",6),e.qZA(),e.TgZ(12,"div",7)(13,"app-crud-reset-button",8),e.NdJ("resetEvent",function(){return i.reset()}),e.qZA(),e.YNc(14,to,1,0,"app-crud-add-button",9),e.YNc(15,no,1,0,"app-crud-edit-button",9),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("formGroup",i.manageForm),e.xp6(2),e.Q6J("ngClass",null==i.data?"col-12":"col-8"),e.xp6(4),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data))},dependencies:[_.mk,_.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,D.KE,D.hX,J.Nt,u.xY,S.Rr,k.L,K.W,R.X,M.H]}),t})();const oo=["page"];function ao(t,a){1&t&&(e.TgZ(0,"th",15),e._uU(1," Name "),e.qZA())}function io(t,a){if(1&t&&(e.TgZ(0,"td",16)(1,"app-active-text",17),e._uU(2),e.qZA()()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("active",s.active),e.xp6(1),e.Oqu(s.name)}}function so(t,a){1&t&&e._UZ(0,"th",18)}function lo(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-edit-action-icon",22),e.NdJ("editEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.edit(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function ro(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-delete-action-icon",23),e.NdJ("deleteEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.delete(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function co(t,a){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,lo,1,1,"app-edit-action-icon",20),e.YNc(2,ro,1,1,"app-delete-action-icon",21),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.allowEdit),e.xp6(1),e.Q6J("ngIf",s.allowDelete)}}function mo(t,a){1&t&&e._UZ(0,"tr",24)}function po(t,a){1&t&&e._UZ(0,"tr",25)}const uo=function(){return[10,20,50]};let _o=(()=>{const a=class{constructor(o,n){this.menuRoleService=o,this.dialog=n,this.moreEvent=new w.x,this.editEvent=new w.x,this.deleteEvent=new w.x,this.displayedColumns=["name","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.EmployeeDesignation_Employee_Master,h.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.EmployeeDesignation_Employee_Master,h.k.delete)}ngOnChanges(o){this.employeeDesignationList.paginator=this.paginator}ngAfterViewInit(){this.employeeDesignationList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(o){this.dialog.open(ve,{data:o,width:"30%",autoFocus:!1}).afterClosed().subscribe(i=>{1==i&&this.editEvent.next()})}delete(o){this.deleteEvent.next(o)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-employee-designation-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(oo,5),2&n){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},inputs:{employeeDesignationList:"employeeDesignationList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[e.TTD],decls:15,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","col text-end",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col"],[3,"active"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"col","text-end"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,ao,2,0,"th",3),e.YNc(4,io,3,2,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,so,1,0,"th",6),e.YNc(7,co,3,2,"td",7),e.BQk(),e.YNc(8,mo,1,0,"tr",8),e.YNc(9,po,1,0,"tr",9),e.qZA(),e._UZ(10,"mat-paginator",10,11),e.qZA(),e.TgZ(12,"div",12)(13,"div",13)(14,"app-server-pagination",14),e.NdJ("loadMore",function(){return i.more()}),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("dataSource",i.employeeDesignationList),e.xp6(7),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,uo)),e.xp6(4),e.Q6J("loaded",i.employeeDesignationList.data.length)("count",i.count))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,O.NW,te.H,$.j,Q.b,B.p]}),t})();function fo(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",3)(1,"app-add-button",4),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addEmployeeDesignation())}),e.qZA()()}}let go=(()=>{const a=class extends ne.a{constructor(o,n,i){super(),this.menuRoleService=o,this.employeeDesignationService=n,this.dialog=i,this.allowAdd=!1}ngOnInit(){this.dataSource=new m.by(this.eList),this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.EmployeeDesignation_Employee_Master,h.k.add)}ngAfterViewInit(){this.getList()}getList(){this.sub=this.employeeDesignationService.getEmployeeDesignationList(this.req).subscribe(o=>{this.update(o)})}addEmployeeDesignation(){this.dialog.open(ve,{data:null,width:"30%",autoFocus:!1}).afterClosed().subscribe(n=>{1==n&&this.refreshList()})}editEmployeeDesignation(){this.refreshList()}deleteEmployeeDesignation(o){confirm(v.J.confirmDelete(o.name))&&(this.sub=this.employeeDesignationService.deleteEmployeeDesignation(o.id).subscribe(n=>{n?.status==d.s.success?this.refreshList():alert(n?.message)}))}ngOnDestroy(){this.destroy()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(ye),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-employee-designation"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"onSearchChange","onSearch"],["class","row",4,"ngIf"],[3,"employeeDesignationList","count","moreEvent","editEvent","deleteEvent"],[1,"row"],[1,"col-1","offset-11",3,"addEvent"]],template:function(n,i){1&n&&(e.TgZ(0,"app-search-filter",0),e.NdJ("onSearchChange",function(p){return i.changeSearchKey(p)})("onSearch",function(){return i.getList()}),e.qZA(),e.YNc(1,fo,2,0,"div",1),e.TgZ(2,"app-employee-designation-list",2),e.NdJ("moreEvent",function(){return i.getList()})("editEvent",function(){return i.editEmployeeDesignation()})("deleteEvent",function(p){return i.deleteEmployeeDesignation(p)}),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.allowAdd),e.xp6(1),e.Q6J("employeeDesignationList",i.dataSource)("count",i.count))},dependencies:[_.O5,H.c,P.L,_o]}),t})();class ho extends re.d{}class yo extends ce.w{}var Ce=c(529);let Te=(()=>{const a=class{constructor(o,n){this.http=o,this.httpClient=n}getDocumentTypeList(o){return this.http.post(C.b.getDocumentTypeList,o)}getDocumentTypeManageData(){return this.http.get(C.b.getDocumentTypeManageData)}addDocumentType(o){return this.http.post(C.b.addDocumentType,o)}editDocumentType(o){return this.http.post(C.b.editDocumentType,o)}deleteDocumentType(o){let n=C.b.deleteDocumentType;return n=n.replace(/{id}/gi,o),this.http.post(n,null)}sendFormData(o){return this.httpClient.post(C.b.testUpload,o,{headers:{}})}export(){return this.httpClient.post(C.b.testExport,null,{reportProgress:!0,observe:"events",responseType:"blob"})}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.LFG(q.o),e.LFG(Ce.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();const vo=["fileUpload"];function Co(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function To(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"Edit"),e.qZA())}function xo(t,a){1&t&&(e.TgZ(0,"mat-slide-toggle",23),e._uU(1,"Active"),e.qZA())}function Zo(t,a){if(1&t&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s),e.xp6(1),e.Oqu(s)}}function wo(t,a){1&t&&e._UZ(0,"app-crud-add-button",25)}function Do(t,a){1&t&&e._UZ(0,"app-crud-edit-button",25)}let xe=(()=>{const a=class{constructor(o,n,i){this.dialogRef=o,this.documentTypeService=n,this.data=i,this.categoryList=[],this.files=[],this.progress=0,this.message=""}ngOnInit(){this.manageForm=new l.cw({name:new l.NI(null,[l.kI.required]),code:new l.NI(null,[l.kI.required]),category:new l.NI(null,[l.kI.required]),isIdentifier:new l.NI(!0,[l.kI.required]),isExpiry:new l.NI(!0,[l.kI.required]),isAttachment:new l.NI(!0,[l.kI.required]),contentLimit:new l.NI(0,[l.kI.required]),expiryNotificationDays:new l.NI(0,[l.kI.required]),sequence:new l.NI(0,[l.kI.required]),active:new l.NI(!0,[l.kI.required])}),this.sub=this.documentTypeService.getDocumentTypeManageData().subscribe(o=>{this.categoryList=o.item?.categoryList,null!=this.data&&(this.manageForm.setValue({name:this.data.name,code:this.data.code,category:this.data.category,isIdentifier:this.data.isIdentifier,isExpiry:this.data.isExpiry,isAttachment:this.data.isAttachment,contentLimit:this.data.contentLimitKb,expiryNotificationDays:this.data.expiryNotificationDays,sequence:this.data.sequence,active:this.data.active}),this.manageForm.get("code")?.disable(),this.manageForm.get("category")?.disable())})}manageDocumentType(){this.manageForm.valid?null==this.data?this.addDocumentType():this.editDocumentType():this.manageForm.markAllAsTouched()}addDocumentType(){let o=new ho;o.name=this.manageForm.value.name,o.code=this.manageForm.value.code,o.category=this.manageForm.value.category,o.isIdentifier=this.manageForm.value.isIdentifier,o.isExpiry=this.manageForm.value.isExpiry,o.isAttachment=this.manageForm.value.isAttachment,o.contentLimitKb=this.manageForm.value.contentLimit,o.expiryNotificationDays=this.manageForm.value.expiryNotificationDays,o.sequence=this.manageForm.value.sequence,this.sub=this.documentTypeService.addDocumentType(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}editDocumentType(){let o=new yo;o.id=this.data?.id,o.name=this.manageForm.value.name,o.isIdentifier=this.manageForm.value.isIdentifier,o.isExpiry=this.manageForm.value.isExpiry,o.isAttachment=this.manageForm.value.isAttachment,o.contentLimitKb=this.manageForm.value.contentLimit,o.expiryNotificationDays=this.manageForm.value.expiryNotificationDays,o.sequence=this.manageForm.value.sequence,o.active=this.manageForm.value.active,this.sub=this.documentTypeService.editDocumentType(o).subscribe(n=>{n?.status==d.s.success?(this.reset(),this.closeDialog()):alert(n?.message)})}reset(){this.manageForm.reset()}closeDialog(){this.dialogRef.close(!0)}ngOnDestroy(){this.sub?.unsubscribe()}onClick(){const o=this.fileUpload.nativeElement;o.onchange=()=>{for(let n=0;n<o.files.length;n++)this.files.push({data:o.files[n],inProgress:!1,progress:0});this.sendFile()},o.click()}onExport(){var o=this;this.sub=this.documentTypeService.export().subscribe(function(){var n=(0,ee.Z)(function*(i){let r=i;const p=new Blob([r.body],{type:r.body?.type});console.log(r.body?.type);var g=new FileReader;g.readAsDataURL(p);let E=o;if(g.onloadend=function(){var I=g.result;E.profile=""+I,console.log(I)},console.log("ddd",p),""!=p.type){const I=document.createElement("a");I.setAttribute("style","display:none;"),document.body.appendChild(I),I.download="a",I.href=URL.createObjectURL(p),I.target="_blank",I.click(),document.body.removeChild(I)}});return function(i){return n.apply(this,arguments)}}())}sendFile(){const o=new FormData;o.append("data",JSON.stringify({id:5,name:"afeef"})),this.files.forEach(n=>{o.append("files",n.data)}),this.documentTypeService.sendFormData(o).subscribe(n=>{alert(JSON.stringify(n)),"object"==typeof n&&console.log(n.body)})}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(u.so),e.Y36(Te),e.Y36(u.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-document-type"]],viewQuery:function(n,i){if(1&n&&e.Gf(vo,5),2&n){let r;e.iGM(r=e.CRH())&&(i.fileUpload=r.first)}},decls:45,vars:9,consts:[[4,"ngIf"],["mat-dialog-content","",1,"row"],[1,"my-2",3,"formGroup","submit"],[1,"row","form-group"],[1,"form-field",3,"ngClass"],["type","text","matInput","","formControlName","name"],["type","text","matInput","","formControlName","code"],["class","form-field col-3 text-end","formControlName","active",4,"ngIf"],[1,"row","form-group","pb-4"],["formControlName","isIdentifier",1,"form-field","col-4","text-start"],["formControlName","isExpiry",1,"form-field","col-4","text-center"],["formControlName","isAttachment",1,"form-field","col-4","text-end"],[1,"form-field","col-3"],["type","number","matInput","","formControlName","contentLimit"],[1,"form-field","col-4"],["type","number","matInput","","formControlName","expiryNotificationDays"],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-2"],["type","number","matInput","","formControlName","sequence"],[1,"row"],[1,"col-4",3,"resetEvent"],["class","col-4 offset-4",4,"ngIf"],["formControlName","active",1,"form-field","col-3","text-end"],[3,"value"],[1,"col-4","offset-4"]],template:function(n,i){1&n&&(e.TgZ(0,"app-form-heading"),e.YNc(1,Co,2,0,"span",0),e.YNc(2,To,2,0,"span",0),e._uU(3," Document Type\n"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("submit",function(){return i.manageDocumentType()}),e.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",5),e.qZA(),e.TgZ(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Code"),e.qZA(),e._UZ(14,"input",6),e.qZA(),e.YNc(15,xo,2,0,"mat-slide-toggle",7),e.qZA(),e.TgZ(16,"div",8)(17,"mat-slide-toggle",9),e._uU(18,"IsIdentifier"),e.qZA(),e.TgZ(19,"mat-slide-toggle",10),e._uU(20,"IsExpiry"),e.qZA(),e.TgZ(21,"mat-slide-toggle",11),e._uU(22,"IsAttachment"),e.qZA()(),e.TgZ(23,"div",3)(24,"mat-form-field",12)(25,"mat-label"),e._uU(26,"Content Limit (Kb)"),e.qZA(),e._UZ(27,"input",13),e.qZA(),e.TgZ(28,"mat-form-field",14)(29,"mat-label"),e._uU(30,"Notification Days"),e.qZA(),e._UZ(31,"input",15),e.qZA(),e.TgZ(32,"mat-form-field",12)(33,"mat-label"),e._uU(34,"Category"),e.qZA(),e.TgZ(35,"mat-select",16),e.YNc(36,Zo,2,2,"mat-option",17),e.qZA()(),e.TgZ(37,"mat-form-field",18)(38,"mat-label"),e._uU(39,"Sequence"),e.qZA(),e._UZ(40,"input",19),e.qZA()(),e.TgZ(41,"div",20)(42,"app-crud-reset-button",21),e.NdJ("resetEvent",function(){return i.reset()}),e.qZA(),e.YNc(43,wo,1,0,"app-crud-add-button",22),e.YNc(44,Do,1,0,"app-crud-edit-button",22),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data),e.xp6(3),e.Q6J("formGroup",i.manageForm),e.xp6(2),e.Q6J("ngClass",null==i.data?"col-8":"col-6"),e.xp6(4),e.Q6J("ngClass",null==i.data?"col-4":"col-3"),e.xp6(4),e.Q6J("ngIf",null!=i.data),e.xp6(21),e.Q6J("ngForOf",i.categoryList),e.xp6(7),e.Q6J("ngIf",null==i.data),e.xp6(1),e.Q6J("ngIf",null!=i.data))},dependencies:[_.mk,_.sg,_.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,D.KE,D.hX,J.Nt,u.xY,j.gD,X.ey,S.Rr,k.L,K.W,R.X,M.H]}),t})(),Eo=(()=>{const a=class{transform(o){return o?"Yes":"No"}};let t=a;return a.\u0275fac=function(n){return new(n||a)},a.\u0275pipe=e.Yjl({name:"yesNo",type:a,pure:!0}),t})();const Io=["page"];function Ao(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1," Name "),e.qZA())}function bo(t,a){if(1&t&&(e.TgZ(0,"td",25)(1,"app-active-text",26),e._uU(2),e.qZA()()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("active",s.active),e.xp6(1),e.Oqu(s.name)}}function Lo(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1," Code "),e.qZA())}function No(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.code," ")}}function qo(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1," Category "),e.qZA())}function Fo(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.category," ")}}function Uo(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1," IsIdentifier "),e.qZA())}function Jo(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.ALo(2,"yesNo"),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,s.isIdentifier)," ")}}function Mo(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1," IsExpiry "),e.qZA())}function Qo(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.ALo(2,"yesNo"),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,s.isExpiry)," ")}}function Yo(t,a){1&t&&(e.TgZ(0,"th",24),e._uU(1," IsAttachment "),e.qZA())}function So(t,a){if(1&t&&(e.TgZ(0,"td",25),e._uU(1),e.ALo(2,"yesNo"),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,s.isAttachment)," ")}}function Ro(t,a){1&t&&(e.TgZ(0,"th",27),e._uU(1," Content Limit (Kb) "),e.qZA())}function Oo(t,a){if(1&t&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.contentLimitKb," ")}}function Go(t,a){1&t&&(e.TgZ(0,"th",27),e._uU(1," Notification Days "),e.qZA())}function ko(t,a){if(1&t&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.expiryNotificationDays," ")}}function Ko(t,a){1&t&&(e.TgZ(0,"th",27),e._uU(1," Sequence "),e.qZA())}function Ho(t,a){if(1&t&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.sequence," ")}}function Po(t,a){1&t&&e._UZ(0,"th",27)}function $o(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-edit-action-icon",32),e.NdJ("editEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.edit(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Bo(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-delete-action-icon",33),e.NdJ("deleteEvent",function(){e.CHM(s);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.delete(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Vo(t,a){if(1&t&&(e.TgZ(0,"td",29),e.YNc(1,$o,1,1,"app-edit-action-icon",30),e.YNc(2,Bo,1,1,"app-delete-action-icon",31),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.allowEdit),e.xp6(1),e.Q6J("ngIf",s.allowDelete)}}function zo(t,a){1&t&&e._UZ(0,"tr",34)}function Wo(t,a){1&t&&e._UZ(0,"tr",35)}const jo=function(){return[10,20,50]};let Xo=(()=>{const a=class{constructor(o,n){this.menuRoleService=o,this.dialog=n,this.moreEvent=new w.x,this.editEvent=new w.x,this.deleteEvent=new w.x,this.displayedColumns=["name","code","category","isIdentifier","isExpiry","isAttachment","contentLimit","notificationDays","sequence","manage"],this.allowEdit=!1,this.allowDelete=!1}ngOnInit(){this.allowEdit=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.DocumentType_Employee_Master,h.k.edit),this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.DocumentType_Employee_Master,h.k.delete)}ngOnChanges(o){this.documentTypeList.paginator=this.paginator}ngAfterViewInit(){this.documentTypeList.paginator=this.paginator}more(){this.moreEvent.next(!0)}edit(o){this.dialog.open(xe,{data:o,width:"45%",autoFocus:!1}).afterClosed().subscribe(i=>{1==i&&this.editEvent.next()})}delete(o){this.deleteEvent.next(o)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-document-type-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(Io,5),2&n){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},inputs:{documentTypeList:"documentTypeList",count:"count"},outputs:{moreEvent:"moreEvent",editEvent:"editEvent",deleteEvent:"deleteEvent"},features:[e.TTD],decls:39,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","category"],["matColumnDef","isIdentifier"],["matColumnDef","isExpiry"],["matColumnDef","isAttachment"],["matColumnDef","contentLimit"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","col-2 text-end",4,"matCellDef"],["matColumnDef","notificationDays"],["matColumnDef","sequence"],["mat-cell","","class","col text-end",4,"matCellDef"],["matColumnDef","manage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col"],[3,"active"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"col-2","text-end"],["mat-cell","",1,"col","text-end"],[3,"item","editEvent",4,"ngIf"],[3,"item","deleteEvent",4,"ngIf"],[3,"item","editEvent"],[3,"item","deleteEvent"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,Ao,2,0,"th",3),e.YNc(4,bo,3,2,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,Lo,2,0,"th",3),e.YNc(7,No,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,qo,2,0,"th",3),e.YNc(10,Fo,2,1,"td",4),e.BQk(),e.ynx(11,7),e.YNc(12,Uo,2,0,"th",3),e.YNc(13,Jo,3,3,"td",4),e.BQk(),e.ynx(14,8),e.YNc(15,Mo,2,0,"th",3),e.YNc(16,Qo,3,3,"td",4),e.BQk(),e.ynx(17,9),e.YNc(18,Yo,2,0,"th",3),e.YNc(19,So,3,3,"td",4),e.BQk(),e.ynx(20,10),e.YNc(21,Ro,2,0,"th",11),e.YNc(22,Oo,2,1,"td",12),e.BQk(),e.ynx(23,13),e.YNc(24,Go,2,0,"th",11),e.YNc(25,ko,2,1,"td",12),e.BQk(),e.ynx(26,14),e.YNc(27,Ko,2,0,"th",11),e.YNc(28,Ho,2,1,"td",15),e.BQk(),e.ynx(29,16),e.YNc(30,Po,1,0,"th",11),e.YNc(31,Vo,3,2,"td",15),e.BQk(),e.YNc(32,zo,1,0,"tr",17),e.YNc(33,Wo,1,0,"tr",18),e.qZA(),e._UZ(34,"mat-paginator",19,20),e.qZA(),e.TgZ(36,"div",21)(37,"div",22)(38,"app-server-pagination",23),e.NdJ("loadMore",function(){return i.more()}),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("dataSource",i.documentTypeList),e.xp6(31),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,jo)),e.xp6(4),e.Q6J("loaded",i.documentTypeList.data.length)("count",i.count))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,O.NW,te.H,$.j,Q.b,B.p,Eo]}),t})();function ea(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"div",3)(1,"app-add-button",4),e.NdJ("addEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addDocumentType())}),e.qZA()()}}let ta=(()=>{const a=class extends ne.a{constructor(o,n,i){super(),this.menuRoleService=o,this.documentTypeService=n,this.dialog=i,this.allowAdd=!1}ngOnInit(){this.dataSource=new m.by(this.eList),this.allowAdd=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.DocumentType_Employee_Master,h.k.add)}ngAfterViewInit(){this.getList()}getList(){this.sub=this.documentTypeService.getDocumentTypeList(this.req).subscribe(o=>{this.update(o)})}addDocumentType(){this.dialog.open(xe,{data:null,width:"45%",autoFocus:!1}).afterClosed().subscribe(n=>{1==n&&this.refreshList()})}editDocumentType(){this.refreshList()}deleteDocumentType(o){confirm(v.J.confirmDelete(o.name))&&(this.sub=this.documentTypeService.deleteDocumentType(o.id).subscribe(n=>{n?.status==d.s.success?this.refreshList():alert(n?.message)}))}ngOnDestroy(){this.destroy()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(Te),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-document-type"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"onSearchChange","onSearch"],["class","row",4,"ngIf"],[3,"documentTypeList","count","moreEvent","editEvent","deleteEvent"],[1,"row"],[1,"col-1","offset-11",3,"addEvent"]],template:function(n,i){1&n&&(e.TgZ(0,"app-search-filter",0),e.NdJ("onSearchChange",function(p){return i.changeSearchKey(p)})("onSearch",function(){return i.getList()}),e.qZA(),e.YNc(1,ea,2,0,"div",1),e.TgZ(2,"app-document-type-list",2),e.NdJ("moreEvent",function(){return i.getList()})("editEvent",function(){return i.editDocumentType()})("deleteEvent",function(p){return i.deleteDocumentType(p)}),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.allowAdd),e.xp6(1),e.Q6J("documentTypeList",i.dataSource)("count",i.count))},dependencies:[_.O5,H.c,P.L,Xo]}),t})();var na=c(6212);class oa extends na.G{}var aa=c(5894);const ia=["page"];function sa(t,a){1&t&&(e.TgZ(0,"th",21),e._uU(1," DocType "),e.qZA())}function la(t,a){1&t&&(e.TgZ(0,"span",24)(1,"i",25),e._uU(2,"attachment"),e.qZA()())}function ra(t,a){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.YNc(2,la,3,0,"span",23),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.documentType.name," "),e.xp6(1),e.Q6J("ngIf",null!=s.fileName)}}function ca(t,a){1&t&&(e.TgZ(0,"th",21),e._uU(1," Identifier "),e.qZA())}function ma(t,a){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.identifier," ")}}function da(t,a){1&t&&(e.TgZ(0,"th",21),e._uU(1," Expiry (Days) "),e.qZA())}function pa(t,a){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.AsE(" ",s.expiryDate," (",s.expiryDays,") ")}}function ua(t,a){1&t&&(e.TgZ(0,"th",21),e._uU(1," Name "),e.qZA())}function _a(t,a){if(1&t&&(e.TgZ(0,"td",26)(1,"span",27),e._uU(2),e.qZA()()),2&t){const s=a.$implicit;e.xp6(2),e.AsE("",s.company.name," (",s.company.code,")")}}function fa(t,a){1&t&&(e.TgZ(0,"th",21),e._uU(1," Category "),e.qZA())}function ga(t,a){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.hij(" ",s.company.category," ")}}function ha(t,a){1&t&&(e.TgZ(0,"th",21),e._uU(1," Status "),e.qZA())}function ya(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Valid"),e.qZA())}function va(t,a){1&t&&(e.TgZ(0,"span",32),e._uU(1,"Expired"),e.qZA())}function Ca(t,a){1&t&&(e.TgZ(0,"span",33),e._uU(1,"Near Expiry"),e.qZA())}function Ta(t,a){if(1&t&&(e.TgZ(0,"td",22),e.YNc(1,ya,2,0,"span",28),e.YNc(2,va,2,0,"span",29),e.YNc(3,Ca,2,0,"span",30),e.qZA()),2&t){const s=a.$implicit;e.xp6(1),e.Q6J("ngIf",1==s.valid),e.xp6(1),e.Q6J("ngIf",1==s.expired),e.xp6(1),e.Q6J("ngIf",1==s.nearExpiry)}}function xa(t,a){1&t&&e._UZ(0,"th",34)}function Za(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-view-action-icon",39),e.NdJ("viewEvent",function(n){e.CHM(s);const i=e.oxw(2);return e.KtG(i.viewDoc(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function wa(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-download-action-icon",40),e.NdJ("downloadEvent",function(n){e.CHM(s);const i=e.oxw(2);return e.KtG(i.downloadDoc(n))}),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Da(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-action-icon",41),e.NdJ("actionEvent",function(n){e.CHM(s);const i=e.oxw(2);return e.KtG(i.removeDocFile(n))}),e._uU(1,"attach_file_off"),e.qZA()}if(2&t){const s=e.oxw().$implicit;e.Q6J("item",s)}}function Ea(t,a){if(1&t&&(e.TgZ(0,"td",35),e.YNc(1,Za,1,1,"app-view-action-icon",36),e.YNc(2,wa,1,1,"app-download-action-icon",37),e.YNc(3,Da,2,1,"app-action-icon",38),e.qZA()),2&t){const s=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",null!=s.fileName&&o.allowExport),e.xp6(1),e.Q6J("ngIf",null!=s.fileName&&o.allowExport),e.xp6(1),e.Q6J("ngIf",null!=s.fileName&&o.allowDelete)}}function Ia(t,a){1&t&&e._UZ(0,"tr",42)}function Aa(t,a){1&t&&e._UZ(0,"tr",43)}const ba=function(){return[10,20,50]};let La=(()=>{const a=class{constructor(o,n){this.menuRoleService=o,this.dialog=n,this.moreEvent=new w.x,this.displayedColumns=["docType","identifier","expiryDate","name","category","status","manage"],this.baseUrl=(0,C.S)(),this.allowDelete=!1,this.allowExport=!1,this.viewDocEvent=new w.x,this.downloadDocEvent=new w.x,this.removeDocFileEvent=new w.x}ngOnInit(){this.allowDelete=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.CompanyDoc,h.k.delete),this.allowExport=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.CompanyDoc,h.k.export)}ngOnChanges(o){this.companyDocList.paginator=this.paginator}ngAfterViewInit(){this.companyDocList.paginator=this.paginator}more(){this.moreEvent.next(!0)}viewDoc(o){this.viewDocEvent.next(o)}downloadDoc(o){this.downloadDocEvent.next(o)}removeDocFile(o){this.removeDocFileEvent.next(o)}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(b.K),e.Y36(u.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-doc-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(ia,5),2&n){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},inputs:{companyDocList:"companyDocList",count:"count"},outputs:{moreEvent:"moreEvent",viewDocEvent:"viewDocEvent",downloadDocEvent:"downloadDocEvent",removeDocFileEvent:"removeDocFileEvent"},features:[e.TTD],decls:30,vars:7,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","docType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col",4,"matCellDef"],["matColumnDef","identifier"],["matColumnDef","expiryDate"],["matColumnDef","name"],["mat-cell","","class","col-3",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","status"],["matColumnDef","manage"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","col text-end",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSizeOptions"],["page",""],[1,"row"],[1,"col-6"],[3,"loaded","count","loadMore"],["mat-header-cell",""],["mat-cell","",1,"col"],["class","ms-3",4,"ngIf"],[1,"ms-3"],[1,"material-icons","text-success"],["mat-cell","",1,"col-3"],[1,"ms-2"],["class","bg-success p-2 text-light rounded-pill",4,"ngIf"],["class","bg-warn p-2 text-light rounded-pill",4,"ngIf"],["class","bg-accent p-2 text-dark rounded-pill",4,"ngIf"],[1,"bg-success","p-2","text-light","rounded-pill"],[1,"bg-warn","p-2","text-light","rounded-pill"],[1,"bg-accent","p-2","text-dark","rounded-pill"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"col","text-end"],[3,"item","viewEvent",4,"ngIf"],[3,"item","downloadEvent",4,"ngIf"],["color","accent",3,"item","actionEvent",4,"ngIf"],[3,"item","viewEvent"],[3,"item","downloadEvent"],["color","accent",3,"item","actionEvent"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,sa,2,0,"th",3),e.YNc(4,ra,3,2,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,ca,2,0,"th",3),e.YNc(7,ma,2,1,"td",4),e.BQk(),e.ynx(8,6),e.YNc(9,da,2,0,"th",3),e.YNc(10,pa,2,2,"td",4),e.BQk(),e.ynx(11,7),e.YNc(12,ua,2,0,"th",3),e.YNc(13,_a,3,2,"td",8),e.BQk(),e.ynx(14,9),e.YNc(15,fa,2,0,"th",3),e.YNc(16,ga,2,1,"td",4),e.BQk(),e.ynx(17,10),e.YNc(18,ha,2,0,"th",3),e.YNc(19,Ta,4,3,"td",4),e.BQk(),e.ynx(20,11),e.YNc(21,xa,1,0,"th",12),e.YNc(22,Ea,4,3,"td",13),e.BQk(),e.YNc(23,Ia,1,0,"tr",14),e.YNc(24,Aa,1,0,"tr",15),e.qZA(),e._UZ(25,"mat-paginator",16,17),e.qZA(),e.TgZ(27,"div",18)(28,"div",19)(29,"app-server-pagination",20),e.NdJ("loadMore",function(){return i.more()}),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("dataSource",i.companyDocList),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,ba)),e.xp6(4),e.Q6J("loaded",i.companyDocList.data.length)("count",i.count))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,O.NW,te.H,le.R,fe.e,aa.m]}),t})();function Na(t,a){if(1&t&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function qa(t,a){if(1&t&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}function Fa(t,a){if(1&t&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&t){const s=a.$implicit;e.Q6J("value",s.id),e.xp6(1),e.Oqu(s.name)}}let Ua=(()=>{const a=class{constructor(){this.onSearchChange=new w.x,this.onSearch=new w.x}ngOnInit(){this.filterForm=new l.cw({searchKey:new l.NI(""),companyId:new l.NI(""),docTypeId:new l.NI(""),mode:new l.NI(4,[l.kI.required]),expiryDays:new l.NI(null)}),this.valueChangeSub=this.filterForm.valueChanges.subscribe(o=>{this.onSearchChange.next(o)})}search(){this.onSearch.next()}resetFilter(){this.filterForm.patchValue({searchKey:"",companyId:"",docTypeId:"",mode:4,expiryDays:null})}ngOnDestroy(){this.valueChangeSub.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-doc-search-filter"]],inputs:{searchData:"searchData"},outputs:{onSearchChange:"onSearchChange",onSearch:"onSearch"},decls:36,vars:4,consts:[[1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","form-group"],["type","button","mat-button","","color","primary",1,"col-1","mt-2",3,"click"],["appearance","outline","floatLabel","always",1,"form-field","col-1"],["type","number","placeholder","","matInput","","formControlName","expiryDays"],[1,"form-field","col-3"],["formControlName","companyId"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","col-2"],["formControlName","docTypeId"],["formControlName","mode"],["appearance","outline","floatLabel","always",1,"form-field","col-2"],["type","search","placeholder","","matInput","","formControlName","searchKey"],[1,"col-1"],["type","submit","mat-raised-button","","color","primary",1,"col-12","offset-0","mt-2"],[1,"material-icons"],[3,"value"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.search()}),e.TgZ(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.resetFilter()}),e._uU(3,"Reset"),e.qZA(),e.TgZ(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Expire In"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"mat-form-field",5)(9,"mat-label"),e._uU(10,"Company"),e.qZA(),e.TgZ(11,"mat-select",6)(12,"mat-option",7),e._uU(13,"All"),e.qZA(),e.YNc(14,Na,2,2,"mat-option",8),e.qZA()(),e.TgZ(15,"mat-form-field",9)(16,"mat-label"),e._uU(17,"Doc Type"),e.qZA(),e.TgZ(18,"mat-select",10)(19,"mat-option",7),e._uU(20,"All"),e.qZA(),e.YNc(21,qa,2,2,"mat-option",8),e.qZA()(),e.TgZ(22,"mat-form-field",9)(23,"mat-label"),e._uU(24,"Mode"),e.qZA(),e.TgZ(25,"mat-select",11),e.YNc(26,Fa,2,2,"mat-option",8),e.qZA()(),e.TgZ(27,"mat-form-field",12)(28,"mat-label"),e._uU(29,"Search"),e.qZA(),e._UZ(30,"input",13),e.qZA(),e.TgZ(31,"div",14)(32,"button",15)(33,"i",16),e._uU(34,"search"),e.qZA(),e._uU(35," Search"),e.qZA()()()()),2&n&&(e.Q6J("formGroup",i.filterForm),e.xp6(14),e.Q6J("ngForOf",i.searchData.companyList),e.xp6(7),e.Q6J("ngForOf",i.searchData.docTypeList),e.xp6(5),e.Q6J("ngForOf",i.searchData.searchModeList))},dependencies:[_.sg,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,D.KE,D.hX,J.Nt,W.lW,j.gD,X.ey]}),t})();function Ja(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-company-doc-search-filter",3),e.NdJ("onSearchChange",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.changeSearchData(n))})("onSearch",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.getList())}),e.qZA()}if(2&t){const s=e.oxw();e.Q6J("searchData",s.searchData)}}function Ma(t,a){1&t&&(e.TgZ(0,"div",4)(1,"a",5),e._uU(2," Back to Company "),e.qZA()())}function Qa(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"app-company-doc-list",6),e.NdJ("moreEvent",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.getList())})("viewDocEvent",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.viewDoc(n))})("downloadDocEvent",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.downloadDoc(n))})("removeDocFileEvent",function(n){e.CHM(s);const i=e.oxw();return e.KtG(i.removeDocFile(n))}),e.qZA()}if(2&t){const s=e.oxw();e.Q6J("companyDocList",s.dataSource)("count",s.count)}}const Ya=[{path:"company/category",component:ke},{path:"company",component:bn},{path:"company/doc",component:(()=>{const a=class{constructor(o,n,i,r){this.companyDocService=o,this.companyService=n,this.fileService=i,this.menuRoleService=r,this.isLoaded=!1,this.req=new oa,this.eList=[],this.count=0,this.viewCompany=!1}ngOnInit(){this.isLoaded=!1,this.sub=this.companyDocService.getCompanyDocSearchData().pipe((0,V.w)(o=>(this.searchData=o.item,this.isLoaded=!0,this.dataSource=new m.by(this.eList),this.req.pagination.pageSize=10,this.companyDocService.getCompanyDocList(this.req)))).subscribe(o=>{this.viewCompany=this.menuRoleService.isMenuRoleAuthorizedSingle(y.w.Company_Employee_Master,h.k.view),this.update(o)})}ngAfterViewInit(){}changeSearchData(o){console.log(o),this.eList=[],this.dataSource=new m.by(this.eList),this.req.searchKey=o.searchKey,this.req.companyId=""!=o.companyId?o.companyId:null,this.req.docTypeId=""!=o.docTypeId?o.docTypeId:null,this.req.mode=o.mode,this.req.expiryDays=o.expiryDays,this.req.pagination.pageNumber=1}refreshList(){this.eList=[],this.dataSource=new m.by(this.eList),this.req.pagination.pageNumber=1,this.getList()}update(o){o?.response?.status==d.s.success&&(this.eList.push.apply(this.eList,o.list),this.dataSource=new m.by(this.eList),this.count=o.totalRecords,o.list.length>0&&(this.req.pagination.pageNumber+=1))}getList(){this.sub=this.companyDocService.getCompanyDocList(this.req).subscribe(o=>{this.update(o)})}viewDoc(o){var n=this;this.sub=this.companyDocService.exportCompanyDoc(o.id).subscribe(function(){var i=(0,ee.Z)(function*(r){n.fileService.viewFile(r)});return function(r){return i.apply(this,arguments)}}())}downloadDoc(o){var n=this;let i=this.searchData.docTypeList.find(p=>p.id==o.documentType.id),r=`${o.company.code}_${i.code}`;null!=o.identifier&&(r=`${r}_${o.identifier}`),this.sub=this.companyDocService.exportCompanyDoc(o.id).subscribe(function(){var p=(0,ee.Z)(function*(g){n.fileService.downloadFile(g,r)});return function(g){return p.apply(this,arguments)}}())}removeDocFile(o){confirm(v.J.areYouSureTo)&&(this.sub=this.companyDocService.removeCompanyDocFile(o.id).subscribe(n=>{this.refreshList()}))}ngOnDestroy(){this.sub?.unsubscribe()}};let t=a;return a.\u0275fac=function(n){return new(n||a)(e.Y36(ae),e.Y36(z),e.Y36(_e.I),e.Y36(b.K))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-doc"]],decls:3,vars:3,consts:[[3,"searchData","onSearchChange","onSearch",4,"ngIf"],["class","row my-2 ps-3",4,"ngIf"],[3,"companyDocList","count","moreEvent","viewDocEvent","downloadDocEvent","removeDocFileEvent",4,"ngIf"],[3,"searchData","onSearchChange","onSearch"],[1,"row","my-2","ps-3"],["mat-button","","routerLink","/master/employee/company","routerLinkActive","active",1,"nav-link","col-2"],[3,"companyDocList","count","moreEvent","viewDocEvent","downloadDocEvent","removeDocFileEvent"]],template:function(n,i){1&n&&(e.YNc(0,Ja,1,1,"app-company-doc-search-filter",0),e.YNc(1,Ma,3,0,"div",1),e.YNc(2,Qa,1,2,"app-company-doc-list",2)),2&n&&(e.Q6J("ngIf",i.isLoaded),e.xp6(1),e.Q6J("ngIf",i.viewCompany),e.xp6(1),e.Q6J("ngIf",i.isLoaded))},dependencies:[_.O5,W.zs,f.rH,f.Od,La,Ua]}),t})()},{path:"group",component:Vn},{path:"designation",component:go},{path:"document/type",component:ta}];let Sa=(()=>{const a=class{};let t=a;return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[f.Bz.forChild(Ya)]}),t})();var Ra=c(3214),Oa=c(1260);let Ga=(()=>{const a=class{};let t=a;return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[_.ez,Sa,l.u5,l.UX,Ce.JF,Ra._,Oa.m,f.Bz]}),t})()},5894:(F,Z,c)=>{c.d(Z,{m:()=>h});var _=c(7579),f=c(4650),m=c(4859),y=c(7392);const v=["*"];let h=(()=>{const T=class{constructor(){this.color="primary",this.actionEvent=new _.x}submit(){this.actionEvent.next(this.item)}};let d=T;return T.\u0275fac=function(x){return new(x||T)},T.\u0275cmp=f.Xpm({type:T,selectors:[["app-action-icon"]],inputs:{item:"item",color:"color"},outputs:{actionEvent:"actionEvent"},ngContentSelectors:v,decls:3,vars:1,consts:[["mat-mini-fab","",1,"ms-1",3,"color","click"]],template:function(x,A){1&x&&(f.F$t(),f.TgZ(0,"button",0),f.NdJ("click",function(){return A.submit()}),f.TgZ(1,"mat-icon"),f.Hsn(2),f.qZA()()),2&x&&f.s9C("color",A.color)},dependencies:[m.nh,y.Hw]}),d})()},1234:(F,Z,c)=>{c.d(Z,{E:()=>v});var _=c(7579),f=c(4650),m=c(4859),y=c(7392);let v=(()=>{const d=class{constructor(){this.addEvent=new _.x}addItem(){this.addEvent.next()}};let h=d;return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=f.Xpm({type:d,selectors:[["app-add-action-icon"]],outputs:{addEvent:"addEvent"},decls:3,vars:0,consts:[["type","button","mat-mini-fab","","color","primary",1,"ms-1",3,"click"]],template:function(u,x){1&u&&(f.TgZ(0,"button",0),f.NdJ("click",function(){return x.addItem()}),f.TgZ(1,"mat-icon"),f._uU(2,"add"),f.qZA()())},dependencies:[m.nh,y.Hw]}),h})()},7786:(F,Z,c)=>{c.d(Z,{W:()=>y});var _=c(7579),f=c(4650),m=c(4859);let y=(()=>{const h=class{constructor(){this.disabled=!1,this.editEvent=new _.x}editItem(){this.editEvent.next()}};let v=h;return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=f.Xpm({type:h,selectors:[["app-crud-edit-button"]],inputs:{disabled:"disabled"},outputs:{editEvent:"editEvent"},decls:2,vars:1,consts:[["type","submit","mat-raised-button","","color","primary",1,"col-12","my-2",3,"disabled","click"]],template:function(l,u){1&l&&(f.TgZ(0,"button",0),f.NdJ("click",function(){return u.editItem()}),f._uU(1,"Edit"),f.qZA()),2&l&&f.Q6J("disabled",u.disabled)},dependencies:[m.lW]}),v})()},8922:(F,Z,c)=>{c.d(Z,{e:()=>v});var _=c(7579),f=c(4650),m=c(4859),y=c(7392);let v=(()=>{const d=class{constructor(){this.downloadEvent=new _.x}downloadItem(){this.downloadEvent.next(this.item)}};let h=d;return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=f.Xpm({type:d,selectors:[["app-download-action-icon"]],inputs:{item:"item"},outputs:{downloadEvent:"downloadEvent"},decls:3,vars:0,consts:[["mat-mini-fab","","color","primary",1,"ms-1",3,"click"]],template:function(u,x){1&u&&(f.TgZ(0,"button",0),f.NdJ("click",function(){return x.downloadItem()}),f.TgZ(1,"mat-icon"),f._uU(2,"download"),f.qZA()())},dependencies:[m.nh,y.Hw]}),h})()},7268:(F,Z,c)=>{c.d(Z,{R:()=>v});var _=c(7579),f=c(4650),m=c(4859),y=c(7392);let v=(()=>{const d=class{constructor(){this.viewEvent=new _.x}viewItem(){this.viewEvent.next(this.item)}};let h=d;return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=f.Xpm({type:d,selectors:[["app-view-action-icon"]],inputs:{item:"item"},outputs:{viewEvent:"viewEvent"},decls:3,vars:0,consts:[["mat-mini-fab","","color","primary",1,"ms-1",3,"click"]],template:function(u,x){1&u&&(f.TgZ(0,"button",0),f.NdJ("click",function(){return x.viewItem()}),f.TgZ(1,"mat-icon"),f._uU(2,"visibility"),f.qZA()())},dependencies:[m.nh,y.Hw]}),h})()},6523:(F,Z,c)=>{c.d(Z,{r:()=>x});var _=c(9399),f=c(676),m=c(9172),y=c(1654),v=c(3953),h=c(7579),d=c(5311),T=c(4650),l=c(1219),u=c(1635);let x=(()=>{const N=class{constructor(e,C){this.menuRoleService=e,this.router=C,this.reportEvent=new h.x}reportDownloading(){this.reportEvent.next(d.J.downloading)}reportDownloaded(){this.reportEvent.next(d.J.downloaded)}get viewEmployeeReport(){return this.menuRoleService.isMenuRoleAuthorized(f.O.menuRoleMap,m.w.EmployeeReport_Report_More,y.k.view)}get viewEmployeeDocReport(){return this.menuRoleService.isMenuRoleAuthorized(f.O.menuRoleMap,m.w.EmployeeDocReport_Report_More,y.k.view)}get employeeReportButtonList(){let e=[],C=new Map;return C.set(m.w.EmployeeReport_EmployeeReport_Report,new _.M(v.z.EmployeeReport_EmployeeReport_Report,"",()=>{this.router.navigate(["report","employee"])})),C.forEach((q,Y)=>{this.menuRoleService.isMenuRoleAuthorized(f.O.menuRoleMap,Y,y.k.export)&&e.push(q)}),e}get employeeDocReportButtonList(){let e=[],C=new Map;return C.set(m.w.EmployeeDocReport_EmployeeDocReport_Report,new _.M(v.z.EmployeeDocReport_EmployeeDocReport_Report,"",()=>{this.router.navigate(["report","employee","doc"])})),C.forEach((q,Y)=>{this.menuRoleService.isMenuRoleAuthorized(f.O.menuRoleMap,Y,y.k.export)&&e.push(q)}),e}};let A=N;return N.\u0275fac=function(C){return new(C||N)(T.LFG(l.K),T.LFG(u.F0))},N.\u0275prov=T.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),A})()},5659:(F,Z,c)=>{c.d(Z,{R:()=>m});var _=c(4650),f=c(6895);let m=(()=>{const v=class{constructor(d){this.pipe=d}formatToRequest(d){return this.pipe.transform(d,"yyyy-MM-dd")}formatToMonth(d){return this.pipe.transform(d,"yyyy-MMM")}responseFormatToDate(d){return new Date(d)}responseFormatToRequest(d){return this.formatToRequest(this.responseFormatToDate(d))}totalMonth(d,T){return T.getMonth()-d.getMonth()+12*(T.getFullYear()-d.getFullYear())}nextDay(d){return new Date(d.setDate(d.getDate()+1))}prevDay(d){return new Date(d.setDate(d.getDate()-1))}get Today(){var d=new Date;return new Date(d.getFullYear(),d.getMonth(),d.getDate())}get Tomorrow(){var d=new Date;return new Date(d.setDate(d.getDate()+1))}get Yesterday(){var d=new Date;return new Date(d.setDate(d.getDate()-1))}get NextYear(){return new Date((new Date).getFullYear()+1,0,1)}};let y=v;return v.\u0275fac=function(T){return new(T||v)(_.LFG(f.uU))},v.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),y})()},8064:(F,Z,c)=>{c.d(Z,{I:()=>m});var _=c(4650),f=c(6523);let m=(()=>{const v=class{constructor(d){this.reportService=d}viewFile(d){const T=new Blob([d.body],{type:d.body?.type});if(""!=T.type){const l=window.URL.createObjectURL(T);window.open(l)}}downloadFile(d,T){const l=new Blob([d.body],{type:d.body?.type});if(""!=l.type){const u=document.createElement("a");u.setAttribute("style","display:none;"),document.body.appendChild(u),u.download=T,u.href=URL.createObjectURL(l),u.target="_blank",u.click(),document.body.removeChild(u),this.reportService.reportDownloaded(),setTimeout(()=>{this.reportService.reportEvent.next("")},3e3)}}};let y=v;return v.\u0275fac=function(T){return new(T||v)(_.LFG(f.r))},v.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),y})()},5861:(F,Z,c)=>{function _(m,y,v,h,d,T,l){try{var u=m[T](l),x=u.value}catch(A){return void v(A)}u.done?y(x):Promise.resolve(x).then(h,d)}function f(m){return function(){var y=this,v=arguments;return new Promise(function(h,d){var T=m.apply(y,v);function l(x){_(T,h,d,l,u,"next",x)}function u(x){_(T,h,d,l,u,"throw",x)}l(void 0)})}}c.d(Z,{Z:()=>f})}}]);